function t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function n(t,e){return t(e={exports:{}},e.exports),e.exports}function i(t){return t&&t.default||t}var a=n((function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports}));r(a);var o=n((function(t,e){var r;r=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/js/",r(r.s=0)}([function(t,e,r){r.r(e);var n=r(12);r.d(e,"Renderer",(function(){return n.default}));var i=r(56);r.d(e,"Figure2D",(function(){return i.default}));var a=r(73);r.d(e,"Mesh2D",(function(){return a.default}));var o=r(45);r.d(e,"MeshCloud",(function(){return o.default}));var s=r(39);r.d(e,"parseFont",(function(){return s.default}));var u=r(47);r.d(e,"parseColor",(function(){return u.default}));var l=r(37);r.d(e,"ENV",(function(){return l.default})),r(1).glMatrix.setMatrixArrayType(Array)},function(t,e,r){r.r(e);var n=r(2);r.d(e,"glMatrix",(function(){return n}));var i=r(3);r.d(e,"mat2",(function(){return i}));var a=r(4);r.d(e,"mat2d",(function(){return a}));var o=r(5);r.d(e,"mat3",(function(){return o}));var s=r(6);r.d(e,"mat4",(function(){return s}));var u=r(7);r.d(e,"quat",(function(){return u}));var l=r(10);r.d(e,"quat2",(function(){return l}));var c=r(11);r.d(e,"vec2",(function(){return c}));var f=r(8);r.d(e,"vec3",(function(){return f}));var h=r(9);r.d(e,"vec4",(function(){return h}))},function(t,e,r){r.r(e),r.d(e,"EPSILON",(function(){return n})),r.d(e,"ARRAY_TYPE",(function(){return i})),r.d(e,"RANDOM",(function(){return a})),r.d(e,"setMatrixArrayType",(function(){return o})),r.d(e,"toRadian",(function(){return u})),r.d(e,"equals",(function(){return l}));var n=1e-6,i="undefined"!=typeof Float32Array?Float32Array:Array,a=Math.random;function o(t){i=t}var s=Math.PI/180;function u(t){return t*s}function l(t,e){return Math.abs(t-e)<=n*Math.max(1,Math.abs(t),Math.abs(e))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},function(t,e,r){r.r(e),r.d(e,"create",(function(){return i})),r.d(e,"clone",(function(){return a})),r.d(e,"copy",(function(){return o})),r.d(e,"identity",(function(){return s})),r.d(e,"fromValues",(function(){return u})),r.d(e,"set",(function(){return l})),r.d(e,"transpose",(function(){return c})),r.d(e,"invert",(function(){return f})),r.d(e,"adjoint",(function(){return h})),r.d(e,"determinant",(function(){return d})),r.d(e,"multiply",(function(){return p})),r.d(e,"rotate",(function(){return v})),r.d(e,"scale",(function(){return g})),r.d(e,"fromRotation",(function(){return y})),r.d(e,"fromScaling",(function(){return m})),r.d(e,"str",(function(){return b})),r.d(e,"frob",(function(){return x})),r.d(e,"LDU",(function(){return M})),r.d(e,"add",(function(){return w})),r.d(e,"subtract",(function(){return A})),r.d(e,"exactEquals",(function(){return k})),r.d(e,"equals",(function(){return _})),r.d(e,"multiplyScalar",(function(){return S})),r.d(e,"multiplyScalarAndAdd",(function(){return E})),r.d(e,"mul",(function(){return R})),r.d(e,"sub",(function(){return T}));var n=r(2);function i(){var t=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function a(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function u(t,e,r,i){var a=new n.ARRAY_TYPE(4);return a[0]=t,a[1]=e,a[2]=r,a[3]=i,a}function l(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function c(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function f(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*a-i*n;return o?(o=1/o,t[0]=a*o,t[1]=-n*o,t[2]=-i*o,t[3]=r*o,t):null}function h(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t}function d(t){return t[0]*t[3]-t[2]*t[1]}function p(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[0],u=r[1],l=r[2],c=r[3];return t[0]=n*s+a*u,t[1]=i*s+o*u,t[2]=n*l+a*c,t[3]=i*l+o*c,t}function v(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+a*s,t[1]=i*u+o*s,t[2]=n*-s+a*u,t[3]=i*-s+o*u,t}function g(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[0],u=r[1];return t[0]=n*s,t[1]=i*s,t[2]=a*u,t[3]=o*u,t}function y(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t}function m(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function b(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function x(t){return Math.hypot(t[0],t[1],t[2],t[3])}function M(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]}function w(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function A(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function k(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function _(t,e){var r=t[0],i=t[1],a=t[2],o=t[3],s=e[0],u=e[1],l=e[2],c=e[3];return Math.abs(r-s)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-l)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-c)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}function S(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function E(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}var R=p,T=A},function(t,e,r){r.r(e),r.d(e,"create",(function(){return i})),r.d(e,"clone",(function(){return a})),r.d(e,"copy",(function(){return o})),r.d(e,"identity",(function(){return s})),r.d(e,"fromValues",(function(){return u})),r.d(e,"set",(function(){return l})),r.d(e,"invert",(function(){return c})),r.d(e,"determinant",(function(){return f})),r.d(e,"multiply",(function(){return h})),r.d(e,"rotate",(function(){return d})),r.d(e,"scale",(function(){return p})),r.d(e,"translate",(function(){return v})),r.d(e,"fromRotation",(function(){return g})),r.d(e,"fromScaling",(function(){return y})),r.d(e,"fromTranslation",(function(){return m})),r.d(e,"str",(function(){return b})),r.d(e,"frob",(function(){return x})),r.d(e,"add",(function(){return M})),r.d(e,"subtract",(function(){return w})),r.d(e,"multiplyScalar",(function(){return A})),r.d(e,"multiplyScalarAndAdd",(function(){return k})),r.d(e,"exactEquals",(function(){return _})),r.d(e,"equals",(function(){return S})),r.d(e,"mul",(function(){return E})),r.d(e,"sub",(function(){return R}));var n=r(2);function i(){var t=new n.ARRAY_TYPE(6);return n.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function a(t){var e=new n.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function u(t,e,r,i,a,o){var s=new n.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=r,s[3]=i,s[4]=a,s[5]=o,s}function l(t,e,r,n,i,a,o){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t}function c(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=r*a-n*i;return u?(u=1/u,t[0]=a*u,t[1]=-n*u,t[2]=-i*u,t[3]=r*u,t[4]=(i*s-a*o)*u,t[5]=(n*o-r*s)*u,t):null}function f(t){return t[0]*t[3]-t[1]*t[2]}function h(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=r[0],c=r[1],f=r[2],h=r[3],d=r[4],p=r[5];return t[0]=n*l+a*c,t[1]=i*l+o*c,t[2]=n*f+a*h,t[3]=i*f+o*h,t[4]=n*d+a*p+s,t[5]=i*d+o*p+u,t}function d(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=Math.sin(r),c=Math.cos(r);return t[0]=n*c+a*l,t[1]=i*c+o*l,t[2]=n*-l+a*c,t[3]=i*-l+o*c,t[4]=s,t[5]=u,t}function p(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=r[0],c=r[1];return t[0]=n*l,t[1]=i*l,t[2]=a*c,t[3]=o*c,t[4]=s,t[5]=u,t}function v(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=r[0],c=r[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=n*l+a*c+s,t[5]=i*l+o*c+u,t}function g(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t}function y(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function m(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function b(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function x(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function M(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t}function w(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t}function A(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t}function k(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t}function _(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function S(t,e){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=e[0],c=e[1],f=e[2],h=e[3],d=e[4],p=e[5];return Math.abs(r-l)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-c)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-f)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-h)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(s-d)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(u-p)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(p))}var E=h,R=w},function(t,e,r){r.r(e),r.d(e,"create",(function(){return i})),r.d(e,"fromMat4",(function(){return a})),r.d(e,"clone",(function(){return o})),r.d(e,"copy",(function(){return s})),r.d(e,"fromValues",(function(){return u})),r.d(e,"set",(function(){return l})),r.d(e,"identity",(function(){return c})),r.d(e,"transpose",(function(){return f})),r.d(e,"invert",(function(){return h})),r.d(e,"adjoint",(function(){return d})),r.d(e,"determinant",(function(){return p})),r.d(e,"multiply",(function(){return v})),r.d(e,"translate",(function(){return g})),r.d(e,"rotate",(function(){return y})),r.d(e,"scale",(function(){return m})),r.d(e,"fromTranslation",(function(){return b})),r.d(e,"fromRotation",(function(){return x})),r.d(e,"fromScaling",(function(){return M})),r.d(e,"fromMat2d",(function(){return w})),r.d(e,"fromQuat",(function(){return A})),r.d(e,"normalFromMat4",(function(){return k})),r.d(e,"projection",(function(){return _})),r.d(e,"str",(function(){return S})),r.d(e,"frob",(function(){return E})),r.d(e,"add",(function(){return R})),r.d(e,"subtract",(function(){return T})),r.d(e,"multiplyScalar",(function(){return O})),r.d(e,"multiplyScalarAndAdd",(function(){return C})),r.d(e,"exactEquals",(function(){return L})),r.d(e,"equals",(function(){return P})),r.d(e,"mul",(function(){return D})),r.d(e,"sub",(function(){return q}));var n=r(2);function i(){var t=new n.ARRAY_TYPE(9);return n.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function o(t){var e=new n.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function u(t,e,r,i,a,o,s,u,l){var c=new n.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=r,c[3]=i,c[4]=a,c[5]=o,c[6]=s,c[7]=u,c[8]=l,c}function l(t,e,r,n,i,a,o,s,u,l){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t[8]=l,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function f(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function h(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=c*o-s*l,h=-c*a+s*u,d=l*a-o*u,p=r*f+n*h+i*d;return p?(p=1/p,t[0]=f*p,t[1]=(-c*n+i*l)*p,t[2]=(s*n-i*o)*p,t[3]=h*p,t[4]=(c*r-i*u)*p,t[5]=(-s*r+i*a)*p,t[6]=d*p,t[7]=(-l*r+n*u)*p,t[8]=(o*r-n*a)*p,t):null}function d(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8];return t[0]=o*c-s*l,t[1]=i*l-n*c,t[2]=n*s-i*o,t[3]=s*u-a*c,t[4]=r*c-i*u,t[5]=i*a-r*s,t[6]=a*l-o*u,t[7]=n*u-r*l,t[8]=r*o-n*a,t}function p(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],l=t[8];return e*(l*a-o*u)+r*(-l*i+o*s)+n*(u*i-a*s)}function v(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=r[0],d=r[1],p=r[2],v=r[3],g=r[4],y=r[5],m=r[6],b=r[7],x=r[8];return t[0]=h*n+d*o+p*l,t[1]=h*i+d*s+p*c,t[2]=h*a+d*u+p*f,t[3]=v*n+g*o+y*l,t[4]=v*i+g*s+y*c,t[5]=v*a+g*u+y*f,t[6]=m*n+b*o+x*l,t[7]=m*i+b*s+x*c,t[8]=m*a+b*u+x*f,t}function g(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=r[0],d=r[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=h*n+d*o+l,t[7]=h*i+d*s+c,t[8]=h*a+d*u+f,t}function y(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=Math.sin(r),d=Math.cos(r);return t[0]=d*n+h*o,t[1]=d*i+h*s,t[2]=d*a+h*u,t[3]=d*o-h*n,t[4]=d*s-h*i,t[5]=d*u-h*a,t[6]=l,t[7]=c,t[8]=f,t}function m(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function b(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function x(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function M(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function w(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function A(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r+r,s=n+n,u=i+i,l=r*o,c=n*o,f=n*s,h=i*o,d=i*s,p=i*u,v=a*o,g=a*s,y=a*u;return t[0]=1-f-p,t[3]=c-y,t[6]=h+g,t[1]=c+y,t[4]=1-l-p,t[7]=d-v,t[2]=h-g,t[5]=d+v,t[8]=1-l-f,t}function k(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],g=e[14],y=e[15],m=r*s-n*o,b=r*u-i*o,x=r*l-a*o,M=n*u-i*s,w=n*l-a*s,A=i*l-a*u,k=c*v-f*p,_=c*g-h*p,S=c*y-d*p,E=f*g-h*v,R=f*y-d*v,T=h*y-d*g,O=m*T-b*R+x*E+M*S-w*_+A*k;return O?(O=1/O,t[0]=(s*T-u*R+l*E)*O,t[1]=(u*S-o*T-l*_)*O,t[2]=(o*R-s*S+l*k)*O,t[3]=(i*R-n*T-a*E)*O,t[4]=(r*T-i*S+a*_)*O,t[5]=(n*S-r*R-a*k)*O,t[6]=(v*A-g*w+y*M)*O,t[7]=(g*x-p*A-y*b)*O,t[8]=(p*w-v*x+y*m)*O,t):null}function _(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function S(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function E(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function R(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t}function T(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}function O(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t}function C(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t}function L(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function P(t,e){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=e[0],d=e[1],p=e[2],v=e[3],g=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return Math.abs(r-h)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-d)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(a-p)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(o-v)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(s-g)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(u-y)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(l-m)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(c-b)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-x)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(x))}var D=v,q=T},function(t,e,r){r.r(e),r.d(e,"create",(function(){return i})),r.d(e,"clone",(function(){return a})),r.d(e,"copy",(function(){return o})),r.d(e,"fromValues",(function(){return s})),r.d(e,"set",(function(){return u})),r.d(e,"identity",(function(){return l})),r.d(e,"transpose",(function(){return c})),r.d(e,"invert",(function(){return f})),r.d(e,"adjoint",(function(){return h})),r.d(e,"determinant",(function(){return d})),r.d(e,"multiply",(function(){return p})),r.d(e,"translate",(function(){return v})),r.d(e,"scale",(function(){return g})),r.d(e,"rotate",(function(){return y})),r.d(e,"rotateX",(function(){return m})),r.d(e,"rotateY",(function(){return b})),r.d(e,"rotateZ",(function(){return x})),r.d(e,"fromTranslation",(function(){return M})),r.d(e,"fromScaling",(function(){return w})),r.d(e,"fromRotation",(function(){return A})),r.d(e,"fromXRotation",(function(){return k})),r.d(e,"fromYRotation",(function(){return _})),r.d(e,"fromZRotation",(function(){return S})),r.d(e,"fromRotationTranslation",(function(){return E})),r.d(e,"fromQuat2",(function(){return R})),r.d(e,"getTranslation",(function(){return T})),r.d(e,"getScaling",(function(){return O})),r.d(e,"getRotation",(function(){return C})),r.d(e,"fromRotationTranslationScale",(function(){return L})),r.d(e,"fromRotationTranslationScaleOrigin",(function(){return P})),r.d(e,"fromQuat",(function(){return D})),r.d(e,"frustum",(function(){return q})),r.d(e,"perspective",(function(){return j})),r.d(e,"perspectiveFromFieldOfView",(function(){return I})),r.d(e,"ortho",(function(){return N})),r.d(e,"lookAt",(function(){return F})),r.d(e,"targetTo",(function(){return U})),r.d(e,"str",(function(){return B})),r.d(e,"frob",(function(){return V})),r.d(e,"add",(function(){return z})),r.d(e,"subtract",(function(){return G})),r.d(e,"multiplyScalar",(function(){return H})),r.d(e,"multiplyScalarAndAdd",(function(){return Y})),r.d(e,"exactEquals",(function(){return W})),r.d(e,"equals",(function(){return X})),r.d(e,"mul",(function(){return J})),r.d(e,"sub",(function(){return $}));var n=r(2);function i(){var t=new n.ARRAY_TYPE(16);return n.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function a(t){var e=new n.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function s(t,e,r,i,a,o,s,u,l,c,f,h,d,p,v,g){var y=new n.ARRAY_TYPE(16);return y[0]=t,y[1]=e,y[2]=r,y[3]=i,y[4]=a,y[5]=o,y[6]=s,y[7]=u,y[8]=l,y[9]=c,y[10]=f,y[11]=h,y[12]=d,y[13]=p,y[14]=v,y[15]=g,y}function u(t,e,r,n,i,a,o,s,u,l,c,f,h,d,p,v,g){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t[8]=l,t[9]=c,t[10]=f,t[11]=h,t[12]=d,t[13]=p,t[14]=v,t[15]=g,t}function l(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function c(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function f(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],g=e[14],y=e[15],m=r*s-n*o,b=r*u-i*o,x=r*l-a*o,M=n*u-i*s,w=n*l-a*s,A=i*l-a*u,k=c*v-f*p,_=c*g-h*p,S=c*y-d*p,E=f*g-h*v,R=f*y-d*v,T=h*y-d*g,O=m*T-b*R+x*E+M*S-w*_+A*k;return O?(O=1/O,t[0]=(s*T-u*R+l*E)*O,t[1]=(i*R-n*T-a*E)*O,t[2]=(v*A-g*w+y*M)*O,t[3]=(h*w-f*A-d*M)*O,t[4]=(u*S-o*T-l*_)*O,t[5]=(r*T-i*S+a*_)*O,t[6]=(g*x-p*A-y*b)*O,t[7]=(c*A-h*x+d*b)*O,t[8]=(o*R-s*S+l*k)*O,t[9]=(n*S-r*R-a*k)*O,t[10]=(p*w-v*x+y*m)*O,t[11]=(f*x-c*w-d*m)*O,t[12]=(s*_-o*E-u*k)*O,t[13]=(r*E-n*_+i*k)*O,t[14]=(v*b-p*M-g*m)*O,t[15]=(c*M-f*b+h*m)*O,t):null}function h(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],g=e[14],y=e[15];return t[0]=s*(h*y-d*g)-f*(u*y-l*g)+v*(u*d-l*h),t[1]=-(n*(h*y-d*g)-f*(i*y-a*g)+v*(i*d-a*h)),t[2]=n*(u*y-l*g)-s*(i*y-a*g)+v*(i*l-a*u),t[3]=-(n*(u*d-l*h)-s*(i*d-a*h)+f*(i*l-a*u)),t[4]=-(o*(h*y-d*g)-c*(u*y-l*g)+p*(u*d-l*h)),t[5]=r*(h*y-d*g)-c*(i*y-a*g)+p*(i*d-a*h),t[6]=-(r*(u*y-l*g)-o*(i*y-a*g)+p*(i*l-a*u)),t[7]=r*(u*d-l*h)-o*(i*d-a*h)+c*(i*l-a*u),t[8]=o*(f*y-d*v)-c*(s*y-l*v)+p*(s*d-l*f),t[9]=-(r*(f*y-d*v)-c*(n*y-a*v)+p*(n*d-a*f)),t[10]=r*(s*y-l*v)-o*(n*y-a*v)+p*(n*l-a*s),t[11]=-(r*(s*d-l*f)-o*(n*d-a*f)+c*(n*l-a*s)),t[12]=-(o*(f*g-h*v)-c*(s*g-u*v)+p*(s*h-u*f)),t[13]=r*(f*g-h*v)-c*(n*g-i*v)+p*(n*h-i*f),t[14]=-(r*(s*g-u*v)-o*(n*g-i*v)+p*(n*u-i*s)),t[15]=r*(s*h-u*f)-o*(n*h-i*f)+c*(n*u-i*s),t}function d(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],h=t[11],d=t[12],p=t[13],v=t[14],g=t[15];return(e*o-r*a)*(f*g-h*v)-(e*s-n*a)*(c*g-h*p)+(e*u-i*a)*(c*v-f*p)+(r*s-n*o)*(l*g-h*d)-(r*u-i*o)*(l*v-f*d)+(n*u-i*s)*(l*p-c*d)}function p(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=e[9],d=e[10],p=e[11],v=e[12],g=e[13],y=e[14],m=e[15],b=r[0],x=r[1],M=r[2],w=r[3];return t[0]=b*n+x*s+M*f+w*v,t[1]=b*i+x*u+M*h+w*g,t[2]=b*a+x*l+M*d+w*y,t[3]=b*o+x*c+M*p+w*m,b=r[4],x=r[5],M=r[6],w=r[7],t[4]=b*n+x*s+M*f+w*v,t[5]=b*i+x*u+M*h+w*g,t[6]=b*a+x*l+M*d+w*y,t[7]=b*o+x*c+M*p+w*m,b=r[8],x=r[9],M=r[10],w=r[11],t[8]=b*n+x*s+M*f+w*v,t[9]=b*i+x*u+M*h+w*g,t[10]=b*a+x*l+M*d+w*y,t[11]=b*o+x*c+M*p+w*m,b=r[12],x=r[13],M=r[14],w=r[15],t[12]=b*n+x*s+M*f+w*v,t[13]=b*i+x*u+M*h+w*g,t[14]=b*a+x*l+M*d+w*y,t[15]=b*o+x*c+M*p+w*m,t}function v(t,e,r){var n,i,a,o,s,u,l,c,f,h,d,p,v=r[0],g=r[1],y=r[2];return e===t?(t[12]=e[0]*v+e[4]*g+e[8]*y+e[12],t[13]=e[1]*v+e[5]*g+e[9]*y+e[13],t[14]=e[2]*v+e[6]*g+e[10]*y+e[14],t[15]=e[3]*v+e[7]*g+e[11]*y+e[15]):(n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=e[9],d=e[10],p=e[11],t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=f,t[9]=h,t[10]=d,t[11]=p,t[12]=n*v+s*g+f*y+e[12],t[13]=i*v+u*g+h*y+e[13],t[14]=a*v+l*g+d*y+e[14],t[15]=o*v+c*g+p*y+e[15]),t}function g(t,e,r){var n=r[0],i=r[1],a=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function y(t,e,r,i){var a,o,s,u,l,c,f,h,d,p,v,g,y,m,b,x,M,w,A,k,_,S,E,R,T=i[0],O=i[1],C=i[2],L=Math.hypot(T,O,C);return L<n.EPSILON?null:(T*=L=1/L,O*=L,C*=L,a=Math.sin(r),s=1-(o=Math.cos(r)),u=e[0],l=e[1],c=e[2],f=e[3],h=e[4],d=e[5],p=e[6],v=e[7],g=e[8],y=e[9],m=e[10],b=e[11],x=T*T*s+o,M=O*T*s+C*a,w=C*T*s-O*a,A=T*O*s-C*a,k=O*O*s+o,_=C*O*s+T*a,S=T*C*s+O*a,E=O*C*s-T*a,R=C*C*s+o,t[0]=u*x+h*M+g*w,t[1]=l*x+d*M+y*w,t[2]=c*x+p*M+m*w,t[3]=f*x+v*M+b*w,t[4]=u*A+h*k+g*_,t[5]=l*A+d*k+y*_,t[6]=c*A+p*k+m*_,t[7]=f*A+v*k+b*_,t[8]=u*S+h*E+g*R,t[9]=l*S+d*E+y*R,t[10]=c*S+p*E+m*R,t[11]=f*S+v*E+b*R,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function m(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+l*n,t[5]=o*i+c*n,t[6]=s*i+f*n,t[7]=u*i+h*n,t[8]=l*i-a*n,t[9]=c*i-o*n,t[10]=f*i-s*n,t[11]=h*i-u*n,t}function b(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],s=e[2],u=e[3],l=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-l*n,t[1]=o*i-c*n,t[2]=s*i-f*n,t[3]=u*i-h*n,t[8]=a*n+l*i,t[9]=o*n+c*i,t[10]=s*n+f*i,t[11]=u*n+h*i,t}function x(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],s=e[2],u=e[3],l=e[4],c=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+l*n,t[1]=o*i+c*n,t[2]=s*i+f*n,t[3]=u*i+h*n,t[4]=l*i-a*n,t[5]=c*i-o*n,t[6]=f*i-s*n,t[7]=h*i-u*n,t}function M(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function w(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function A(t,e,r){var i,a,o,s=r[0],u=r[1],l=r[2],c=Math.hypot(s,u,l);return c<n.EPSILON?null:(s*=c=1/c,u*=c,l*=c,i=Math.sin(e),o=1-(a=Math.cos(e)),t[0]=s*s*o+a,t[1]=u*s*o+l*i,t[2]=l*s*o-u*i,t[3]=0,t[4]=s*u*o-l*i,t[5]=u*u*o+a,t[6]=l*u*o+s*i,t[7]=0,t[8]=s*l*o+u*i,t[9]=u*l*o-s*i,t[10]=l*l*o+a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function k(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function S(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function E(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=n+n,u=i+i,l=a+a,c=n*s,f=n*u,h=n*l,d=i*u,p=i*l,v=a*l,g=o*s,y=o*u,m=o*l;return t[0]=1-(d+v),t[1]=f+m,t[2]=h-y,t[3]=0,t[4]=f-m,t[5]=1-(c+v),t[6]=p+g,t[7]=0,t[8]=h+y,t[9]=p-g,t[10]=1-(c+d),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function R(t,e){var r=new n.ARRAY_TYPE(3),i=-e[0],a=-e[1],o=-e[2],s=e[3],u=e[4],l=e[5],c=e[6],f=e[7],h=i*i+a*a+o*o+s*s;return h>0?(r[0]=2*(u*s+f*i+l*o-c*a)/h,r[1]=2*(l*s+f*a+c*i-u*o)/h,r[2]=2*(c*s+f*o+u*a-l*i)/h):(r[0]=2*(u*s+f*i+l*o-c*a),r[1]=2*(l*s+f*a+c*i-u*o),r[2]=2*(c*s+f*o+u*a-l*i)),E(t,e,r),t}function T(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function O(t,e){var r=e[0],n=e[1],i=e[2],a=e[4],o=e[5],s=e[6],u=e[8],l=e[9],c=e[10];return t[0]=Math.hypot(r,n,i),t[1]=Math.hypot(a,o,s),t[2]=Math.hypot(u,l,c),t}function C(t,e){var r=new n.ARRAY_TYPE(3);O(r,e);var i=1/r[0],a=1/r[1],o=1/r[2],s=e[0]*i,u=e[1]*a,l=e[2]*o,c=e[4]*i,f=e[5]*a,h=e[6]*o,d=e[8]*i,p=e[9]*a,v=e[10]*o,g=s+f+v,y=0;return g>0?(y=2*Math.sqrt(g+1),t[3]=.25*y,t[0]=(h-p)/y,t[1]=(d-l)/y,t[2]=(u-c)/y):s>f&&s>v?(y=2*Math.sqrt(1+s-f-v),t[3]=(h-p)/y,t[0]=.25*y,t[1]=(u+c)/y,t[2]=(d+l)/y):f>v?(y=2*Math.sqrt(1+f-s-v),t[3]=(d-l)/y,t[0]=(u+c)/y,t[1]=.25*y,t[2]=(h+p)/y):(y=2*Math.sqrt(1+v-s-f),t[3]=(u-c)/y,t[0]=(d+l)/y,t[1]=(h+p)/y,t[2]=.25*y),t}function L(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=e[3],u=i+i,l=a+a,c=o+o,f=i*u,h=i*l,d=i*c,p=a*l,v=a*c,g=o*c,y=s*u,m=s*l,b=s*c,x=n[0],M=n[1],w=n[2];return t[0]=(1-(p+g))*x,t[1]=(h+b)*x,t[2]=(d-m)*x,t[3]=0,t[4]=(h-b)*M,t[5]=(1-(f+g))*M,t[6]=(v+y)*M,t[7]=0,t[8]=(d+m)*w,t[9]=(v-y)*w,t[10]=(1-(f+p))*w,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function P(t,e,r,n,i){var a=e[0],o=e[1],s=e[2],u=e[3],l=a+a,c=o+o,f=s+s,h=a*l,d=a*c,p=a*f,v=o*c,g=o*f,y=s*f,m=u*l,b=u*c,x=u*f,M=n[0],w=n[1],A=n[2],k=i[0],_=i[1],S=i[2],E=(1-(v+y))*M,R=(d+x)*M,T=(p-b)*M,O=(d-x)*w,C=(1-(h+y))*w,L=(g+m)*w,P=(p+b)*A,D=(g-m)*A,q=(1-(h+v))*A;return t[0]=E,t[1]=R,t[2]=T,t[3]=0,t[4]=O,t[5]=C,t[6]=L,t[7]=0,t[8]=P,t[9]=D,t[10]=q,t[11]=0,t[12]=r[0]+k-(E*k+O*_+P*S),t[13]=r[1]+_-(R*k+C*_+D*S),t[14]=r[2]+S-(T*k+L*_+q*S),t[15]=1,t}function D(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r+r,s=n+n,u=i+i,l=r*o,c=n*o,f=n*s,h=i*o,d=i*s,p=i*u,v=a*o,g=a*s,y=a*u;return t[0]=1-f-p,t[1]=c+y,t[2]=h-g,t[3]=0,t[4]=c-y,t[5]=1-l-p,t[6]=d+v,t[7]=0,t[8]=h+g,t[9]=d-v,t[10]=1-l-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function q(t,e,r,n,i,a,o){var s=1/(r-e),u=1/(i-n),l=1/(a-o);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*u,t[6]=0,t[7]=0,t[8]=(r+e)*s,t[9]=(i+n)*u,t[10]=(o+a)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*l,t[15]=0,t}function j(t,e,r,n,i){var a,o=1/Math.tan(e/2);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(a=1/(n-i),t[10]=(i+n)*a,t[14]=2*i*n*a):(t[10]=-1,t[14]=-2*n),t}function I(t,e,r,n){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(o+s),l=2/(i+a);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-(o-s)*u*.5,t[9]=(i-a)*l*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}function N(t,e,r,n,i,a,o){var s=1/(e-r),u=1/(n-i),l=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+r)*s,t[13]=(i+n)*u,t[14]=(o+a)*l,t[15]=1,t}function F(t,e,r,i){var a,o,s,u,c,f,h,d,p,v,g=e[0],y=e[1],m=e[2],b=i[0],x=i[1],M=i[2],w=r[0],A=r[1],k=r[2];return Math.abs(g-w)<n.EPSILON&&Math.abs(y-A)<n.EPSILON&&Math.abs(m-k)<n.EPSILON?l(t):(h=g-w,d=y-A,p=m-k,a=x*(p*=v=1/Math.hypot(h,d,p))-M*(d*=v),o=M*(h*=v)-b*p,s=b*d-x*h,(v=Math.hypot(a,o,s))?(a*=v=1/v,o*=v,s*=v):(a=0,o=0,s=0),u=d*s-p*o,c=p*a-h*s,f=h*o-d*a,(v=Math.hypot(u,c,f))?(u*=v=1/v,c*=v,f*=v):(u=0,c=0,f=0),t[0]=a,t[1]=u,t[2]=h,t[3]=0,t[4]=o,t[5]=c,t[6]=d,t[7]=0,t[8]=s,t[9]=f,t[10]=p,t[11]=0,t[12]=-(a*g+o*y+s*m),t[13]=-(u*g+c*y+f*m),t[14]=-(h*g+d*y+p*m),t[15]=1,t)}function U(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=n[0],u=n[1],l=n[2],c=i-r[0],f=a-r[1],h=o-r[2],d=c*c+f*f+h*h;d>0&&(c*=d=1/Math.sqrt(d),f*=d,h*=d);var p=u*h-l*f,v=l*c-s*h,g=s*f-u*c;return(d=p*p+v*v+g*g)>0&&(p*=d=1/Math.sqrt(d),v*=d,g*=d),t[0]=p,t[1]=v,t[2]=g,t[3]=0,t[4]=f*g-h*v,t[5]=h*p-c*g,t[6]=c*v-f*p,t[7]=0,t[8]=c,t[9]=f,t[10]=h,t[11]=0,t[12]=i,t[13]=a,t[14]=o,t[15]=1,t}function B(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function V(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function z(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function G(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function H(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}function Y(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t}function W(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function X(t,e){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],v=t[12],g=t[13],y=t[14],m=t[15],b=e[0],x=e[1],M=e[2],w=e[3],A=e[4],k=e[5],_=e[6],S=e[7],E=e[8],R=e[9],T=e[10],O=e[11],C=e[12],L=e[13],P=e[14],D=e[15];return Math.abs(r-b)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-x)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(a-M)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(o-w)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(s-A)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(u-k)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(l-_)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(c-S)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(S))&&Math.abs(f-E)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(h-R)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(R))&&Math.abs(d-T)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(T))&&Math.abs(p-O)<=n.EPSILON*Math.max(1,Math.abs(p),Math.abs(O))&&Math.abs(v-C)<=n.EPSILON*Math.max(1,Math.abs(v),Math.abs(C))&&Math.abs(g-L)<=n.EPSILON*Math.max(1,Math.abs(g),Math.abs(L))&&Math.abs(y-P)<=n.EPSILON*Math.max(1,Math.abs(y),Math.abs(P))&&Math.abs(m-D)<=n.EPSILON*Math.max(1,Math.abs(m),Math.abs(D))}var J=p,$=G},function(t,e,r){r.r(e),r.d(e,"create",(function(){return s})),r.d(e,"identity",(function(){return u})),r.d(e,"setAxisAngle",(function(){return l})),r.d(e,"getAxisAngle",(function(){return c})),r.d(e,"getAngle",(function(){return f})),r.d(e,"multiply",(function(){return h})),r.d(e,"rotateX",(function(){return d})),r.d(e,"rotateY",(function(){return p})),r.d(e,"rotateZ",(function(){return v})),r.d(e,"calculateW",(function(){return g})),r.d(e,"exp",(function(){return y})),r.d(e,"ln",(function(){return m})),r.d(e,"pow",(function(){return b})),r.d(e,"slerp",(function(){return x})),r.d(e,"random",(function(){return M})),r.d(e,"invert",(function(){return w})),r.d(e,"conjugate",(function(){return A})),r.d(e,"fromMat3",(function(){return k})),r.d(e,"fromEuler",(function(){return _})),r.d(e,"str",(function(){return S})),r.d(e,"clone",(function(){return P})),r.d(e,"fromValues",(function(){return D})),r.d(e,"copy",(function(){return q})),r.d(e,"set",(function(){return j})),r.d(e,"add",(function(){return I})),r.d(e,"mul",(function(){return N})),r.d(e,"scale",(function(){return F})),r.d(e,"dot",(function(){return U})),r.d(e,"lerp",(function(){return B})),r.d(e,"length",(function(){return V})),r.d(e,"len",(function(){return z})),r.d(e,"squaredLength",(function(){return G})),r.d(e,"sqrLen",(function(){return H})),r.d(e,"normalize",(function(){return Y})),r.d(e,"exactEquals",(function(){return W})),r.d(e,"equals",(function(){return X})),r.d(e,"rotationTo",(function(){return J})),r.d(e,"sqlerp",(function(){return $})),r.d(e,"setAxes",(function(){return Z}));var n=r(2),i=r(5),a=r(8),o=r(9);function s(){var t=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function u(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function l(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function c(t,e){var r=2*Math.acos(e[3]),i=Math.sin(r/2);return i>n.EPSILON?(t[0]=e[0]/i,t[1]=e[1]/i,t[2]=e[2]/i):(t[0]=1,t[1]=0,t[2]=0),r}function f(t,e){var r=U(t,e);return Math.acos(2*r*r-1)}function h(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[0],u=r[1],l=r[2],c=r[3];return t[0]=n*c+o*s+i*l-a*u,t[1]=i*c+o*u+a*s-n*l,t[2]=a*c+o*l+n*u-i*s,t[3]=o*c-n*s-i*u-a*l,t}function d(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+o*s,t[1]=i*u+a*s,t[2]=a*u-i*s,t[3]=o*u-n*s,t}function p(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u-a*s,t[1]=i*u+o*s,t[2]=a*u+n*s,t[3]=o*u-i*s,t}function v(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+i*s,t[1]=i*u-n*s,t[2]=a*u+o*s,t[3]=o*u-a*s,t}function g(t,e){var r=e[0],n=e[1],i=e[2];return t[0]=r,t[1]=n,t[2]=i,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),t}function y(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=Math.sqrt(r*r+n*n+i*i),s=Math.exp(a),u=o>0?s*Math.sin(o)/o:0;return t[0]=r*u,t[1]=n*u,t[2]=i*u,t[3]=s*Math.cos(o),t}function m(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=Math.sqrt(r*r+n*n+i*i),s=o>0?Math.atan2(o,a)/o:0;return t[0]=r*s,t[1]=n*s,t[2]=i*s,t[3]=.5*Math.log(r*r+n*n+i*i+a*a),t}function b(t,e,r){return m(t,e),F(t,t,r),y(t,t),t}function x(t,e,r,i){var a,o,s,u,l,c=e[0],f=e[1],h=e[2],d=e[3],p=r[0],v=r[1],g=r[2],y=r[3];return(o=c*p+f*v+h*g+d*y)<0&&(o=-o,p=-p,v=-v,g=-g,y=-y),1-o>n.EPSILON?(a=Math.acos(o),s=Math.sin(a),u=Math.sin((1-i)*a)/s,l=Math.sin(i*a)/s):(u=1-i,l=i),t[0]=u*c+l*p,t[1]=u*f+l*v,t[2]=u*h+l*g,t[3]=u*d+l*y,t}function M(t){var e=n.RANDOM(),r=n.RANDOM(),i=n.RANDOM(),a=Math.sqrt(1-e),o=Math.sqrt(e);return t[0]=a*Math.sin(2*Math.PI*r),t[1]=a*Math.cos(2*Math.PI*r),t[2]=o*Math.sin(2*Math.PI*i),t[3]=o*Math.cos(2*Math.PI*i),t}function w(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*r+n*n+i*i+a*a,s=o?1/o:0;return t[0]=-r*s,t[1]=-n*s,t[2]=-i*s,t[3]=a*s,t}function A(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function k(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*o+o]+1),t[i]=.5*r,r=.5/r,t[3]=(e[3*a+o]-e[3*o+a])*r,t[a]=(e[3*a+i]+e[3*i+a])*r,t[o]=(e[3*o+i]+e[3*i+o])*r}return t}function _(t,e,r,n){var i=.5*Math.PI/180;e*=i,r*=i,n*=i;var a=Math.sin(e),o=Math.cos(e),s=Math.sin(r),u=Math.cos(r),l=Math.sin(n),c=Math.cos(n);return t[0]=a*u*c-o*s*l,t[1]=o*s*c+a*u*l,t[2]=o*u*l-a*s*c,t[3]=o*u*c+a*s*l,t}function S(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var E,R,T,O,C,L,P=o.clone,D=o.fromValues,q=o.copy,j=o.set,I=o.add,N=h,F=o.scale,U=o.dot,B=o.lerp,V=o.length,z=V,G=o.squaredLength,H=G,Y=o.normalize,W=o.exactEquals,X=o.equals,J=(E=a.create(),R=a.fromValues(1,0,0),T=a.fromValues(0,1,0),function(t,e,r){var n=a.dot(e,r);return n<-.999999?(a.cross(E,R,e),a.len(E)<1e-6&&a.cross(E,T,e),a.normalize(E,E),l(t,E,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(a.cross(E,e,r),t[0]=E[0],t[1]=E[1],t[2]=E[2],t[3]=1+n,Y(t,t))}),$=(O=s(),C=s(),function(t,e,r,n,i,a){return x(O,e,i,a),x(C,r,n,a),x(t,O,C,2*a*(1-a)),t}),Z=(L=i.create(),function(t,e,r,n){return L[0]=r[0],L[3]=r[1],L[6]=r[2],L[1]=n[0],L[4]=n[1],L[7]=n[2],L[2]=-e[0],L[5]=-e[1],L[8]=-e[2],Y(t,k(t,L))})},function(t,e,r){r.r(e),r.d(e,"create",(function(){return i})),r.d(e,"clone",(function(){return a})),r.d(e,"length",(function(){return o})),r.d(e,"fromValues",(function(){return s})),r.d(e,"copy",(function(){return u})),r.d(e,"set",(function(){return l})),r.d(e,"add",(function(){return c})),r.d(e,"subtract",(function(){return f})),r.d(e,"multiply",(function(){return h})),r.d(e,"divide",(function(){return d})),r.d(e,"ceil",(function(){return p})),r.d(e,"floor",(function(){return v})),r.d(e,"min",(function(){return g})),r.d(e,"max",(function(){return y})),r.d(e,"round",(function(){return m})),r.d(e,"scale",(function(){return b})),r.d(e,"scaleAndAdd",(function(){return x})),r.d(e,"distance",(function(){return M})),r.d(e,"squaredDistance",(function(){return w})),r.d(e,"squaredLength",(function(){return A})),r.d(e,"negate",(function(){return k})),r.d(e,"inverse",(function(){return _})),r.d(e,"normalize",(function(){return S})),r.d(e,"dot",(function(){return E})),r.d(e,"cross",(function(){return R})),r.d(e,"lerp",(function(){return T})),r.d(e,"hermite",(function(){return O})),r.d(e,"bezier",(function(){return C})),r.d(e,"random",(function(){return L})),r.d(e,"transformMat4",(function(){return P})),r.d(e,"transformMat3",(function(){return D})),r.d(e,"transformQuat",(function(){return q})),r.d(e,"rotateX",(function(){return j})),r.d(e,"rotateY",(function(){return I})),r.d(e,"rotateZ",(function(){return N})),r.d(e,"angle",(function(){return F})),r.d(e,"zero",(function(){return U})),r.d(e,"str",(function(){return B})),r.d(e,"exactEquals",(function(){return V})),r.d(e,"equals",(function(){return z})),r.d(e,"sub",(function(){return H})),r.d(e,"mul",(function(){return Y})),r.d(e,"div",(function(){return W})),r.d(e,"dist",(function(){return X})),r.d(e,"sqrDist",(function(){return J})),r.d(e,"len",(function(){return $})),r.d(e,"sqrLen",(function(){return Z})),r.d(e,"forEach",(function(){return Q}));var n=r(2);function i(){var t=new n.ARRAY_TYPE(3);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function a(t){var e=new n.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function o(t){var e=t[0],r=t[1],n=t[2];return Math.hypot(e,r,n)}function s(t,e,r){var i=new n.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=r,i}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function l(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function c(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function f(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function h(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function d(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function p(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function v(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function g(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function y(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function m(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function b(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function x(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function M(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.hypot(r,n,i)}function w(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}function A(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function k(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function _(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function S(t,e){var r=e[0],n=e[1],i=e[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function E(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function R(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],u=r[2];return t[0]=i*u-a*s,t[1]=a*o-n*u,t[2]=n*s-i*o,t}function T(t,e,r,n){var i=e[0],a=e[1],o=e[2];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=o+n*(r[2]-o),t}function O(t,e,r,n,i,a){var o=a*a,s=o*(2*a-3)+1,u=o*(a-2)+a,l=o*(a-1),c=o*(3-2*a);return t[0]=e[0]*s+r[0]*u+n[0]*l+i[0]*c,t[1]=e[1]*s+r[1]*u+n[1]*l+i[1]*c,t[2]=e[2]*s+r[2]*u+n[2]*l+i[2]*c,t}function C(t,e,r,n,i,a){var o=1-a,s=o*o,u=a*a,l=s*o,c=3*a*s,f=3*u*o,h=u*a;return t[0]=e[0]*l+r[0]*c+n[0]*f+i[0]*h,t[1]=e[1]*l+r[1]*c+n[1]*f+i[1]*h,t[2]=e[2]*l+r[2]*c+n[2]*f+i[2]*h,t}function L(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI,i=2*n.RANDOM()-1,a=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(r)*a,t[1]=Math.sin(r)*a,t[2]=i*e,t}function P(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[3]*n+r[7]*i+r[11]*a+r[15];return o=o||1,t[0]=(r[0]*n+r[4]*i+r[8]*a+r[12])/o,t[1]=(r[1]*n+r[5]*i+r[9]*a+r[13])/o,t[2]=(r[2]*n+r[6]*i+r[10]*a+r[14])/o,t}function D(t,e,r){var n=e[0],i=e[1],a=e[2];return t[0]=n*r[0]+i*r[3]+a*r[6],t[1]=n*r[1]+i*r[4]+a*r[7],t[2]=n*r[2]+i*r[5]+a*r[8],t}function q(t,e,r){var n=r[0],i=r[1],a=r[2],o=r[3],s=e[0],u=e[1],l=e[2],c=i*l-a*u,f=a*s-n*l,h=n*u-i*s,d=i*h-a*f,p=a*c-n*h,v=n*f-i*c,g=2*o;return c*=g,f*=g,h*=g,d*=2,p*=2,v*=2,t[0]=s+c+d,t[1]=u+f+p,t[2]=l+h+v,t}function j(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[0],a[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),a[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function I(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),a[1]=i[1],a[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function N(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),a[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),a[2]=i[2],t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function F(t,e){var r=t[0],n=t[1],i=t[2],a=e[0],o=e[1],s=e[2],u=Math.sqrt(r*r+n*n+i*i)*Math.sqrt(a*a+o*o+s*s),l=u&&E(t,e)/u;return Math.acos(Math.min(Math.max(l,-1),1))}function U(t){return t[0]=0,t[1]=0,t[2]=0,t}function B(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function V(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function z(t,e){var r=t[0],i=t[1],a=t[2],o=e[0],s=e[1],u=e[2];return Math.abs(r-o)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-s)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(a-u)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))}var G,H=f,Y=h,W=d,X=M,J=w,$=o,Z=A,Q=(G=i(),function(t,e,r,n,i,a){var o,s;for(e||(e=3),r||(r=0),s=n?Math.min(n*e+r,t.length):t.length,o=r;o<s;o+=e)G[0]=t[o],G[1]=t[o+1],G[2]=t[o+2],i(G,G,a),t[o]=G[0],t[o+1]=G[1],t[o+2]=G[2];return t})},function(t,e,r){r.r(e),r.d(e,"create",(function(){return i})),r.d(e,"clone",(function(){return a})),r.d(e,"fromValues",(function(){return o})),r.d(e,"copy",(function(){return s})),r.d(e,"set",(function(){return u})),r.d(e,"add",(function(){return l})),r.d(e,"subtract",(function(){return c})),r.d(e,"multiply",(function(){return f})),r.d(e,"divide",(function(){return h})),r.d(e,"ceil",(function(){return d})),r.d(e,"floor",(function(){return p})),r.d(e,"min",(function(){return v})),r.d(e,"max",(function(){return g})),r.d(e,"round",(function(){return y})),r.d(e,"scale",(function(){return m})),r.d(e,"scaleAndAdd",(function(){return b})),r.d(e,"distance",(function(){return x})),r.d(e,"squaredDistance",(function(){return M})),r.d(e,"length",(function(){return w})),r.d(e,"squaredLength",(function(){return A})),r.d(e,"negate",(function(){return k})),r.d(e,"inverse",(function(){return _})),r.d(e,"normalize",(function(){return S})),r.d(e,"dot",(function(){return E})),r.d(e,"cross",(function(){return R})),r.d(e,"lerp",(function(){return T})),r.d(e,"random",(function(){return O})),r.d(e,"transformMat4",(function(){return C})),r.d(e,"transformQuat",(function(){return L})),r.d(e,"zero",(function(){return P})),r.d(e,"str",(function(){return D})),r.d(e,"exactEquals",(function(){return q})),r.d(e,"equals",(function(){return j})),r.d(e,"sub",(function(){return N})),r.d(e,"mul",(function(){return F})),r.d(e,"div",(function(){return U})),r.d(e,"dist",(function(){return B})),r.d(e,"sqrDist",(function(){return V})),r.d(e,"len",(function(){return z})),r.d(e,"sqrLen",(function(){return G})),r.d(e,"forEach",(function(){return H}));var n=r(2);function i(){var t=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function a(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function o(t,e,r,i){var a=new n.ARRAY_TYPE(4);return a[0]=t,a[1]=e,a[2]=r,a[3]=i,a}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function u(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function l(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function c(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function f(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function h(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function v(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t}function g(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t}function y(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function m(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function b(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}function x(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.hypot(r,n,i,a)}function M(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return r*r+n*n+i*i+a*a}function w(t){var e=t[0],r=t[1],n=t[2],i=t[3];return Math.hypot(e,r,n,i)}function A(t){var e=t[0],r=t[1],n=t[2],i=t[3];return e*e+r*r+n*n+i*i}function k(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function _(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function S(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*r+n*n+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),t[0]=r*o,t[1]=n*o,t[2]=i*o,t[3]=a*o,t}function E(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function R(t,e,r,n){var i=r[0]*n[1]-r[1]*n[0],a=r[0]*n[2]-r[2]*n[0],o=r[0]*n[3]-r[3]*n[0],s=r[1]*n[2]-r[2]*n[1],u=r[1]*n[3]-r[3]*n[1],l=r[2]*n[3]-r[3]*n[2],c=e[0],f=e[1],h=e[2],d=e[3];return t[0]=f*l-h*u+d*s,t[1]=-c*l+h*o-d*a,t[2]=c*u-f*o+d*i,t[3]=-c*s+f*a-h*i,t}function T(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=e[3];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=o+n*(r[2]-o),t[3]=s+n*(r[3]-s),t}function O(t,e){var r,i,a,o,s,u;e=e||1;do{s=(r=2*n.RANDOM()-1)*r+(i=2*n.RANDOM()-1)*i}while(s>=1);do{u=(a=2*n.RANDOM()-1)*a+(o=2*n.RANDOM()-1)*o}while(u>=1);var l=Math.sqrt((1-s)/u);return t[0]=e*r,t[1]=e*i,t[2]=e*a*l,t[3]=e*o*l,t}function C(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,t[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,t[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,t[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,t}function L(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],u=r[2],l=r[3],c=l*n+s*a-u*i,f=l*i+u*n-o*a,h=l*a+o*i-s*n,d=-o*n-s*i-u*a;return t[0]=c*l+d*-o+f*-u-h*-s,t[1]=f*l+d*-s+h*-o-c*-u,t[2]=h*l+d*-u+c*-s-f*-o,t[3]=e[3],t}function P(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function D(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function q(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function j(t,e){var r=t[0],i=t[1],a=t[2],o=t[3],s=e[0],u=e[1],l=e[2],c=e[3];return Math.abs(r-s)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-l)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-c)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(c))}var I,N=c,F=f,U=h,B=x,V=M,z=w,G=A,H=(I=i(),function(t,e,r,n,i,a){var o,s;for(e||(e=4),r||(r=0),s=n?Math.min(n*e+r,t.length):t.length,o=r;o<s;o+=e)I[0]=t[o],I[1]=t[o+1],I[2]=t[o+2],I[3]=t[o+3],i(I,I,a),t[o]=I[0],t[o+1]=I[1],t[o+2]=I[2],t[o+3]=I[3];return t})},function(t,e,r){r.r(e),r.d(e,"create",(function(){return o})),r.d(e,"clone",(function(){return s})),r.d(e,"fromValues",(function(){return u})),r.d(e,"fromRotationTranslationValues",(function(){return l})),r.d(e,"fromRotationTranslation",(function(){return c})),r.d(e,"fromTranslation",(function(){return f})),r.d(e,"fromRotation",(function(){return h})),r.d(e,"fromMat4",(function(){return d})),r.d(e,"copy",(function(){return p})),r.d(e,"identity",(function(){return v})),r.d(e,"set",(function(){return g})),r.d(e,"getReal",(function(){return y})),r.d(e,"getDual",(function(){return m})),r.d(e,"setReal",(function(){return b})),r.d(e,"setDual",(function(){return x})),r.d(e,"getTranslation",(function(){return M})),r.d(e,"translate",(function(){return w})),r.d(e,"rotateX",(function(){return A})),r.d(e,"rotateY",(function(){return k})),r.d(e,"rotateZ",(function(){return _})),r.d(e,"rotateByQuatAppend",(function(){return S})),r.d(e,"rotateByQuatPrepend",(function(){return E})),r.d(e,"rotateAroundAxis",(function(){return R})),r.d(e,"add",(function(){return T})),r.d(e,"multiply",(function(){return O})),r.d(e,"mul",(function(){return C})),r.d(e,"scale",(function(){return L})),r.d(e,"dot",(function(){return P})),r.d(e,"lerp",(function(){return D})),r.d(e,"invert",(function(){return q})),r.d(e,"conjugate",(function(){return j})),r.d(e,"length",(function(){return I})),r.d(e,"len",(function(){return N})),r.d(e,"squaredLength",(function(){return F})),r.d(e,"sqrLen",(function(){return U})),r.d(e,"normalize",(function(){return B})),r.d(e,"str",(function(){return V})),r.d(e,"exactEquals",(function(){return z})),r.d(e,"equals",(function(){return G}));var n=r(2),i=r(7),a=r(6);function o(){var t=new n.ARRAY_TYPE(8);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function s(t){var e=new n.ARRAY_TYPE(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function u(t,e,r,i,a,o,s,u){var l=new n.ARRAY_TYPE(8);return l[0]=t,l[1]=e,l[2]=r,l[3]=i,l[4]=a,l[5]=o,l[6]=s,l[7]=u,l}function l(t,e,r,i,a,o,s){var u=new n.ARRAY_TYPE(8);u[0]=t,u[1]=e,u[2]=r,u[3]=i;var l=.5*a,c=.5*o,f=.5*s;return u[4]=l*i+c*r-f*e,u[5]=c*i+f*t-l*r,u[6]=f*i+l*e-c*t,u[7]=-l*t-c*e-f*r,u}function c(t,e,r){var n=.5*r[0],i=.5*r[1],a=.5*r[2],o=e[0],s=e[1],u=e[2],l=e[3];return t[0]=o,t[1]=s,t[2]=u,t[3]=l,t[4]=n*l+i*u-a*s,t[5]=i*l+a*o-n*u,t[6]=a*l+n*s-i*o,t[7]=-n*o-i*s-a*u,t}function f(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function d(t,e){var r=i.create();a.getRotation(r,e);var o=new n.ARRAY_TYPE(3);return a.getTranslation(o,e),c(t,r,o),t}function p(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function v(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function g(t,e,r,n,i,a,o,s,u){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t}var y=i.copy;function m(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var b=i.copy;function x(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function M(t,e){var r=e[4],n=e[5],i=e[6],a=e[7],o=-e[0],s=-e[1],u=-e[2],l=e[3];return t[0]=2*(r*l+a*o+n*u-i*s),t[1]=2*(n*l+a*s+i*o-r*u),t[2]=2*(i*l+a*u+r*s-n*o),t}function w(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=.5*r[0],u=.5*r[1],l=.5*r[2],c=e[4],f=e[5],h=e[6],d=e[7];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=o*s+i*l-a*u+c,t[5]=o*u+a*s-n*l+f,t[6]=o*l+n*u-i*s+h,t[7]=-n*s-i*u-a*l+d,t}function A(t,e,r){var n=-e[0],a=-e[1],o=-e[2],s=e[3],u=e[4],l=e[5],c=e[6],f=e[7],h=u*s+f*n+l*o-c*a,d=l*s+f*a+c*n-u*o,p=c*s+f*o+u*a-l*n,v=f*s-u*n-l*a-c*o;return i.rotateX(t,e,r),n=t[0],a=t[1],o=t[2],s=t[3],t[4]=h*s+v*n+d*o-p*a,t[5]=d*s+v*a+p*n-h*o,t[6]=p*s+v*o+h*a-d*n,t[7]=v*s-h*n-d*a-p*o,t}function k(t,e,r){var n=-e[0],a=-e[1],o=-e[2],s=e[3],u=e[4],l=e[5],c=e[6],f=e[7],h=u*s+f*n+l*o-c*a,d=l*s+f*a+c*n-u*o,p=c*s+f*o+u*a-l*n,v=f*s-u*n-l*a-c*o;return i.rotateY(t,e,r),n=t[0],a=t[1],o=t[2],s=t[3],t[4]=h*s+v*n+d*o-p*a,t[5]=d*s+v*a+p*n-h*o,t[6]=p*s+v*o+h*a-d*n,t[7]=v*s-h*n-d*a-p*o,t}function _(t,e,r){var n=-e[0],a=-e[1],o=-e[2],s=e[3],u=e[4],l=e[5],c=e[6],f=e[7],h=u*s+f*n+l*o-c*a,d=l*s+f*a+c*n-u*o,p=c*s+f*o+u*a-l*n,v=f*s-u*n-l*a-c*o;return i.rotateZ(t,e,r),n=t[0],a=t[1],o=t[2],s=t[3],t[4]=h*s+v*n+d*o-p*a,t[5]=d*s+v*a+p*n-h*o,t[6]=p*s+v*o+h*a-d*n,t[7]=v*s-h*n-d*a-p*o,t}function S(t,e,r){var n=r[0],i=r[1],a=r[2],o=r[3],s=e[0],u=e[1],l=e[2],c=e[3];return t[0]=s*o+c*n+u*a-l*i,t[1]=u*o+c*i+l*n-s*a,t[2]=l*o+c*a+s*i-u*n,t[3]=c*o-s*n-u*i-l*a,s=e[4],u=e[5],l=e[6],c=e[7],t[4]=s*o+c*n+u*a-l*i,t[5]=u*o+c*i+l*n-s*a,t[6]=l*o+c*a+s*i-u*n,t[7]=c*o-s*n-u*i-l*a,t}function E(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[0],u=r[1],l=r[2],c=r[3];return t[0]=n*c+o*s+i*l-a*u,t[1]=i*c+o*u+a*s-n*l,t[2]=a*c+o*l+n*u-i*s,t[3]=o*c-n*s-i*u-a*l,s=r[4],u=r[5],l=r[6],c=r[7],t[4]=n*c+o*s+i*l-a*u,t[5]=i*c+o*u+a*s-n*l,t[6]=a*c+o*l+n*u-i*s,t[7]=o*c-n*s-i*u-a*l,t}function R(t,e,r,i){if(Math.abs(i)<n.EPSILON)return p(t,e);var a=Math.hypot(r[0],r[1],r[2]);i*=.5;var o=Math.sin(i),s=o*r[0]/a,u=o*r[1]/a,l=o*r[2]/a,c=Math.cos(i),f=e[0],h=e[1],d=e[2],v=e[3];t[0]=f*c+v*s+h*l-d*u,t[1]=h*c+v*u+d*s-f*l,t[2]=d*c+v*l+f*u-h*s,t[3]=v*c-f*s-h*u-d*l;var g=e[4],y=e[5],m=e[6],b=e[7];return t[4]=g*c+b*s+y*l-m*u,t[5]=y*c+b*u+m*s-g*l,t[6]=m*c+b*l+g*u-y*s,t[7]=b*c-g*s-y*u-m*l,t}function T(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t}function O(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[4],u=r[5],l=r[6],c=r[7],f=e[4],h=e[5],d=e[6],p=e[7],v=r[0],g=r[1],y=r[2],m=r[3];return t[0]=n*m+o*v+i*y-a*g,t[1]=i*m+o*g+a*v-n*y,t[2]=a*m+o*y+n*g-i*v,t[3]=o*m-n*v-i*g-a*y,t[4]=n*c+o*s+i*l-a*u+f*m+p*v+h*y-d*g,t[5]=i*c+o*u+a*s-n*l+h*m+p*g+d*v-f*y,t[6]=a*c+o*l+n*u-i*s+d*m+p*y+f*g-h*v,t[7]=o*c-n*s-i*u-a*l+p*m-f*v-h*g-d*y,t}var C=O;function L(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t}var P=i.dot;function D(t,e,r,n){var i=1-n;return P(e,r)<0&&(n=-n),t[0]=e[0]*i+r[0]*n,t[1]=e[1]*i+r[1]*n,t[2]=e[2]*i+r[2]*n,t[3]=e[3]*i+r[3]*n,t[4]=e[4]*i+r[4]*n,t[5]=e[5]*i+r[5]*n,t[6]=e[6]*i+r[6]*n,t[7]=e[7]*i+r[7]*n,t}function q(t,e){var r=F(e);return t[0]=-e[0]/r,t[1]=-e[1]/r,t[2]=-e[2]/r,t[3]=e[3]/r,t[4]=-e[4]/r,t[5]=-e[5]/r,t[6]=-e[6]/r,t[7]=e[7]/r,t}function j(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var I=i.length,N=I,F=i.squaredLength,U=F;function B(t,e){var r=F(e);if(r>0){r=Math.sqrt(r);var n=e[0]/r,i=e[1]/r,a=e[2]/r,o=e[3]/r,s=e[4],u=e[5],l=e[6],c=e[7],f=n*s+i*u+a*l+o*c;t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=(s-n*f)/r,t[5]=(u-i*f)/r,t[6]=(l-a*f)/r,t[7]=(c-o*f)/r}return t}function V(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function z(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function G(t,e){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=e[0],h=e[1],d=e[2],p=e[3],v=e[4],g=e[5],y=e[6],m=e[7];return Math.abs(r-f)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(i-h)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-d)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(o-p)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-v)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-g)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(l-y)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(c-m)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(m))}},function(t,e,r){r.r(e),r.d(e,"create",(function(){return i})),r.d(e,"clone",(function(){return a})),r.d(e,"fromValues",(function(){return o})),r.d(e,"copy",(function(){return s})),r.d(e,"set",(function(){return u})),r.d(e,"add",(function(){return l})),r.d(e,"subtract",(function(){return c})),r.d(e,"multiply",(function(){return f})),r.d(e,"divide",(function(){return h})),r.d(e,"ceil",(function(){return d})),r.d(e,"floor",(function(){return p})),r.d(e,"min",(function(){return v})),r.d(e,"max",(function(){return g})),r.d(e,"round",(function(){return y})),r.d(e,"scale",(function(){return m})),r.d(e,"scaleAndAdd",(function(){return b})),r.d(e,"distance",(function(){return x})),r.d(e,"squaredDistance",(function(){return M})),r.d(e,"length",(function(){return w})),r.d(e,"squaredLength",(function(){return A})),r.d(e,"negate",(function(){return k})),r.d(e,"inverse",(function(){return _})),r.d(e,"normalize",(function(){return S})),r.d(e,"dot",(function(){return E})),r.d(e,"cross",(function(){return R})),r.d(e,"lerp",(function(){return T})),r.d(e,"random",(function(){return O})),r.d(e,"transformMat2",(function(){return C})),r.d(e,"transformMat2d",(function(){return L})),r.d(e,"transformMat3",(function(){return P})),r.d(e,"transformMat4",(function(){return D})),r.d(e,"rotate",(function(){return q})),r.d(e,"angle",(function(){return j})),r.d(e,"zero",(function(){return I})),r.d(e,"str",(function(){return N})),r.d(e,"exactEquals",(function(){return F})),r.d(e,"equals",(function(){return U})),r.d(e,"len",(function(){return V})),r.d(e,"sub",(function(){return z})),r.d(e,"mul",(function(){return G})),r.d(e,"div",(function(){return H})),r.d(e,"dist",(function(){return Y})),r.d(e,"sqrDist",(function(){return W})),r.d(e,"sqrLen",(function(){return X})),r.d(e,"forEach",(function(){return J}));var n=r(2);function i(){var t=new n.ARRAY_TYPE(2);return n.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function a(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function o(t,e){var r=new n.ARRAY_TYPE(2);return r[0]=t,r[1]=e,r}function s(t,e){return t[0]=e[0],t[1]=e[1],t}function u(t,e,r){return t[0]=e,t[1]=r,t}function l(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function c(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function f(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function h(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function v(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function g(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function y(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function m(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function b(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t}function x(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.hypot(r,n)}function M(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function w(t){var e=t[0],r=t[1];return Math.hypot(e,r)}function A(t){var e=t[0],r=t[1];return e*e+r*r}function k(t,e){return t[0]=-e[0],t[1]=-e[1],t}function _(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function S(t,e){var r=e[0],n=e[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function E(t,e){return t[0]*e[0]+t[1]*e[1]}function R(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t}function T(t,e,r,n){var i=e[0],a=e[1];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t}function O(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t}function C(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t}function L(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function P(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t}function D(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t}function q(t,e,r,n){var i=e[0]-r[0],a=e[1]-r[1],o=Math.sin(n),s=Math.cos(n);return t[0]=i*s-a*o+r[0],t[1]=i*o+a*s+r[1],t}function j(t,e){var r=t[0],n=t[1],i=e[0],a=e[1],o=Math.sqrt(r*r+n*n)*Math.sqrt(i*i+a*a),s=o&&(r*i+n*a)/o;return Math.acos(Math.min(Math.max(s,-1),1))}function I(t){return t[0]=0,t[1]=0,t}function N(t){return"vec2("+t[0]+", "+t[1]+")"}function F(t,e){return t[0]===e[0]&&t[1]===e[1]}function U(t,e){var r=t[0],i=t[1],a=e[0],o=e[1];return Math.abs(r-a)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-o)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))}var B,V=w,z=c,G=f,H=h,Y=x,W=M,X=A,J=(B=i(),function(t,e,r,n,i,a){var o,s;for(e||(e=2),r||(r=0),s=n?Math.min(n*e+r,t.length):t.length,o=r;o<s;o+=e)B[0]=t[o],B[1]=t[o+1],i(B,B,a),t[o]=B[0],t[o+1]=B[1];return t})},function(t,e,r){r.r(e),r.d(e,"default",(function(){return q}));var n=r(13),i=r.n(n),a=r(19),o=r.n(a),s=r(23),u=r.n(s),l=r(24),c=r.n(l),f=r(25),h=r(1),d=r(36),p=r(43),v=r(41),g=r(56),y=r(73),m=r(45),b=r(78),x=r(37),M=r(82);function w(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return A(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r(1).glMatrix.setMatrixArrayType(Array);var k={autoUpdate:!1,preserveDrawingBuffer:!1,bufferSize:1500},_="attribute vec3 a_vertexPosition;\nattribute vec3 a_vertexTextureCoord;\nvarying vec3 vTextureCoord;\nuniform mat3 viewMatrix;\nuniform mat3 projectionMatrix;\n\nvoid main() {\n  gl_PointSize = 1.0;\n  vec3 pos = projectionMatrix * viewMatrix * vec3(a_vertexPosition.xy, 1.0);\n  gl_Position = vec4(pos.xy, 1.0, 1.0);    \n  vTextureCoord = a_vertexTextureCoord;              \n}\n",S="precision mediump float;\nvarying vec3 vTextureCoord;\nuniform sampler2D u_texSampler;\nvoid main() {\n  gl_FragColor = texture2D(u_texSampler, vTextureCoord.xy);\n}\n",E=Symbol("glRenderer"),R=Symbol("canvasRenderer"),T=Symbol("options"),O=Symbol("globalTransform"),C=Symbol("applyGlobalTransform"),L=Symbol("canvas");function P(t){var e=t.gl,r=t.fbo;r&&e.bindFramebuffer(e.FRAMEBUFFER,r),t._draw(),r&&e.bindFramebuffer(e.FRAMEBUFFER,null)}function D(t,e,r,n){var i=t.createTexture(e.canvas),a=[[[0,0],[r,0],[r,n],[0,n],[0,0]]];a.closed=!0;var o=new y.default({contours:a});o.setTexture(i),t.setMeshData([o.meshData]),P(t),i.delete(),e.clearRect(0,0,r,n),delete e._filter}var q=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u()(this,t);var n=r.contextType;if(n||(n="function"==typeof WebGL2RenderingContext?"webgl2":"function"==typeof WebGLRenderingContext?"webgl":"2d"),!e.getContext){var i=e;e={getContext:function(){return i},width:r.width,height:r.height},i.canvas=e,n="2d"}if(this[L]=e,"webgl"!==n&&"webgl2"!==n&&"2d"!==n)throw new Error("Unknown context type ".concat(n));if(r.contextType=n,this[T]=Object.assign({},k,r),"webgl"===n||"webgl2"===n){"webgl2"===n&&(this[T].webgl2=!0);var a=new f.default(e,this[T]);"webgl2"!==n||a.isWebGL2||(r.contextType="webgl"),Object(M.createShaders)(a),Object(M.applyShader)(a),Object(M.createCloudShaders)(a);var o=a.gl;o.clearColor(0,0,0,0),o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA),this[E]=a}else this[R]=new d.default(e,this[T]);this[O]=[1,0,0,0,1,0,0,0,1],this.updateResolution()}return c()(t,[{key:C,value:function(){var t=this[E]||this[R];if(this[E]){var e=this.canvas,r=e.width,n=e.height;t.uniforms.viewMatrix=this.viewMatrix,t.uniforms.projectionMatrix=this.projectionMatrix,t.uniforms.u_resolution=[r,n]}}},{key:"updateResolution",value:function(){var t=this.canvas,e=t.width,r=t.height,n=[1,0,0,0,1,0,-e/2,-r/2,1],i=[2/e,0,0,0,-2/r,0,0,0,1],a=h.mat3.multiply(Array.of(0,0,0,0,0,0,0,0,0),i,n);this.projectionMatrix=a,this[E]&&this[E].gl.viewport(0,0,e,r)}},{key:"createTexture",value:function(t,e){return(this[E]||this[R]).createTexture(t,e)}},{key:"loadTexture",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useImageBitmap,n=void 0!==r&&r,i=this[E]||this[R];return i.loadTexture(t,{useImageBitmap:n})}},{key:"createText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.font,n=void 0===r?"16px arial":r,i=e.fillColor,a=void 0===i?null:i,o=e.strokeColor,s=void 0===o?null:o,u=e.strokeWidth,l=void 0===u?1:u;if(this[E]){var c=x.default.createText(t,{font:n,fillColor:a,strokeColor:s,strokeWidth:l});return{image:this.createTexture(c.image),rect:c.rect}}return{_img:{font:n,fillColor:a,strokeColor:s,strokeWidth:l,text:t}}}},{key:"createProgram",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.vertex,r=t.fragment,n=t.options;if(this[E]){var i=this[E].compileSync(r,e);return i._attribOpts=n,i}throw new Error("Context 2D cannot create webgl program.")}},{key:"createPassProgram",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.vertex,r=void 0===e?_:e,n=t.fragment,i=void 0===n?S:n,a=t.options;return this.createProgram({vertex:r,fragment:i,options:a})}},{key:"useProgram",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this[E]){var r=Object.assign({},t._attribOpts,e);return this[E].useProgram(t,r)}throw new Error("Context 2D cannot use webgl program.")}},{key:"deleteTexture",value:function(t){return(this[E]||this[R]).deleteTexture(t)}},{key:"clear",value:function(){if(this[E]){var t=this[E].gl;t.clear(t.COLOR_BUFFER_BIT)}else{var e;(e=this[R]).clear.apply(e,arguments)}}},{key:"drawMeshCloud",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.clear,n=void 0!==r&&r,i=e.program,a=void 0===i?null:i,o=this[E]||this[R],s=a||t.program;if(this[E]){var u=o.gl;if(n&&u.clear(u.COLOR_BUFFER_BIT),s)o.program!==s&&this.useProgram(s,{a_color:{type:"UNSIGNED_BYTE",normalize:!0},a_fillCloudColor:{type:"UNSIGNED_BYTE",normalize:!0},a_strokeCloudColor:{type:"UNSIGNED_BYTE",normalize:!0},a_frameIndex:{type:"UNSIGNED_BYTE",normalize:!1}});else{var l=t.mesh.meshData,c=!!l.uniforms.u_texSampler,f=!!l.uniforms.u_filterFlag,h=!!l.uniforms.u_radialGradientVector,d=t.hasCloudColor,p=t.hasCloudFilter,v=!!l.uniforms.u_clipSampler;Object(M.applyCloudShader)(o,{hasTexture:c,hasFilter:f,hasGradient:h,hasCloudColor:d,hasCloudFilter:p,hasClipPath:v})}this[C](),o.setMeshData([t.meshData]),t.beforeRender&&t.beforeRender(u,t),P(o),t.afterRender&&t.afterRender(u,t)}else o.setTransform(this.globalTransformMatrix),o.drawMeshCloud(t,{clear:n,hook:!1})}},{key:"drawMeshes",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.clear,i=void 0!==n&&n,a=r.program,o=void 0===a?null:a,s=this[E]||this[R];this[E]?function(){var r=s.fbo,n=Object(p.default)(e,t,null==o),a=s.gl;i&&a.clear(a.COLOR_BUFFER_BIT);var u=!Object(b.isUnitTransform)(e.globalTransformMatrix);e._drawCalls=0;var l,c=w(n);try{var f=function(){var n=l.value;e._drawCalls++;var c=o||n.program;if(n instanceof m.default)e.drawMeshCloud(n,{clear:i,program:c});else{var f=e.canvas,h=f.width,d=f.height;if(n.beforeRender&&n.beforeRender(a,n),n.pass.length&&(e.fbo&&e.fbo.width===h&&e.fbo.height===d||(e.fbo={width:h,height:d,target:s.createFBO(),buffer:s.createFBO(),swap:function(){var t=[this.buffer,this.target];this.target=t[0],this.buffer=t[1]}}),s.bindFBO(e.fbo.target)),!c&&n.filterCanvas){Object(M.applyShader)(s,{hasTexture:!0});var p=e.filterContext;p||(p=x.default.createCanvas(h,d).getContext("2d"),e.filterContext=p);var g=t[n.packIndex],y=g.filter,b=t[n.packIndex+1],w=t[n.packIndex-1];w&&w.filterCanvas&&w.filter===y||b&&b.filterCanvas&&b.filter===y?(u&&p.save(),Object(v.drawMesh2D)(g,p,!1),u&&p.restore(),b&&b.filterCanvas&&g.filter===b.filter||(Object(v.applyFilter)(p,y),e[C](),D(s,p,h,d))):(u?(p.save(),Object(v.drawMesh2D)(g,p,!1),p.restore(),Object(v.applyFilter)(p,y)):Object(v.drawMesh2D)(g,p,!0),e[C](),D(s,p,h,d))}else{if(c)s.program!==c&&e.useProgram(c,{a_color:{type:"UNSIGNED_BYTE",normalize:!0}});else{var A=!!n.uniforms.u_texSampler,k=!!n.uniforms.u_filterFlag,_=!!n.uniforms.u_radialGradientVector,S=!!n.uniforms.u_clipSampler;Object(M.applyShader)(s,{hasTexture:A,hasFilter:k,hasGradient:_,hasClipPath:S})}n.filterCanvas&&console.warn("User program ignored some filter effects."),e[C](),s.setMeshData([n]),P(s)}if(n.pass.length){var E=n.pass.length;n.pass.forEach((function(t,i){t.blend=n.enableBlend,t.setTexture(s.fbo.texture),i===E-1?s.bindFBO(r):(e.fbo.swap(),s.bindFBO(e.fbo.target)),t.program?s.useProgram(t.program):(e.defaultPassProgram=e.defaultPassProgram||e.createPassProgram(),s.useProgram(e.defaultPassProgram)),s.setMeshData([t.meshData]),a.clear(a.COLOR_BUFFER_BIT),P(s)}))}n.afterRender&&n.afterRender(a,n)}};for(c.s();!(l=c.n()).done;)f()}catch(t){c.e(t)}finally{c.f()}}():(s.setTransform(this.globalTransformMatrix),s.drawMeshes(t,{clear:i}))}},{key:"drawImage",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var i=r.length;if(i<2)throw new TypeError("Failed to execute 'drawImage' on 'Renderer': 3 arguments required, but only ".concat(r.length+1," present."));if(2!==i&&4!==i&&8!==i)throw new TypeError("Failed to execute 'drawImage' on 'Renderer': Valid arities are: [3, 5, 9], but ".concat(r.length+1," arguments provided."));var a=null,o=null;2===i?a=[r[0],r[1],t.width,t.height]:4===i?a=r:8===i&&(o=r.slice(0,4),a=r.slice(4));var s=this.createTexture(t),u=this.canvas,l=u.width,c=u.height,f=new g.default;f.rect(a[0],a[1],l,c);var h=new y.default(f,{width:l,height:c});h.setTexture(s,{rect:a,srcRect:o}),this.drawMeshes([h]),this.deleteTexture(s)}},{key:"setGlobalTransform",value:function(){return this[O]=[arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0,arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0,arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5],1],this}},{key:"globalTransform",value:function(){for(var t=this[O],e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this[O]=h.mat3.multiply(Array.of(0,0,0,0,0,0,0,0,0),t,r),this}},{key:"globalTranslate",value:function(t,e){var r=h.mat3.create();return r=h.mat3.translate(Array.of(0,0,0,0,0,0,0,0,0),r,[t,e]),this.globalTransform.apply(this,o()(r))}},{key:"globalRotate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],r=i()(e,2),n=r[0],a=r[1],s=h.mat3.create();return s=h.mat3.translate(Array.of(0,0,0,0,0,0,0,0,0),s,[n,a]),s=h.mat3.rotate(Array.of(0,0,0,0,0,0,0,0,0),s,t),s=h.mat3.translate(Array.of(0,0,0,0,0,0,0,0,0),s,[-n,-a]),this.globalTransform.apply(this,o()(s))}},{key:"globalScale",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],n=i()(r,2),a=n[0],s=n[1],u=h.mat3.create();return u=h.mat3.translate(Array.of(0,0,0,0,0,0,0,0,0),u,[a,s]),u=h.mat3.scale(Array.of(0,0,0,0,0,0,0,0,0),u,[t,e]),u=h.mat3.translate(Array.of(0,0,0,0,0,0,0,0,0),u,[-a,-s]),this.globalTransform.apply(this,o()(u))}},{key:"globalSkew",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],n=i()(r,2),a=n[0],s=n[1],u=h.mat3.create();return u=h.mat3.translate(Array.of(0,0,0,0,0,0,0,0,0),u,[a,s]),u=h.mat3.multiply(Array.of(0,0,0,0,0,0,0,0,0),u,h.mat3.fromValues(1,Math.tan(e),Math.tan(t),1,0,0)),u=h.mat3.translate(Array.of(0,0,0,0,0,0,0,0,0),u,[-a,-s]),this.globalTransform.apply(this,o()(u))}},{key:"transformPoint",value:function(t,e,r){var n=this.globalTransformMatrix;return r&&(n=h.mat3.multiply(Array.of(0,0,0,0,0,0,0,0,0),n,r)),[t*n[0]+e*n[2]+n[4],t*n[1]+e*n[3]+n[5]]}},{key:"canvas",get:function(){return this[L]}},{key:"canvasRenderer",get:function(){return this[R]}},{key:"glRenderer",get:function(){return this[E]}},{key:"isWebGL2",get:function(){return this[E]&&this[E].isWebGL2}},{key:"options",get:function(){return this[T]}},{key:"globalTransformMatrix",get:function(){var t=this[O];return[t[0],t[1],t[3],t[4],t[6],t[7]]}},{key:"viewMatrix",get:function(){return this[O]}}]),t}()},function(t,e,r){var n=r(14),i=r(15),a=r(16),o=r(18);t.exports=function(t,e){return n(t)||i(t,e)||a(t,e)||o()}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return r}}},function(t,e,r){var n=r(17);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,r){var n=r(20),i=r(21),a=r(16),o=r(22);t.exports=function(t){return n(t)||i(t)||a(t)||o()}},function(t,e,r){var n=r(17);t.exports=function(t){if(Array.isArray(t))return n(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},function(t,e,r){r.r(e);var n=r(26);r(1).glMatrix.setMatrixArrayType(Array),e.default=n.default},function(t,e,r){r.r(e),r.d(e,"default",(function(){return k}));var n=r(27),i=r.n(n),a=r(29),o=r.n(a),s=r(13),u=r.n(s),l=r(19),c=r.n(l),f=r(23),h=r.n(f),d=r(24),p=r.n(d),v=r(30),g=r.n(v),y=r(31),m=r(33),b=r(34),x=r(35);r(1).glMatrix.setMatrixArrayType(Array);var M={};function w(t,e,r){return t.activeTexture(t.TEXTURE0+r),Array.isArray(e._img)?t.bindTexture(t.TEXTURE_CUBE_MAP,e):t.bindTexture(t.TEXTURE_2D,e),e}var A={int:"1i",ivec2:"2i",ivec3:"3i",ivec4:"4i",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",mat2:"Matrix2fv",mat3:"Matrix3fv",mat4:"Matrix4fv",sampler1D:"sampler1D",sampler2D:"sampler2D",sampler3D:"sampler3D",samplerCube:"samplerCube",sampler1DShadow:"sampler1DShadow",sampler2DShadow:"sampler2DShadow",sampler2DRect:"sampler2DRect",sampler2DRectShadow:"sampler2DRectShadow"},k=function(){function t(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h()(this,t),this.options=Object.assign({},t.defaultOptions,n),this.canvas=e,this.options.webgl2&&(r=e.getContext("webgl2",this.options)),null==r&&(r=Object(y.setupWebGL)(e,this.options),this.aia_ext=r.getExtension("ANGLE_instanced_arrays")),this.gl=r,r.viewport(0,0,e.width,e.height),r.clearColor(0,0,0,0),r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA),this.programs=[],this._events={}}var e,r,n;return p()(t,null,[{key:"addLibs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(M,t)}},{key:"FLOAT",value:function(t,e){return Object(y.pointsToBuffer)(t,Float32Array,e)}},{key:"UNSIGNED_BYTE",value:function(t,e){return Object(y.pointsToBuffer)(t,Uint8Array,e)}},{key:"UNSIGNED_SHORT",value:function(t,e){return Object(y.pointsToBuffer)(t,Uint16Array,e)}},{key:"BYTE",value:function(t,e){return Object(y.pointsToBuffer)(t,Int8Array,e)}},{key:"SHORT",value:function(t,e){return Object(y.pointsToBuffer)(t,Int16Array,e)}}]),p()(t,[{key:"_declareUniform",value:function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1f",i=this.gl,a=i.getUniformLocation(t,e),o=this;if(/^sampler/.test(n)){var s=t._samplerMap,u=t._bindTextures;Object.defineProperty(t.uniforms,e,{get:function(){return r},set:function(t){r=t;var n=null!=s[e]?s[e]:u.length;u[n]=t,w(i,t,n),s[e]||(s[e]=n,i.uniform1i(a,n)),o.options.autoUpdate&&o.update()},configurable:!1,enumerable:!0})}else{var l=0===n.indexOf("Matrix"),f=!l&&/v$/.test(n),h=i["uniform".concat(n)].bind(i);Object.defineProperty(t.uniforms,e,{get:function(){return r},set:function(t){r=t,"number"==typeof t&&(t=[t]),l?h(a,!1,t):f?h(a,t):h.apply(void 0,[a].concat(c()(t))),o.options.autoUpdate&&o.update()},configurable:!1,enumerable:!0})}}},{key:"_draw",value:function(){var e=this,r=this.program;r.meshData.forEach((function(n,i){var a=n.positions,o=n.cells,s=n.instanceCount,l=n.cellsCount,c=n.attributes,f=n.uniforms,h=n.textureCoord,d=n.enableBlend,p=e.gl,v=null!=n.mode?n.mode:p.TRIANGLES;"string"==typeof v&&(v=p[v]),d?p.enable(p.BLEND):p.disable(p.BLEND),p.bindBuffer(p.ARRAY_BUFFER,r._buffers.verticesBuffer),p.bufferData(p.ARRAY_BUFFER,a,p.STATIC_DRAW),o&&(p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,r._buffers.cellsBuffer),p.bufferData(p.ELEMENT_ARRAY_BUFFER,o,p.STATIC_DRAW));var g,y=[];if(c&&Object.values(c).forEach((function(t){var n=t.name,i=t.data,a=t.divisor;if(p.bindBuffer(p.ARRAY_BUFFER,r._buffers[n]),p.bufferData(p.ARRAY_BUFFER,i,p.STATIC_DRAW),null!=a){var o=p.getAttribLocation(r,n);o>=0&&(p.enableVertexAttribArray(o),y.push(o),p.vertexAttribDivisor?p.vertexAttribDivisor(o,a):e.aia_ext&&e.aia_ext.vertexAttribDivisorANGLE(o,a))}})),f&&Object.entries(f).forEach((function(t){var r=u()(t,2),n=r[0],i=r[1];e.uniforms[n]=i})),!o){var m=r._dimension;g=a.length/m}if(r._enableTextures&&r._buffers.texCoordBuffer){var b=h||function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=[],n=t.length,i=0;i<n;i++)i%e<2&&r.push(.5*(t[i]+1));return r}(a,r._dimension);p.bindBuffer(p.ARRAY_BUFFER,r._buffers.texCoordBuffer),p.bufferData(p.ARRAY_BUFFER,t.FLOAT(b),p.STATIC_DRAW)}null!=s?(o?p.drawElementsInstanced?p.drawElementsInstanced(v,l,p.UNSIGNED_SHORT,0,s):e.aia_ext&&e.aia_ext.drawElementsInstancedANGLE(v,l,p.UNSIGNED_SHORT,0,s):p.drawArraysInstanced?p.drawArraysInstanced(v,0,g,s):e.aia_ext.drawArraysInstancedANGLE(v,0,g,s),y.forEach((function(t){p.vertexAttribDivisor?p.vertexAttribDivisor(t,null):e.aia_ext&&e.aia_ext.vertexAttribDivisorANGLE(t,null)}))):o?p.drawElements(v,l,p.UNSIGNED_SHORT,0):p.drawArrays(v,0,g)}))}},{key:"deleteProgram",value:function(t){var e=this.gl;this.program===t&&(this.startRender=!1,this._renderFrameID&&(cancelAnimationFrame(this._renderFrameID),delete this._renderFrameID),e.useProgram(null));var r=this.programs.indexOf(t);r>=0&&this.programs.splice(r,1),function(t,e){var r=e._buffers;Object.values(r).forEach((function(e){t.deleteBuffer(e)})),e._buffers={}}(e,t),e.deleteProgram(t)}},{key:"setMeshData",value:function(e){var r=this;Array.isArray(e)||(e=[e]);var n=this.program;n.meshData=e.map((function(e){var i=e.mode,a=e.positions,o=e.instanceCount,s=e.cells,l=e.cellsCount,c=e.attributes,f=e.uniforms,h=e.textureCoord,d=e.enableBlend,p={positions:t.FLOAT(a),uniforms:f,enableBlend:!!d,textureCoord:t.FLOAT(h)};if(s&&(p.cells=t.USHORT(s),p.cellsCount=l||p.cells.length),null!=i&&(p.mode=i),null!=o){if(!r.isWebGL2&&!r.aia_ext)throw new Error("Cannot use instanceCount in this rendering context, use webgl2 context instead.");p.instanceCount=o}if(c){var v={};Object.entries(c).forEach((function(e){var i=u()(e,2),a=i[0],o=i[1];if(n._attribute[a]){if("ignored"!==n._attribute[a]){var s=n._attribute[a],l=s.name,c=s.type,f=o.data||o;if(Array.isArray(f)&&(f=t[c](f)),v[a]={name:l,data:f},null!=o.divisor){if(!r.isWebGL2&&!r.aia_ext)throw new Error("Cannot use divisor in this rendering context, use webgl2 context instead.");v[a].divisor=o.divisor}}}else n._attribute[a]="ignored"})),p.attributes=v}return p})),this.options.autoUpdate&&this.update()}},{key:"createProgram",value:function(t,e){var r=this,n=/^\s*uniform\s+sampler/gm.test(t);null==t&&(t=b.default),null==e&&(e=n?x.default:m.default);var i=this.gl,a=Object(y.createProgram)(i,e,t);a.shaderText={vertexShader:e,fragmentShader:t},a._buffers={},a._attribute={},a.uniforms={},a._samplerMap={},a._bindTextures=[];var o=new RegExp("(?:attribute|in) vec(\\d) ".concat(this.options.vertexPosition),"im"),s=e.match(o);s&&(a._dimension=Number(s[1]));var l=new RegExp("(?:attribute|in) vec(\\d) ".concat(this.options.vertexTextureCoord),"im");if((s=e.match(l))&&(a._texCoordSize=Number(s[1])),s=e.match(/^\s*(?:attribute|in) (\w+?)(\d*) (\w+)/gim))for(var c=0;c<s.length;c++){var f=s[c].match(/^\s*(?:attribute|in) (\w+?)(\d*) (\w+)/im);if(f&&f[3]!==this.options.vertexPosition&&f[3]!==this.options.vertexTextureCoord){var h=u()(f,4),d=h[1],p=h[2],v=h[3];"mat"===d&&(p=Math.pow(p,2)),a._buffers[v]=i.createBuffer(),a._attribute[v]={name:v,type:d,size:Number(p)||1}}}var g=/^\s*uniform\s+(\w+)\s+(\w+)(\[\d+\])?/gm;(s=(s=e.match(g)||[]).concat(t.match(g)||[])).forEach((function(t){var e=t.match(/^\s*uniform\s+(\w+)\s+(\w+)(\[\d+\])?/).slice(1),n=u()(e,3),i=n[0],o=n[1],s=n[2];s=!!s,0!==(i=A[i]).indexOf("Matrix")&&s&&(i+="v"),r._declareUniform(a,o,i)})),a._buffers.verticesBuffer=i.createBuffer(),a._buffers.cellsBuffer=i.createBuffer();var M=i.getAttribLocation(a,this.options.vertexTextureCoord);return a._enableTextures=M>=0,a._enableTextures&&(a._buffers.texCoordBuffer=i.createBuffer()),this.programs.push(a),a}},{key:"useProgram",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.startRender=!1,this._renderFrameID&&(cancelAnimationFrame(this._renderFrameID),delete this._renderFrameID);var r=this.gl;r.useProgram(t);var n=t._dimension;r.bindBuffer(r.ARRAY_BUFFER,t._buffers.verticesBuffer);var i=r.getAttribLocation(t,this.options.vertexPosition);if(r.vertexAttribPointer(i,n,r.FLOAT,!1,0,0),r.enableVertexAttribArray(i),t._enableTextures){r.bindBuffer(r.ARRAY_BUFFER,t._buffers.texCoordBuffer);var a=r.getAttribLocation(t,this.options.vertexTextureCoord);r.vertexAttribPointer(a,t._texCoordSize||2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(a)}if(Object.entries(t._attribute).forEach((function(n){var i=u()(n,2),a=i[0],o=i[1];if("ignored"!==o){var s=o.size,l=e[a]||{},c=!!l.normalize,f=l.type||"FLOAT",h=l.key||a;"UBYTE"===f&&(f="UNSIGNED_BYTE"),"USHORT"===f&&(f="UNSIGNED_SHORT"),o.type=f,h&&h!==a&&(t._attribute[h]=o),r.bindBuffer(r.ARRAY_BUFFER,t._buffers[a]);var d=r.getAttribLocation(t,a);d>=0&&(r.vertexAttribPointer(d,s,r[f],c,0,0),r.enableVertexAttribArray(d))}})),!t.meshData){var o=[[-1,-1,0,1].slice(0,n),[1,-1,0,1].slice(0,n),[1,1,0,1].slice(0,n),[-1,1,0,1].slice(0,n)],s=[[0,1,3],[3,1,2]];this.setMeshData({positions:o,cells:s})}return t}},{key:"compileSync",value:function(t,e){t=t||b.default;var r={};function n(t){var e=[],i=(t=t.replace(/^\s*/gm,"")).match(/^#pragma\s+include\s+.*/gm);if(i){for(var a=0;a<i.length;a++){var o=i[a].match(/(?:<|")(.*)(?:>|")/);if(o){var s=0===o[0].indexOf("<")?"lib":"link",u=o[1];if("graph"===u&&(u="graphics"),r[u])e.push("/* included ".concat(u," */"));else if(r[u]=!0,"lib"===s){var l=n(M[u]);e.push(l)}else if("link"===s)throw new Error("Cannot load external links synchronously. Use compile instead of compileSync.")}}e.forEach((function(e){t=t.replace(/^#pragma\s+include\s+.*/m,e)}))}return t}var i=n(t),a=e?n(e):null;return this.createProgram(i,a)}},{key:"compile",value:(n=o()(i.a.mark((function e(r,n){var a,s,u,l,c,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(){return u=o()(i.a.mark((function e(r){var n,o,u,l,c,f,h,d,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=r.replace(/^\s*/gm,""),n=[],!(o=r.match(/^#pragma\s+include\s+.*/gm))){e.next=36;break}u=0;case 5:if(!(u<o.length)){e.next=35;break}if(l=o[u],!(c=l.match(/(?:<|")(.*)(?:>|")/))){e.next=32;break}if(f=0===c[0].indexOf("<")?"lib":"link","graph"===(h=c[1])&&(h="graphics"),a[h]){e.next=31;break}if(a[h]=!0,"lib"!==f){e.next=21;break}return e.next=17,s(M[h]);case 17:d=e.sent,n.push(d),e.next=29;break;case 21:if("link"!==f){e.next=29;break}return e.next=24,t.fetchShader(h);case 24:return p=e.sent,e.next=27,s(p);case 27:p=e.sent,n.push(p);case 29:e.next=32;break;case 31:n.push("/* included ".concat(h," */"));case 32:u++,e.next=5;break;case 35:n.forEach((function(t){r=r.replace(/^#pragma\s+include\s+.*/m,t)}));case 36:return e.abrupt("return",r);case 37:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)},s=function(t){return u.apply(this,arguments)},r=r||b.default,a={},e.next=6,s(r);case 6:if(l=e.sent,!n){e.next=13;break}return e.next=10,s(n);case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0=null;case 14:return c=e.t0,f=this.createProgram(l,c),e.abrupt("return",f);case 17:case"end":return e.stop()}}),e,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"load",value:(r=o()(i.a.mark((function e(r){var n,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:null,e.next=3,t.fetchShader(r);case 3:if(r=e.sent,!n){e.next=8;break}return e.next=7,t.fetchShader(n);case 7:n=e.sent;case 8:return e.abrupt("return",this.compile(r,n));case 9:case"end":return e.stop()}}),e,this)}))),function(t){return r.apply(this,arguments)})},{key:"createTexture",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.wrapS,i=void 0===n?this.gl.CLAMP_TO_EDGE:n,a=r.wrapT,o=void 0===a?this.gl.CLAMP_TO_EDGE:a,s=r.minFilter,u=void 0===s?this.gl.LINEAR:s,l=r.magFilter,c=void 0===l?this.gl.LINEAR:l,f=this.gl,h=Array.isArray(e)?f.TEXTURE_CUBE_MAP:f.TEXTURE_2D;this._max_texture_image_units=this._max_texture_image_units||f.getParameter(f.MAX_COMBINED_TEXTURE_IMAGE_UNITS),f.activeTexture(f.TEXTURE0+this._max_texture_image_units-1);var d=f.createTexture();f.bindTexture(h,d),f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,!0);var p=this.canvas,v=p.width,g=p.height;if(e)if(h===f.TEXTURE_CUBE_MAP)for(var y=0;y<6;y++)f.texImage2D(f.TEXTURE_CUBE_MAP_POSITIVE_X+y,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,e[y]);else f.texImage2D(h,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,e);else if(h===f.TEXTURE_CUBE_MAP)for(var m=0;m<6;m++)this.gl.texImage2D(this.gl.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,f.RGBA,v,g,0,f.RGBA,f.UNSIGNED_BYTE,null);else f.texImage2D(h,0,f.RGBA,v,g,0,f.RGBA,f.UNSIGNED_BYTE,null);return f.texParameteri(h,f.TEXTURE_MIN_FILTER,u),f.texParameteri(h,f.TEXTURE_MAG_FILTER,c),f.texParameteri(h,f.TEXTURE_WRAP_S,i),f.texParameteri(h,f.TEXTURE_WRAP_T,o),h===f.TEXTURE_CUBE_MAP&&(e.width=e[0].width,e.height=e[0].height),f.bindTexture(h,null),d._img=e||{width:v,height:g},d.delete=function(){t.deleteTexture(d)},d}},{key:"deleteTexture",value:function(t){var e=t._img;this.gl.deleteTexture(t),"function"==typeof e.close&&e.close()}},{key:"loadTexture",value:(e=o()(i.a.mark((function e(r){var n,a,o,s,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},a=n.useImageBitmap,o=void 0===a||a,e.next=3,t.loadImage(r,{useImageBitmap:o});case 3:return s=e.sent,e.abrupt("return",this.createTexture(s));case 5:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})},{key:"createFBO",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.color,r=void 0===e?1:e,n=t.blend,i=void 0!==n&&n,a=t.depth,o=void 0===a?!1!==this.options.depth:a,s=t.stencil,u=void 0===s?!!this.options.stencil:s,l=this.gl,c=l.createFramebuffer();l.bindFramebuffer(l.FRAMEBUFFER,c);for(var f=[],h=0;h<r;h++){var d=this.createTexture();l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0+h,l.TEXTURE_2D,d,0),f.push(d)}c.textures=f,c.texture=f[0],c.blend=i;var p=this.canvas,v=p.width,g=p.height;return o&&!u&&(c.depthBuffer=l.createRenderbuffer(),l.bindRenderbuffer(l.RENDERBUFFER,c.depthBuffer),l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_COMPONENT16,v,g),l.framebufferRenderbuffer(l.FRAMEBUFFER,l.DEPTH_ATTACHMENT,l.RENDERBUFFER,c.depthBuffer)),u&&!o&&(c.stencilBuffer=l.createRenderbuffer(),l.bindRenderbuffer(l.RENDERBUFFER,c.stencilBuffer),l.renderbufferStorage(l.RENDERBUFFER,l.STENCIL_INDEX8,v,g),l.framebufferRenderbuffer(l.FRAMEBUFFER,l.STENCIL_ATTACHMENT,l.RENDERBUFFER,c.stencilBuffer)),o&&u&&(c.depthStencilBuffer=l.createRenderbuffer(),l.bindRenderbuffer(l.RENDERBUFFER,c.depthStencilBuffer),l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_STENCIL,v,g),l.framebufferRenderbuffer(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.RENDERBUFFER,c.depthStencilBuffer)),l.bindFramebuffer(l.FRAMEBUFFER,null),c}},{key:"bindFBO",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.fbo=t}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.clearBuffer,this.startRender=!0;var e=this.gl,r=this.program;r||(r=this.createProgram(),this.useProgram(r)),this.fbo&&e.bindFramebuffer(e.FRAMEBUFFER,this.fbo);var n=this.options.depth;n&&e.enable(e.DEPTH_TEST),this.gl.clear(this.gl.COLOR_BUFFER_BIT|(n?this.gl.DEPTH_BUFFER_BIT:0)|(this.options.stencil?this.gl.STENCIL_BUFFER_BIT:0));var i=this._renderFrameID;this._draw(),this.fbo&&e.bindFramebuffer(e.FRAMEBUFFER,null),this._renderFrameID===i&&(this._renderFrameID=null)}},{key:"update",value:function(){this.startRender&&null==this._renderFrameID&&(this._renderFrameID=requestAnimationFrame(this.render.bind(this)))}},{key:"program",get:function(){var t=this.gl;return t.getParameter(t.CURRENT_PROGRAM)}},{key:"isWebGL2",get:function(){return"undefined"!=typeof WebGL2RenderingContext&&this.gl instanceof WebGL2RenderingContext}},{key:"enableTextures",get:function(){return this.program&&this.program._enableTextures}},{key:"uniforms",get:function(){var t=this.program;if(!t||!t.uniforms)throw Error("No avaliable program.");return t.uniforms}}]),t}();g()(k,"defaultOptions",{preserveDrawingBuffer:!0,autoUpdate:!0,vertexPosition:"a_vertexPosition",vertexTextureCoord:"a_vertexTextureCoord",webgl2:!1}),g()(k,"UBYTE",k.UNSIGNED_BYTE),g()(k,"USHORT",k.UNSIGNED_SHORT),g()(k,"fetchShader",y.fetchShader),g()(k,"loadImage",y.loadImage)},function(t,e,r){t.exports=r(28)},function(t,e,r){var n=function(t){var e,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),o=new R(n||[]);return a._invoke=function(t,e,r){var n=f;return function(i,a){if(n===d)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw a;return O()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=_(o,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var u=c(t,e,r);if("normal"===u.type){if(n=r.done?p:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=p,r.method="throw",r.arg=u.arg)}}}(t,r,o),a}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function g(){}function y(){}function m(){}var b={};b[a]=function(){return this};var x=Object.getPrototypeOf,M=x&&x(x(T([])));M&&M!==r&&n.call(M,a)&&(b=M);var w=m.prototype=g.prototype=Object.create(b);function A(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(i,a,o,s){var u=c(t[i],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(f).then((function(t){l.value=t,o(l)}),(function(t){return r("throw",t,o,s)}))}s(u.arg)}var i;this._invoke=function(t,n){function a(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(a,a):a()}}function _(t,r){var n=t.iterator[r.method];if(n===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(n,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function T(t){if(t){var r=t[a];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function r(){for(;++i<t.length;)if(n.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}return{next:O}}function O(){return{value:e,done:!0}}return y.prototype=w.constructor=m,m.constructor=y,y.displayName=u(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},A(k.prototype),k.prototype[o]=function(){return this},t.AsyncIterator=k,t.async=function(e,r,n,i,a){void 0===a&&(a=Promise);var o=new k(l(e,r,n,i),a);return t.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},A(w),u(w,s,"Generator"),w[a]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=T,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function i(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,e){function r(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var o=t.apply(e,n);function s(t){r(o,i,a,s,u,"next",t)}function u(t){r(o,i,a,s,u,"throw",t)}s(void 0)}))}}},function(t,e){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},function(t,e,r){r.r(e),r.d(e,"setupWebGL",(function(){return l})),r.d(e,"createProgram",(function(){return c})),r.d(e,"pointsToBuffer",(function(){return f})),r.d(e,"loadImage",(function(){return d})),r.d(e,"fetchShader",(function(){return v}));var n=r(27),i=r.n(n),a=r(29),o=r.n(a),s=r(32),u=r.n(s);function l(t,e){var r=function(t,e){for(var r=["webgl","experimental-webgl","webkit-3d","moz-webgl"],n=null,i=0;i<r.length;++i){try{n=t.getContext(r[i],e)}catch(t){}if(n)break}return n}(t,e);if(!r)throw new Error("Sorry, your browser doesn't support WebGL.");return r}function c(t,e,r){var n=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS)){var i="Vertex shader failed to compile.  The error log is:".concat(t.getShaderInfoLog(n));throw new Error(i)}var a=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(a,r),t.compileShader(a),!t.getShaderParameter(a,t.COMPILE_STATUS)){var o="Fragment shader failed to compile.  The error log is:".concat(t.getShaderInfoLog(a));throw new Error(o)}var s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,a),t.linkProgram(s),!t.getProgramParameter(s,t.LINK_STATUS)){var u="Shader program failed to link.  The error log is:".concat(t.getProgramInfoLog(s));throw new Error(u)}return t.deleteShader(n),t.deleteShader(a),s}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Float32Array,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(r&&!(r instanceof e))throw new TypeError("Wrong buffer type.");if(null==t)return t;if(t instanceof e)return t;if(null==t[0]||null==t[0].length)return r?(r.set(t,0),r):new e(t);var n=t[0].length,i=t.length;r||(r=new e(n*i));for(var a=0,o=0;o<i;o++)for(var s=0;s<n;s++)r[a++]=t[o][s];return r}r(1).glMatrix.setMatrixArrayType(Array);var h={};function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useImageBitmap,n=void 0===r||r,i=e.alias,a=void 0===i?null:i;if(!h[t])if("function"==typeof Image){var o=new Image;"string"!=typeof t||"object"===("undefined"==typeof location?"undefined":u()(location))&&/^file:/.test(location.href)||/^data:/.test(t)||(o.crossOrigin="anonymous"),h[t]=new Promise((function(e){o.onload=function(){n&&"function"==typeof createImageBitmap?createImageBitmap(o,{imageOrientation:"flipY"}).then((function(r){h[t]=r,a&&(h[a]=r),e(r)})):(h[t]=o,a&&(h[a]=o),e(o))},o.src=t})),a&&(h[a]=h[t])}else if("function"==typeof fetch)return fetch(t,{method:"GET",mode:"cors",cache:"default"}).then((function(t){return t.blob()})).then((function(e){return createImageBitmap(e,{imageOrientation:"flipY"}).then((function(e){return h[t]=e,a&&(h[a]=e),e}))}));return h[t]}var p={};function v(t){return g.apply(this,arguments)}function g(){return(g=o()(i.a.mark((function t(e){var r,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p[e]){t.next=2;break}return t.abrupt("return",p[e]);case 2:return t.next=4,fetch(e);case 4:if(!((r=t.sent).status>=200&&r.status<300)){t.next=11;break}return t.next=8,r.text();case 8:return n=t.sent,p[e]=n,t.abrupt("return",n);case 11:throw new Error("Shader loaded error.");case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},function(t,e){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=r=function(t){return typeof t}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(e)}t.exports=r},function(t,e,r){r.r(e),e.default="attribute vec3 a_vertexPosition;\n\nvoid main() {\n  gl_PointSize = 1.0;\n  gl_Position = vec4(a_vertexPosition, 1);\n}"},function(t,e,r){r.r(e),e.default="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nvoid main() {\n  gl_FragColor = vec4(0.0, 0.0, 0.0, 0.1);\n}"},function(t,e,r){r.r(e),e.default="attribute vec4 a_vertexPosition;\nattribute vec2 a_vertexTextureCoord;\nvarying vec2 vTextureCoord;\n\nvoid main() {\n  gl_PointSize = 1.0;\n  gl_Position = a_vertexPosition;\n  vTextureCoord = a_vertexTextureCoord;\n}"},function(t,e,r){r.r(e),r.d(e,"default",(function(){return m}));var n=r(19),i=r.n(n),a=r(13),o=r.n(a),s=r(27),u=r.n(s),l=r(29),c=r.n(l),f=r(23),h=r.n(f),d=r(24),p=r.n(d),v=r(37),g=r(41);r(1).glMatrix.setMatrixArrayType(Array);var y=Symbol("transform"),m=function(){function t(e,r){h()(this,t),this.context=e.getContext("2d"),this.options=r,this[y]=[1,0,0,1,0,0]}var e;return p()(t,[{key:"createTexture",value:function(t){return{_img:t}}},{key:"loadTexture",value:(e=c()(u.a.mark((function t(e){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.default.loadImage(e,{useImageBitmap:!1});case 2:return r=t.sent,t.abrupt("return",this.createTexture(r));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"deleteTexture",value:function(t){return t}},{key:"clear",value:function(t,e,r,n){var i=this.context;t=t||0,e=e||0,r=r||i.canvas.width-t,n=n||i.canvas.height-e,i.clearRect(t,e,r,n)}},{key:"drawMeshCloud",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.clear,n=void 0!==r&&r,i=[],a=0;a<t.amount;a++){var o=t.getTransform(a),s=t.getTextureFrame(a);s&&(s=s._img);var u=t.getFilter(a),l=t.getCloudRGBA(a),c=l.fill,f=l.stroke;i.push({mesh:t.mesh,_cloudOptions:[c,f,s,o,u]})}t.beforeRender&&t.beforeRender(this.context,t),this.drawMeshes(i,{clear:n,hook:!1}),t.afterRender&&t.afterRender(this.context,t)}},{key:"drawMeshes",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.clear,a=void 0!==n&&n,s=r.hook,u=void 0===s||s,l=this.context;a&&l.clearRect(0,0,l.canvas.width,l.canvas.height);var c=null,f=l.canvas,h=f.width,d=f.height,p=t.length;t.forEach((function(t,r){var n,a,s,f,m;if(u&&t.beforeRender&&t.beforeRender(l,t),t._cloudOptions){var b=o()(t._cloudOptions,5);n=b[0],a=b[1],s=b[2],f=b[3],m=b[4],t=t.mesh}var x,M=t.filter;if(m&&(M=M?"".concat(M," ").concat(m):m),M&&!e.filterBuffer&&!1!==e.filterBuffer){var w=v.default.createCanvas(h,d);e.filterBuffer=!!w&&w.getContext("2d")}c&&c!==M&&(Object(g.applyFilter)(e.filterBuffer,c),l.drawImage(e.filterBuffer.canvas,0,0,h,d),e.filterBuffer.clearRect(0,0,h,d),c=null),M&&e.filterBuffer?(e.filterBuffer.save(),(x=e.filterBuffer).transform.apply(x,i()(e[y])),Object(g.drawMesh2D)(t,e.filterBuffer,!1,n,a,s,f),e.filterBuffer.restore(),r===p-1?(Object(g.applyFilter)(e.filterBuffer,M),l.drawImage(e.filterBuffer.canvas,0,0,h,d),e.filterBuffer.clearRect(0,0,h,d)):c=M):(l.save(),l.transform.apply(l,i()(e[y])),Object(g.drawMesh2D)(t,l,!1,n,a,s,f),l.restore()),u&&t.afterRender&&t.afterRender(l,t)}))}},{key:"setTransform",value:function(t){this[y]=t}}]),t}()},function(t,e,r){r.r(e),function(t){var n=r(32),i=r.n(n),a=r(19),o=r.n(a),s=r(25),u=r(39),l=r(40);r(1).glMatrix.setMatrixArrayType(Array);var c={},f=!1;if("object"===("undefined"==typeof navigator?"undefined":i()(navigator))&&"string"==typeof navigator.userAgent){var h=navigator.userAgent.toLowerCase().match(/chrome\/(\d+)/);h&&(f=Number(h[1])<70)}function d(e,r){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.offscreen||!f&&!1!==i.offscreen;return void 0!==t&&"function"==typeof t.createCanvas?n=t.createCanvas(e,r,i):a&&"function"==typeof OffscreenCanvas?n=new OffscreenCanvas(e,r):((n=document.createElement("canvas")).width=e,n.height=r),n}var p={createCanvas:d,createText:function(t,e){var r,n=e.font,i=e.fillColor,a=e.strokeColor,s=e.strokeWidth,f=e.ratio,h=void 0===f?1:f,p=e.textCanvas,v=e.cachable,g=void 0!==v&&v;if(g){r=[t,n,String(i),String(a),String(s)].join("###");var y=c[r];if(y)return y}p||(p=d(1,1));var m=p.getContext("2d");m.save(),m.font=n;var b=m.measureText(t).width;m.restore();var x=Object(u.default)(n),M=Math.max(x.pxLineHeight,1.13*x.pxHeight);/italic|oblique/.test(n)&&(b+=M*Math.tan(15*Math.PI/180)),i||a||(i="#000");var w=m.canvas,A=Math.ceil(b),k=Math.ceil(M);w.width=Math.round(A*h),w.height=Math.round(k*h),m.save(),m.font=function(t,e){var r=t.style,n=t.variant,i=t.weight,a=t.stretch,o=t.size,s=t.pxLineHeight,u=t.family;return"normal"===a?"".concat(r," ").concat(n," ").concat(i," ").concat(o*e,"px/").concat(s*e,"px ").concat(u):"".concat(r," ").concat(n," ").concat(i," ").concat(a," ").concat(o*e,"px/").concat(s*e,"px ").concat(u)}(x,h),m.textAlign="center",m.textBaseline="middle";var _=.5*w.height+.05*x.pxHeight*h,S=.5*w.width;if(i){if(Array.isArray(i))i=Object(l.default)(i);else if(i.vector){var E,R=i,T=R.vector,O=R.colors;E=6===T.length?m.createRadialGradient.apply(m,o()(T)):m.createLinearGradient.apply(m,o()(T)),O.forEach((function(t){var e=t.offset,r=t.color;E.addColorStop(e,r)})),i=E}m.fillStyle=i,m.fillText(t,S,_)}if(a){if(m.lineWidth=s*h,Array.isArray(a))a=Object(l.default)(a);else if(a.vector){var C,L=a,P=L.vector,D=L.colors;C=6===P.length?m.createRadialGradient.apply(m,o()(P)):m.createLinearGradient.apply(m,o()(P)),D.forEach((function(t){var e=t.offset,r=t.color;C.addColorStop(e,r)})),a=C}m.strokeStyle=a,m.strokeText(t,S,_)}m.restore();var q={image:p,rect:[0,0,A,k]};return g&&(c[r]=q),q},loadImage:s.default.loadImage};e.default=p}.call(this,r(38))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){function n(t,e){if("string"==typeof t){var r=t.trim().match(/^([\d.]+)(px|pt|pc|in|cm|mm|em|ex|rem|q|vw|vh|vmax|vmin|%)$/);t=r?{size:parseFloat(r[1]),unit:r[2]}:{size:parseInt(t,10),unit:"px"}}var i=t,a=i.size,o=i.unit;if("pt"===o)a/=.75;else if("pc"===o)a*=16;else if("in"===o)a*=96;else if("cm"===o)a*=96/2.54;else if("mm"===o)a*=96/25.4;else if("em"===o||"rem"===o||"ex"===o)e||"function"!=typeof getComputedStyle||"undefined"==typeof document||(e=n(getComputedStyle(document.documentElement).fontSize,16)),a*=e,"ex"===o&&(a/=2);else if("q"===o)a*=96/25.4/4;else if("vw"===o||"vh"===o)"undefined"!=typeof document&&(a*=("vw"===o?document.documentElement.clientWidth:document.documentElement.clientHeight)/100);else if(("vmax"===o||"vmin"===o)&&"undefined"!=typeof document){var s=document.documentElement.clientWidth,u=document.documentElement.clientHeight;a*="vmax"===o?Math.max(s,u)/100:Math.min(s,u)/100}return a}r.r(e),r.d(e,"default",(function(){return f})),r(1).glMatrix.setMatrixArrayType(Array);var i="px|pt|pc|in|cm|mm|em|ex|rem|q|vw|vh|vmax|vmin|%",a="'([^']+)'|\"([^\"]+)\"|([\\w-]|[-])+",o=new RegExp("(".concat("bold|bolder|lighter|[1-9]00",") +"),"i"),s=new RegExp("(".concat("italic|oblique",") +"),"i"),u=new RegExp("(".concat("small-caps",") +"),"i"),l=new RegExp("(".concat("ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",") +"),"i"),c=new RegExp("([\\d\\.]+)("+i+")(?:\\/([\\d\\.]+)("+i+"))? *((?:"+a+")( *, *(?:"+a+"))*)");function f(t,e){var r=c.exec(t);if(r){var i=parseFloat(r[3]),a={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(r[1]),unit:r[2],lineHeight:Number.isFinite(i)?i:void 0,lineHeightUnit:r[4],family:r[5].replace(/ *, */g,",")},f=t.substring(0,r.index),h=o.exec(f),d=s.exec(f),p=u.exec(f),v=l.exec(f);return h&&(a.weight=h[1]),d&&(a.style=d[1]),p&&(a.variant=p[1]),v&&(a.stretch=v[1]),a.pxHeight=n({size:a.size,unit:a.unit},e),a.pxLineHeight=n({size:a.lineHeight||a.size,unit:a.lineHeightUnit||a.unit},e),a}}},function(t,e,r){function n(t){return"rgba(".concat(t.map((function(t,e){return e<3?Math.round(255*t):t})).join(),")")}r.r(e),r.d(e,"default",(function(){return n})),r(1).glMatrix.setMatrixArrayType(Array)},function(t,e,r){r.r(e),r.d(e,"applyFilter",(function(){return l})),r.d(e,"drawMesh2D",(function(){return f}));var n=r(19),i=r.n(n),a=r(1),o=r(40),s=r(39),u=r(42);function l(t,e){var r=t.canvas;t.save(),t.filter=e,t.drawImage(r,0,0,r.width,r.height),t.restore()}function c(t,e){var r=/rgba\((\d+),(\d+),(\d+),(\d+)\)/;t=t.match(r).slice(1,5).map(Number);for(var n=[],i=(e=e.match(r).slice(1,5).map(Number))[3],a=0;a<4;a++)n[a]=Object(u.mix)(t[a],e[a],i);return"rgba(".concat(n.join(),")")}function f(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;e.save();var d=!1,p=!1;if(e.globalAlpha=t.getOpacity(),t._updateMatrix){var v=t.transformScale/t.contours.scale;v>1.5&&t.accurate(t.transformScale)}if(t.lineWidth){var g=t.gradient&&t.gradient.stroke;if(g){var y=g,m=y.vector,b=y.colors;if(6===m.length)g=e.createRadialGradient.apply(e,i()(m));else if(4===m.length)g=e.createLinearGradient.apply(e,i()(m));else{if(3!==m.length)throw new TypeError("Invalid vector dimension.");g=e.createCircularGradient.apply(e,i()(m))}b.forEach((function(t){var e=t.offset,r=t.color,n=Object(o.default)(r);u&&(n=c(n,u)),g.addColorStop(e,n)})),e.strokeStyle=g,d=!0}else t.strokeStyle&&(e.strokeStyle=u?c(t.strokeStyle,u):t.strokeStyle,d=!0)}d&&(e.lineWidth=t.lineWidth,e.lineJoin=t.lineJoin,e.lineCap=t.lineCap,e.miterLimit=t.miterLimit,t.lineDash&&(e.setLineDash(t.lineDash),t.lineDashOffset&&(e.lineDashOffset=t.lineDashOffset)));var x=t.gradient&&t.gradient.fill;if(x){var M=x,w=M.vector,A=M.colors;if(6===w.length)x=e.createRadialGradient.apply(e,i()(w));else if(4===w.length)x=e.createLinearGradient.apply(e,i()(w));else{if(3!==w.length)throw new TypeError("Invalid vector dimension.");x=e.createCircularGradient.apply(e,i()(w))}A.forEach((function(t){var e=t.offset,r=t.color,n=Object(o.default)(r);u&&(n=c(n,u)),x.addColorStop(e,n)})),e.fillStyle=x,p=!0}else t.fillStyle&&(e.fillStyle=n?c(t.fillStyle,n):t.fillStyle,p=!0);if(h&&e.transform.apply(e,i()(h)),e.transform.apply(e,i()(t.transformMatrix)),t.clipPath){var k=t.clipPath,_=new Path2D(k);e.clip(_)}var S=t.contours.length;if(t.contours.forEach((function(r,n){var u=r.length,l=u>1&&a.vec2.equals(r[0],r[u-1]),c=n===S-1&&t.texture;if(r&&u>0){if(p||d||c){e.beginPath(),e.moveTo.apply(e,i()(r[0]));for(var h=1;h<u;h++)h===u-1&&l?e.closePath():e.lineTo.apply(e,i()(r[h]))}if(p&&e.fill(t.fillRule),c){e.save(),e.clip();var v=t.texture,g=v.image,y=v.options;if(f&&(g=f),y.repeat&&console.warn("Context 2D not supported image repeat yet."),g.font){y.scale&&console.warn("Context 2D not supported text scale yet."),y.srcRect&&console.warn("Context 2D not supported text srcRect yet.");var m=g,b=m.font,x=m.fillColor,M=m.strokeColor,w=m.strokeWidth,A=m.text;x||M||(x="#000"),Array.isArray(x)&&(x=Object(o.default)(x)),Array.isArray(M)&&(M=Object(o.default)(M)),e.font=b;var k=e.measureText(A).width,_=Object(s.default)(b),E=Math.max(_.pxLineHeight,1.13*_.pxHeight);e.textAlign="center",e.textBaseline="middle";var R=y.rect,T=R[0]+.5*E+.06*_.pxHeight,O=R[1]+.5*k;null!=R[2]&&e.scale(R[2]/k,R[3]/E),x&&(e.fillStyle=x,e.fillText(A,O,T)),M&&(e.lineWidth=w,e.strokeStyle=M,e.strokeText(A,O,T))}else{var C=y.rect,L=y.srcRect;y.scale&&(C=[0,0,e.canvas.width,e.canvas.height]),y.rotated&&C&&(C=[-C[1],C[0],C[3],C[2]]),L&&(C=C||[0,0,L[2],L[3]]),y.rotated&&(e.translate(0,C?C[2]:g.width),e.rotate(-.5*Math.PI)),L?e.drawImage.apply(e,[g].concat(i()(L),i()(C))):C?e.drawImage.apply(e,[g].concat(i()(C))):e.drawImage(g,0,0)}e.restore()}d&&e.stroke()}})),e.restore(),r){var E=t.filter;E&&l(e,E)}}r(1).glMatrix.setMatrixArrayType(Array)},function(t,e,r){r.r(e),r.d(e,"clamp",(function(){return a})),r.d(e,"mix",(function(){return o})),r.d(e,"transformPoint",(function(){return s}));var n=r(13),i=r.n(n);function a(t,e,r){if(e>r){var n=[r,e];e=n[0],r=n[1]}return t<e?e:t>r?r:t}function o(t,e,r){return t*(1-r)+e*r}function s(t,e){var r=i()(t,2),n=r[0],a=r[1];return[n*e[0]+a*e[2]+e[4],n*e[1]+a*e[3]+e[5]]}r(1).glMatrix.setMatrixArrayType(Array)},function(t,e,r){r.r(e),r.d(e,"default",(function(){return f}));var n=r(27),i=r.n(n),a=r(44),o=r(45);r(1).glMatrix.setMatrixArrayType(Array);var s=i.a.mark(f);function u(t,e,r){var n=t.uniforms||{},i=e.uniforms||{};if(n.u_texSampler&&i.u_texSampler&&n.u_texSampler!==i.u_texSampler)return!1;var a=Object.keys(n),o=Object.keys(i),s=a.indexOf("u_texSampler"),u=o.indexOf("u_texSampler");if(s>=0&&a.splice(s,1),u>=0&&o.splice(u,1),a.length!==o.length)return!1;var l=a.every((function(t){var e=n[t],r=i[t];if(e===r)return!0;if(e.length&&r.length&&e.length===r.length){for(var a=0;a<e.length;a++)if(e[a]!==r[a])return!1;return!0}return!1}));if(l)if(n.u_texSampler&&!i.u_texSampler)e.setTexture(n.u_texSampler,{hidden:!0});else if(!n.u_texSampler&&i.u_texSampler)for(var c=0;c<r.length;c++)r[c].setTexture(i.u_texSampler,{hidden:!0});return l}var l={};function c(t,e){if(t.length){var r=Object(a.default)(t,l);return r.enableBlend=e,t[0].filterCanvas&&(r.filterCanvas=!0),r.packIndex=t[0].packIndex,r.packLength=t.length,r.beforeRender=t[0].beforeRender,r.pass=t[0].pass,r.afterRender=t[t.length-1].afterRender,t.length=0,r}}function f(t,e){var r,n,a,l,f,h,d,p,v,g,y,m,b=arguments;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:r=b.length>2&&void 0!==b[2]&&b[2],n=[],a=t.options.bufferSize,l=0,f=!1,h=0;case 6:if(!(h<e.length)){i.next=50;break}if(!((d=e[h])instanceof o.default)){i.next=18;break}if(!n.length){i.next=12;break}return i.next=12,c(n,f);case 12:return l=0,f=!1,i.next=16,d;case 16:i.next=47;break;case 18:if((p=d.meshData).clipPath&&!p.uniforms.u_clipSampler&&(v=t.createTexture(p.clipPath),p.uniforms.u_clipSampler=v),g=0,r&&d.canIgnore()||!p||!p.positions.length){i.next=43;break}if(d.packIndex=h,y=d.filterCanvas,g=p.positions.length,!(y||l+g>a)){i.next=33;break}if(!n.length){i.next=29;break}return i.next=29,c(n,f);case 29:l=0,f=!1,i.next=40;break;case 33:if(!l){i.next=40;break}if(!(m=n[n.length-1])||!(m.filterCanvas||m.afterRender||d.beforeRender||m.pass.length||d.pass.length||m.program!==d.program)&&u(m,d,n)){i.next=40;break}return i.next=38,c(n,f);case 38:l=0,f=!1;case 40:n.push(d),f=f||d.enableBlend,l+=g;case 43:if(h!==e.length-1){i.next=47;break}if(!n.length){i.next=47;break}return i.next=47,c(n,f);case 47:h++,i.next=6;break;case 50:case"end":return i.stop()}}),s)}},function(t,e,r){r.r(e),r.d(e,"default",(function(){return u}));var n=r(19),i=r.n(n),a=r(13),o=r.n(a);r(1).glMatrix.setMatrixArrayType(Array);var s={UNSIGNED_BYTE:Uint8Array,UNSIGNED_SHORT:Uint16Array,BYTE:Int8Array,SHORT:Int16Array,FLOAT:Float32Array};function u(t,e){var r=[],n=[],a=[],u=[],l=[],c=[],f=0,h=0,d=t[0]&&t[0].uniforms||{},p=t[0]?t[0].program:null;e&&(function(t,e){for(var r=0,n=0,i=0,a=0,u=0,l=0,c=0,f=t[0].program,h=0;h<t.length;h++){var d=t[h].meshData;if(d){c+=d.positions.length;var p=d.positions[0].length;r+=d.positions.length*p,n+=3*d.cells.length,l+=4*d.attributes.a_color.length;var v=d.textureCoord;v&&(i+=v.length*v[0].length);var g=d.attributes.a_sourceRect;g&&(a+=4*g.length);var y=d.attributes.a_clipUV;y&&(u+=2*y.length)}}if((!e.positions||e.positions.length<r)&&(e.positions=new Float32Array(r)),(!e.cells||e.cells.length<n)&&(e.cells=new Uint16Array(n)),i&&(!e.textureCoord||e.textureCoord.length<i)&&(e.textureCoord=new Float32Array(i)),(!e.a_color||e.a_color.length<l)&&(e.a_color=new Uint8Array(l)),a&&(!e.a_sourceRect||e.a_sourceRect.length<a)&&(e.a_sourceRect=new Float32Array(a)),u&&(!e.a_clipUV||e.a_clipUV.length<u)&&(e.a_clipUV=new Float32Array(u)),f)for(var m=Object.entries(f._attribute),b=f._attribOpts||{},x=0;x<m.length;x++){var M=o()(m[x],2),w=M[0],A=M[1];if("a_color"!==w&&"a_sourceRect"!==w&&"ignored"!==A){var k=b[w]?b[w].type:"FLOAT",_=s[k],S=A.size*c;(!e[w]||e[w].length<S)&&(e[w]=new _(S))}}}(t,e),n=e.cells,r=e.positions,a=e.textureCoord,u=e.a_color,l=e.a_sourceRect,c=e.a_clipUV);for(var v=!1,g=!1,y={},m=0;m<t.length;m++){var b=t[m];if(b){var x;if(b.meshData&&(b=b.meshData),e)for(var M=b.positions,w=0;w<M.length;w++)for(var A=M[w],k=3*(f+w),_=0;_<A.length;_++)r[k+_]=A[_];else(x=r).push.apply(x,i()(b.positions));for(var S,E,R,T,O=b.cells,C=0;C<O.length;C++){var L=O[C];if(e){var P=3*(h+C);n[P]=L[0]+f,n[P+1]=L[1]+f,n[P+2]=L[2]+f}else n.push([L[0]+f,L[1]+f,L[2]+f])}if(e)for(var D=b.attributes.a_color,q=0;q<D.length;q++){var j=D[q],I=4*(f+q);u[I]=j[0],u[I+1]=j[1],u[I+2]=j[2],u[I+3]=j[3]}else(S=u).push.apply(S,i()(b.attributes.a_color));if(b.attributes.a_sourceRect)if(v=!0,e)for(var N=b.attributes.a_sourceRect,F=0;F<N.length;F++){var U=N[F],B=4*(f+F);l[B]=U[0],l[B+1]=U[1],l[B+2]=U[2],l[B+3]=U[3]}else(E=l).push.apply(E,i()(b.attributes.a_sourceRect));if(b.attributes.a_clipUV)if(g=!0,e)for(var V=b.attributes.a_clipUV,z=0;z<V.length;z++){var G=V[z],H=2*(f+z);c[H]=G[0],c[H+1]=G[1]}else(R=c).push.apply(R,i()(b.attributes.a_clipUV));if(b.textureCoord)if(e)for(var Y=b.textureCoord,W=0;W<Y.length;W++)for(var X=Y[W],J=3*(f+W),$=0;$<X.length;$++)a[J+$]=X[$];else(T=a).push.apply(T,i()(b.textureCoord));if(p)for(var Z=Object.entries(p._attribute),Q=0;Q<Z.length;Q++){var K=o()(Z[Q],2),tt=K[0],et=K[1];if("a_color"!==tt&&"a_sourceRect"!==tt&&"ignored"!==et)if(y[tt]=[],e){y[tt]=e[tt];for(var rt=b.attributes[tt],nt=rt[0].length,it=0;it<rt.length;it++)for(var at=rt[it],ot=nt*(f+it),st=0;st<at.length;st++)y[tt][ot+st]=at[st]}else{var ut;(ut=y[tt]).push.apply(ut,i()(b.attributes[tt]))}}f+=b.positions.length,h+=b.cells.length}}y.a_color=u,v&&l&&l.length>0&&(y.a_sourceRect=l);var lt={positions:r,cells:n,attributes:y,uniforms:d,cellsCount:3*h,program:p};return a&&a.length&&(lt.textureCoord=a),g&&c.length>0&&(y.a_clipUV=c),lt}},function(t,e,r){r.r(e),r.d(e,"default",(function(){return T}));var n=r(30),i=r.n(n),a=r(19),o=r.n(a),s=r(13),u=r.n(s),l=r(23),c=r.n(l),f=r(24),h=r.n(f),d=r(1),p=r(46),v=r(42),g=r(47);function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){i()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}r(1).glMatrix.setMatrixArrayType(Array);var b=Symbol("mesh"),x=Symbol("count"),M=Symbol("blend"),w=Symbol("filter"),A=Symbol("textures"),k=Symbol("textureOptions"),_=Symbol("cloudColor"),S=Symbol("cloudFilter"),E=Symbol("buffer");function R(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=new Float32Array(3*t),n=new Float32Array(3*t),i=new Float32Array(4*t),a=new Float32Array(4*t),o=new Float32Array(4*t),s=new Float32Array(4*t),u=new Float32Array(4*t),l=new Uint8Array(t),c=new Uint8Array(4*t),f=new Uint8Array(4*t);return e&&(r.set(e.transform0,0),n.set(e.transform1,0),i.set(e.color0,0),a.set(e.color1,0),o.set(e.color2,0),s.set(e.color3,0),u.set(e.color4,0),l.set(e.frameIndex,0),c.set(e.fillColor,0),f.set(e.strokeColor,0)),{bufferSize:t,transform0:r,transform1:n,color0:i,color1:a,color2:o,color3:s,color4:u,frameIndex:l,fillColor:c,strokeColor:f}}var T=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.buffer,a=void 0===i?1e3:i;c()(this,t),a=Math.max(a,r),this[x]=r,this[b]=e,this[E]=R(a),this[A]=[],this[w]=[],this[_]=!1,this[S]=!1,this[M]=!1,this.initBuffer()}return h()(t,[{key:"initBuffer",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this[x],r=t;r<e;r++)this[E].transform0.set([1,0,0],3*r),this[E].transform1.set([0,1,0],3*r),this[E].frameIndex.set([-1],r),this[E].fillColor.set([0,0,0,0],4*r),this[E].strokeColor.set([0,0,0,0],4*r),this.setColorTransform(r,null)}},{key:"_getFilter",value:function(t){return this[w][t]=this[w][t]||[],this[w][t]}},{key:"getFilter",value:function(t){return this._getFilter(t).join(" ")}},{key:"canIgnore",value:function(){return this[b].canIgnore()}},{key:"delete",value:function(t){if(t>=this[x]||t<0)throw new Error("Out of range.");var e=this[E],r=e.transform0,n=e.transform1,i=e.color0,a=e.color1,o=e.color2,s=e.color3,u=e.color4,l=e.frameIndex,c=e.fillColor,f=e.strokeColor;for(var h in r.set(r.subarray(3*(t+1)),3*t),n.set(n.subarray(3*(t+1)),3*t),i.set(i.subarray(4*(t+1)),4*t),a.set(a.subarray(4*(t+1)),4*t),o.set(o.subarray(4*(t+1)),4*t),s.set(s.subarray(4*(t+1)),4*t),u.set(u.subarray(4*(t+1)),4*t),l.set(l.subarray(t+1),t),c.set(c.subarray(4*(t+1)),4*t),f.set(f.subarray(4*(t+1)),4*t),this[w])h===t?delete this[w][h]:h>t&&(this[w][h-1]=this[w][h],delete this[w][h]);this[x]--}},{key:"setColorTransform",value:function(t,e){if(t>=this[x]||t<0)throw new Error("Out of range.");t*=4;var r=this[E],n=r.color0,i=r.color1,a=r.color2,o=r.color3,s=r.color4;return null!=e?(n.set([e[0],e[5],e[10],e[15]],t),i.set([e[1],e[6],e[11],e[16]],t),a.set([e[2],e[7],e[12],e[17]],t),o.set([e[3],e[8],e[13],e[18]],t),s.set([e[4],e[9],e[14],e[19]],t),this[M]=this[M]||e[18]<1,this[S]=!0):(n.set([1,0,0,0],t),i.set([0,1,0,0],t),a.set([0,0,1,0],t),o.set([0,0,0,1],t),s.set([0,0,0,0],t)),this}},{key:"getColorTransform",value:function(t){if(t>=this[x]||t<0)throw new Error("Out of range.");t*=4;var e=this[E],r=e.color0,n=e.color1,i=e.color2,a=e.color3,o=e.color4;return[r[t],n[t],i[t],a[t],o[t],r[t+1],n[t+1],i[t+1],a[t+1],o[t+1],r[t+2],n[t+2],i[t+2],a[t+2],o[t+2],r[t+3],n[t+3],i[t+3],a[t+3],o[t+3]]}},{key:"transformColor",value:function(t,e){var r=this.getColorTransform(t);return r=Object(p.multiply)(r,e),this.setColorTransform(t,r),this}},{key:"setFillColor",value:function(t,e){if(t>=this[x]||t<0)throw new Error("Out of range.");"string"==typeof e&&(e=Object(g.default)(e)),e[3]>0&&(this[_]=!0),this[E].fillColor.set(e.map((function(t){return Math.round(255*t)})),4*t)}},{key:"setStrokeColor",value:function(t,e){if(t>=this[x]||t<0)throw new Error("Out of range.");"string"==typeof e&&(e=Object(g.default)(e)),e[3]>0&&(this[_]=!0),this[E].strokeColor.set(e.map((function(t){return Math.round(255*t)})),4*t)}},{key:"getCloudRGBA",value:function(t){if(t>=this[x]||t<0)throw new Error("Out of range.");t*=4;var e=this[E],r=e.fillColor,n=e.strokeColor,i=[r[t],r[t+1],r[t+2],r[t+3]],a=[n[t],n[t+1],n[t+2],n[t+3]];return i[3]/=255,a[3]/=255,{fill:"rgba(".concat(i.join(),")"),stroke:"rgba(".concat(a.join(),")")}}},{key:"grayscale",value:function(t,e){this.transformColor(t,Object(p.grayscale)(e)),this._getFilter(t).push("grayscale(".concat(100*e,"%)"))}},{key:"brightness",value:function(t,e){this.transformColor(t,Object(p.brightness)(e)),this._getFilter(t).push("brightness(".concat(100*e,"%)"))}},{key:"saturate",value:function(t,e){this.transformColor(t,Object(p.saturate)(e)),this._getFilter(t).push("saturate(".concat(100*e,"%)"))}},{key:"contrast",value:function(t,e){this.transformColor(t,Object(p.contrast)(e)),this._getFilter(t).push("contrast(".concat(100*e,"%)"))}},{key:"invert",value:function(t,e){this.transformColor(t,Object(p.invert)(e)),this._getFilter(t).push("invert(".concat(100*e,"%)"))}},{key:"sepia",value:function(t,e){this.transformColor(t,Object(p.sepia)(e)),this._getFilter(t).push("sepia(".concat(100*e,"%)"))}},{key:"opacity",value:function(t,e){this.transformColor(t,Object(p.opacity)(e)),this._getFilter(t).push("opacity(".concat(100*e,"%)"))}},{key:"hueRotate",value:function(t,e){this.transformColor(t,Object(p.hueRotate)(e)),this._getFilter(t).push("hue-rotate(".concat(e,"deg)"))}},{key:"setTransform",value:function(t,e){if(t>=this[x]||t<0)throw new Error("Out of range.");t*=3,null==e&&(e=[1,0,0,1,0,0]);var r=this[E],n=r.transform0,i=r.transform1;return n.set([e[0],e[2],e[4]],t),i.set([e[1],e[3],e[5]],t),this}},{key:"getTransform",value:function(t){if(t>=this[x]||t<0)throw new Error("Out of range.");t*=3;var e=this[E],r=e.transform0,n=e.transform1;return[r[t],n[t],r[t+1],n[t+1],r[t+2],n[t+2]]}},{key:"getTextureFrame",value:function(t){return this[A][this[E].frameIndex[t]]}},{key:"setTextureFrames",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.length>12)throw new Error("Max frames exceed. Allow 12 frames.");if(t.length){var r=this[b];r.setTexture(t[0],e)}this[A]=t,this[k]=e}},{key:"setFrameIndex",value:function(t,e){if(t>=this[x]||t<0)throw new Error("Out of range.");var r=this[A].length;if(r<=0)throw new Error("No frames");this[E].frameIndex[t]=e%r}},{key:"setProgram",value:function(t){this[b].setProgram(t)}},{key:"transform",value:function(t,e){var r=this.getTransform(t);return e=d.mat2d.multiply(Array.of(0,0,0,0,0,0),r,e),this.setTransform(t,e),this}},{key:"translate",value:function(t,e){var r=u()(e,2),n=r[0],i=r[1],a=d.mat2d.create();return a=d.mat2d.translate(Array.of(0,0,0,0,0,0),a,[n,i]),this.transform(t,a)}},{key:"rotate",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],n=u()(r,2),i=n[0],a=n[1],o=d.mat2d.create();return o=d.mat2d.translate(Array.of(0,0,0,0,0,0),o,[i,a]),o=d.mat2d.rotate(Array.of(0,0,0,0,0,0),o,e),o=d.mat2d.translate(Array.of(0,0,0,0,0,0),o,[-i,-a]),this.transform(t,o)}},{key:"scale",value:function(t,e){var r=u()(e,2),n=r[0],i=r[1],a=void 0===i?n:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],s=u()(o,2),l=s[0],c=s[1],f=d.mat2d.create();return f=d.mat2d.translate(Array.of(0,0,0,0,0,0),f,[l,c]),f=d.mat2d.scale(Array.of(0,0,0,0,0,0),f,[n,a]),f=d.mat2d.translate(Array.of(0,0,0,0,0,0),f,[-l,-c]),this.transform(t,f)}},{key:"skew",value:function(t,e){var r=u()(e,2),n=r[0],i=r[1],a=void 0===i?n:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],s=u()(o,2),l=s[0],c=s[1],f=d.mat2d.create();return f=d.mat2d.translate(Array.of(0,0,0,0,0,0),f,[l,c]),f=d.mat2d.multiply(Array.of(0,0,0,0,0,0),f,d.mat2d.fromValues(1,Math.tan(a),Math.tan(n),1,0,0)),f=d.mat2d.translate(Array.of(0,0,0,0,0,0),f,[-l,-c]),this.transform(t,f)}},{key:"isPointCollision",value:function(t,e){var r,n=u()(e,2),i=n[0],a=n[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"both",l=this.getTransform(t),c=Object(v.transformPoint)([i,a],d.mat2d.invert(Array.of(0,0,0,0,0,0),l));return(r=this[b]).isPointCollision.apply(r,o()(c).concat([s]))}},{key:"isPointInFill",value:function(t,e){var r=u()(e,2),n=r[0],i=r[1];return this.isPointCollision(t,[n,i],"fill")}},{key:"isPointInStroke",value:function(t,e){var r=u()(e,2),n=r[0],i=r[1];return this.isPointCollision(t,[n,i],"stroke")}},{key:"bufferSize",get:function(){return this[E].bufferSize}},{key:"mesh",get:function(){return this[b]},set:function(t){this[b]=t,this[A]&&this.setTextureFrames(this[A],this[k])}},{key:"hasCloudColor",get:function(){return this[_]}},{key:"hasCloudFilter",get:function(){return this[S]}},{key:"enableBlend",get:function(){return this[b].enableBlend||this[M]}},{key:"amount",get:function(){return this[x]},set:function(t){var e=this[x];t!==e&&(t>this[E].bufferSize&&(this[E]=R(Math.max(t,this[E].bufferSize+1e3),this[E])),this[x]=t,t>e&&this.initBuffer(e))}},{key:"meshData",get:function(){var t=this[b].meshData,e=t.attributes,r=t.cells,n=t.positions,i=t.textureCoord,a=t.uniforms,o=this[A],s={attributes:m({},e),cells:r,positions:n,textureCoord:i,uniforms:m({},a),instanceCount:this[x],enableBlend:this.enableBlend};o.length&&o.forEach((function(t,e){s.uniforms["u_texFrame".concat(e)]=t}));var u=this[E],l=u.transform0,c=u.transform1,f=u.color0,h=u.color1,d=u.color2,p=u.color3,v=u.color4,g=u.fillColor,y=u.strokeColor,M=u.frameIndex;return this[b].uniforms.u_texSampler&&(s.attributes.a_frameIndex={data:M,divisor:1}),s.attributes.a_transform0={data:l,divisor:1},s.attributes.a_transform1={data:c,divisor:1},s.attributes.a_colorCloud0={data:f,divisor:1},s.attributes.a_colorCloud1={data:h,divisor:1},s.attributes.a_colorCloud2={data:d,divisor:1},s.attributes.a_colorCloud3={data:p,divisor:1},s.attributes.a_colorCloud4={data:v,divisor:1},this.hasCloudColor&&(s.attributes.a_fillCloudColor={data:g,divisor:1},s.attributes.a_strokeCloudColor={data:y,divisor:1}),s}},{key:"program",get:function(){return this[b].program}}]),t}()},function(t,e,r){r.r(e),r.d(e,"multiply",(function(){return i})),r.d(e,"grayscale",(function(){return a})),r.d(e,"brightness",(function(){return o})),r.d(e,"saturate",(function(){return s})),r.d(e,"contrast",(function(){return u})),r.d(e,"invert",(function(){return l})),r.d(e,"sepia",(function(){return c})),r.d(e,"opacity",(function(){return f})),r.d(e,"hueRotate",(function(){return h}));var n=r(42);function i(t,e){var r=[],n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=t[8],h=t[9],d=t[10],p=t[11],v=t[12],g=t[13],y=t[14],m=t[15],b=t[16],x=t[17],M=t[18],w=t[19],A=e[0],k=e[1],_=e[2],S=e[3],E=e[4];return r[0]=A*n+k*u+_*d+S*m,r[1]=A*i+k*l+_*p+S*b,r[2]=A*a+k*c+_*v+S*x,r[3]=A*o+k*f+_*g+S*M,r[4]=A*s+k*h+_*y+S*w+E,A=e[5],k=e[6],_=e[7],S=e[8],E=e[9],r[5]=A*n+k*u+_*d+S*m,r[6]=A*i+k*l+_*p+S*b,r[7]=A*a+k*c+_*v+S*x,r[8]=A*o+k*f+_*g+S*M,r[9]=A*s+k*h+_*y+S*w+E,A=e[10],k=e[11],_=e[12],S=e[13],E=e[14],r[10]=A*n+k*u+_*d+S*m,r[11]=A*i+k*l+_*p+S*b,r[12]=A*a+k*c+_*v+S*x,r[13]=A*o+k*f+_*g+S*M,r[14]=A*s+k*h+_*y+S*w+E,A=e[15],k=e[16],_=e[17],S=e[18],E=e[19],r[15]=A*n+k*u+_*d+S*m,r[16]=A*i+k*l+_*p+S*b,r[17]=A*a+k*c+_*v+S*x,r[18]=A*o+k*f+_*g+S*M,r[19]=A*s+k*h+_*y+S*w+E,r}function a(t){var e=.2126*(t=Object(n.clamp)(0,1,t)),r=.7152*t,i=.0722*t;return[e+1-t,r,i,0,0,e,r+1-t,i,0,0,e,r,i+1-t,0,0,0,0,0,1,0]}function o(t){return[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0]}function s(t){var e=.2126*(1-t),r=.7152*(1-t),n=.0722*(1-t);return[e+t,r,n,0,0,e,r+t,n,0,0,e,r,n+t,0,0,0,0,0,1,0]}function u(t){var e=.5*(1-t);return[t,0,0,0,e,0,t,0,0,e,0,0,t,0,e,0,0,0,1,0]}function l(t){var e=1-2*t;return[e,0,0,0,t,0,e,0,0,t,0,0,e,0,t,0,0,0,1,0]}function c(t){return[1-.607*t,.769*t,.189*t,0,0,.349*t,1-.314*t,.168*t,0,0,.272*t,.534*t,1-.869*t,0,0,0,0,0,1,0]}function f(t){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,t,0]}function h(t){var e=t/180*Math.PI,r=Math.cos(e),n=Math.sin(e),i=.2126,a=.7152,o=.0722;return[i+.7874*r+n*-i,a+r*-a+n*-a,o+r*-o+.9278*n,0,0,i+r*-i+.143*n,a+r*(1-a)+.14*n,o+r*-o+-.283*n,0,0,i+r*-i+-.7874*n,a+r*-a+n*a,o+.9278*r+n*o,0,0,0,0,0,1,0]}r(1).glMatrix.setMatrixArrayType(Array)},function(t,e,r){r.r(e),r.d(e,"default",(function(){return a}));var n=r(48),i=r.n(n);function a(t){var e=i()(t);if(!e||!e.length)throw new TypeError("Invalid color value.");return[e[0]/255,e[1]/255,e[2]/255,e[3]]}r(1).glMatrix.setMatrixArrayType(Array)},function(t,e,r){var n=r(49),i=r(53),a=r(55);t.exports=function(t){var e,r=n(t);return r.space?((e=Array(3))[0]=a(r.values[0],0,255),e[1]=a(r.values[1],0,255),e[2]=a(r.values[2],0,255),"h"===r.space[0]&&(e=i.rgb(e)),e.push(a(r.alpha,0,1)),e):[]}},function(t,e,r){(function(e){var n=r(50),i=r(51),a=r(52);t.exports=function(t){var r,s,u=[],l=1;if("string"==typeof t)if(n[t])u=n[t].slice(),s="rgb";else if("transparent"===t)l=0,s="rgb",u=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(t)){var c=(d=t.slice(1)).length;l=1,c<=4?(u=[parseInt(d[0]+d[0],16),parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16)],4===c&&(l=parseInt(d[3]+d[3],16)/255)):(u=[parseInt(d[0]+d[1],16),parseInt(d[2]+d[3],16),parseInt(d[4]+d[5],16)],8===c&&(l=parseInt(d[6]+d[7],16)/255)),u[0]||(u[0]=0),u[1]||(u[1]=0),u[2]||(u[2]=0),s="rgb"}else if(r=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(t)){var f=r[1],h="rgb"===f,d=f.replace(/a$/,"");s=d,c="cmyk"===d?4:"gray"===d?1:3,u=r[2].trim().split(/\s*,\s*/).map((function(t,e){if(/%$/.test(t))return e===c?parseFloat(t)/100:"rgb"===d?255*parseFloat(t)/100:parseFloat(t);if("h"===d[e]){if(/deg$/.test(t))return parseFloat(t);if(void 0!==o[t])return o[t]}return parseFloat(t)})),f===d&&u.push(1),l=h||void 0===u[c]?1:u[c],u=u.slice(0,c)}else t.length>10&&/[0-9](?:\s|\/)/.test(t)&&(u=t.match(/([0-9]+)/g).map((function(t){return parseFloat(t)})),s=t.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(t))if(i(t)){var p=a(t.r,t.red,t.R,null);null!==p?(s="rgb",u=[p,a(t.g,t.green,t.G),a(t.b,t.blue,t.B)]):(s="hsl",u=[a(t.h,t.hue,t.H),a(t.s,t.saturation,t.S),a(t.l,t.lightness,t.L,t.b,t.brightness)]),l=a(t.a,t.alpha,t.opacity,1),null!=t.opacity&&(l/=100)}else(Array.isArray(t)||e.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(t))&&(u=[t[0],t[1],t[2]],s="rgb",l=4===t.length?t[3]:1);else s="rgb",u=[t>>>16,(65280&t)>>>8,255&t];return{space:s,values:u,alpha:l}};var o={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}}).call(this,r(38))},function(t,e,r){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,r){var n=Object.prototype.toString;t.exports=function(t){var e;return"[object Object]"===n.call(t)&&(null===(e=Object.getPrototypeOf(t))||e===Object.getPrototypeOf({}))}},function(t,e){t.exports=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}},function(t,e,r){var n=r(54);t.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e,r,n,i,a,o=t[0]/360,s=t[1]/100,u=t[2]/100;if(0===s)return[a=255*u,a,a];e=2*u-(r=u<.5?u*(1+s):u+s-u*s),i=[0,0,0];for(var l=0;l<3;l++)(n=o+1/3*-(l-1))<0?n++:n>1&&n--,a=6*n<1?e+6*(r-e)*n:2*n<1?r:3*n<2?e+(r-e)*(2/3-n)*6:e,i[l]=255*a;return i}},n.hsl=function(t){var e,r,n=t[0]/255,i=t[1]/255,a=t[2]/255,o=Math.min(n,i,a),s=Math.max(n,i,a),u=s-o;return s===o?e=0:n===s?e=(i-a)/u:i===s?e=2+(a-n)/u:a===s&&(e=4+(n-i)/u),(e=Math.min(60*e,360))<0&&(e+=360),r=(o+s)/2,[e,100*(s===o?0:r<=.5?u/(s+o):u/(2-s-o)),100*r]}},function(t,e,r){t.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},function(t,e){t.exports=function(t,e,r){return e<r?t<e?e:t>r?r:t:t<r?r:t>e?e:t}},function(t,e,r){r.r(e),r.d(e,"default",(function(){return E}));var n=r(19),i=r.n(n),a=r(57),o=r.n(a),s=r(23),u=r.n(s),l=r(24),c=r.n(l),f=r(58),h=r.n(f),d=r(59),p=r.n(d),v=r(60),g=r.n(v),y=r(61),m=r(63),b=r.n(m),x=r(70),M=r(72);r(1).glMatrix.setMatrixArrayType(Array);var w=Symbol("contours"),A=Symbol("path"),k=Symbol("simplify"),_=Symbol("scale"),S=2*Math.PI,E=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u()(this,t),"string"==typeof e&&(e={path:e}),e.path?this[A]=h()(e.path):this[A]=[],this[w]=null,this[k]=null!=e.simplify?e.simplify:0,this[_]=null!=e.scale?e.scale:2}return c()(t,[{key:"normalize",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Object(y.default)(g()(this[A])).map((function(t){for(var n=o()(t),i=n[0],a=n.slice(1),s=[i],u=0;u<a.length;u+=2){var l=a[u]-e,c=a[u+1]-r;s.push(l,c)}return s}));return this.beginPath(),(t=this[A]).push.apply(t,i()(n)),this}},{key:"getPointAtLength",value:function(t){return this.contours?Object(x.getPointAtLength)(this[w],t):null}},{key:"getTotalLength",value:function(){return this.contours?Object(x.getTotalLength)(this[w]):0}},{key:"addPath",value:function(t){var e;this[w]=null,"string"==typeof t&&(t=h()(t)),(e=this[A]).push.apply(e,i()(t))}},{key:"beginPath",value:function(){this[A]=[],this[w]=null}},{key:"clear",value:function(){this.beginPath()}},{key:"ellipse",value:function(t,e,r,n,i,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;if(a+=i,o+=i,!(r<=0||n<=0||o===a)){o<a&&(o=a+S+(o-a)%S),o-a>S&&(o=a+S);var u=o-a;u>=S&&(o-=.001);var l=this[A].length>0&&u<S?"L":"M",c=Object(M.getPoint)(t,e,r,n,a),f=Object(M.getPoint)(t,e,r,n,o),h=Number(!s),d=u>Math.PI?1:0;s&&(d=1-d),l+=c.join(" "),l+="A".concat(r," ").concat(n," 0 ").concat(d," ").concat(h," ").concat(f.join(" ")),u>=S&&(l+="Z"),this.addPath(l)}}},{key:"arc",value:function(t,e,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return this.ellipse(t,e,r,r,0,n,i,a)}},{key:"arcTo",value:function(t,e,r,n,i,a,o){this[w]=null,this[A].push(["A",t,e,r,n,i,a,o])}},{key:"moveTo",value:function(t,e){this[w]=null,this[A].push(["M",t,e])}},{key:"lineTo",value:function(t,e){this[w]=null,this[A].push(["L",t,e])}},{key:"bezierCurveTo",value:function(t,e,r,n,i,a){this[w]=null,this[A].push(["C",t,e,r,n,i,a])}},{key:"quadraticCurveTo",value:function(t,e,r,n){this[w]=null,this[A].push(["Q",t,e,r,n])}},{key:"rect",value:function(t,e,r,n){var i="M".concat(t," ").concat(e,"L").concat(t+r," ").concat(e,"L").concat(t+r," ").concat(e+n,"L").concat(t," ").concat(e+n,"Z");this.addPath(i)}},{key:"closePath",value:function(){this[w]=null;var t=[],e=this[A].length;e>0&&(t=this[A][e-1]),"Z"!==t[0]&&"z"!==t[0]&&this[A].push(["Z"])}},{key:"contours",get:function(){var t=null;if(!this[w]&&this[A]){var e=Object(y.default)(g()(this[A]));this[w]=b()(e,this[_],this[k]),this[w].path=e,this[w].simplify=this[k],this[w].scale=this[_]}return this[w]&&((t=this[w].map((function(t){return i()(t)}))).path=this[w].path,t.simplify=this[w].simplify,t.scale=this[w].scale),t}},{key:"path",get:function(){return this[A]}},{key:"simplify",get:function(){return this[k]}},{key:"boundingBox",get:function(){var t=this.contours;if(t&&t.length){var e=t.reduce((function(t,e){return[].concat(i()(t),i()(e))}));return p()(e)}return[[0,0],[0,0]]}},{key:"boundingCenter",get:function(){var t=this.boundingBox;return t?[.5*(t[0][0]+t[1][0]),.5*(t[0][1]+t[1][1])]:[0,0]}}]),t}()},function(t,e,r){var n=r(14),i=r(21),a=r(16),o=r(18);t.exports=function(t){return n(t)||i(t)||a(t)||o()}},function(t,e){t.exports=function(t){var e=[];return t.replace(n,(function(t,n,a){var o=n.toLowerCase();for(a=function(t){var e=t.match(i);return e?e.map(Number):[]}(a),"m"==o&&a.length>2&&(e.push([n].concat(a.splice(0,2))),o="l",n="m"==n?"l":"L");;){if(a.length==r[o])return a.unshift(n),e.push(a);if(a.length<r[o])throw new Error("malformed path data");e.push([n].concat(a.splice(0,r[o])))}})),e};var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=/([astvzqmhlc])([^astvzqmhlc]*)/gi,i=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},function(t,e,r){t.exports=function(t){var e=t.length;if(0===e)return[[],[]];for(var r=t[0].length,n=t[0].slice(),i=t[0].slice(),a=1;a<e;++a)for(var o=t[a],s=0;s<r;++s){var u=o[s];n[s]=Math.min(n[s],u),i[s]=Math.max(i[s],u)}return[n,i]}},function(t,e){t.exports=function(t){var e=0,r=0,n=0,i=0;return t.map((function(t){var a=(t=t.slice())[0],o=a.toUpperCase();if(a!=o)switch(t[0]=o,a){case"a":t[6]+=n,t[7]+=i;break;case"v":t[1]+=i;break;case"h":t[1]+=n;break;default:for(var s=1;s<t.length;)t[s++]+=n,t[s++]+=i}switch(o){case"Z":n=e,i=r;break;case"H":n=t[1];break;case"V":i=t[1];break;case"M":n=e=t[1],i=r=t[2];break;default:n=t[t.length-2],i=t[t.length-1]}return t}))}},function(t,e,r){r.r(e),r.d(e,"default",(function(){return o}));var n=r(13),i=r.n(n),a=r(62);function o(t){for(var e,r=[],n=0,o=0,l=0,c=0,f=null,h=null,d=0,p=0,v=0,g=t.length;v<g;v++){var y=t[v],m=y[0];switch(m){case"M":l=y[1],c=y[2];break;case"A":var b=Object(a.default)(d,p,y[6],y[7],y[4],y[5],y[1],y[2],y[3]);if(!b.length)continue;b=b.map((function(t){var e=i()(t,8);return e[0],e[1],{x1:e[2],y1:e[3],x2:e[4],y2:e[5],x:e[6],y:e[7]}}));for(var x,M=0;M<b.length;M++)y=["C",(x=b[M]).x1,x.y1,x.x2,x.y2,x.x,x.y],M<b.length-1&&r.push(y);break;case"S":var w=d,A=p;"C"!=e&&"S"!=e||(w+=w-n,A+=A-o),y=["C",w,A,y[1],y[2],y[3],y[4]];break;case"T":"Q"==e||"T"==e?(f=2*d-f,h=2*p-h):(f=d,h=p),y=u(d,p,f,h,y[1],y[2]);break;case"Q":f=y[1],h=y[2],y=u(d,p,y[1],y[2],y[3],y[4]);break;case"L":y=s(d,p,y[1],y[2]);break;case"H":y=s(d,p,y[1],p);break;case"V":y=s(d,p,d,y[1]);break;case"Z":y=s(d,p,l,c)}e=m,d=y[y.length-2],p=y[y.length-1],y.length>4?(n=y[y.length-4],o=y[y.length-3]):(n=d,o=p),r.push(y)}return r}function s(t,e,r,n){return["C",t,e,r,n,r,n]}function u(t,e,r,n,i,a){return["C",t/3+2/3*r,e/3+2/3*n,i/3+2/3*r,a/3+2/3*n,i,a]}r(1).glMatrix.setMatrixArrayType(Array)},function(t,e,r){r.r(e),r.d(e,"default",(function(){return o})),r(1).glMatrix.setMatrixArrayType(Array);var n=2*Math.PI;function i(t,e,r,n){var i=t*r+e*n;return i>1&&(i=1),i<-1&&(i=-1),(t*n-e*r<0?-1:1)*Math.acos(i)}function a(t,e){var r=4/3*Math.tan(e/4),n=Math.cos(t),i=Math.sin(t),a=Math.cos(t+e),o=Math.sin(t+e);return[n,i,n-i*r,i+n*r,a+o*r,o-a*r,a,o]}function o(t,e,r,o,s,u,l,c,f){var h=Math.sin(f*n/360),d=Math.cos(f*n/360),p=d*(t-r)/2+h*(e-o)/2,v=-h*(t-r)/2+d*(e-o)/2;if(0===p&&0===v)return[];if(0===l||0===c)return[];l=Math.abs(l),c=Math.abs(c);var g=p*p/(l*l)+v*v/(c*c);g>1&&(l*=Math.sqrt(g),c*=Math.sqrt(g));var y=function(t,e,r,a,o,s,u,l,c,f){var h=f*(t-r)/2+c*(e-a)/2,d=-c*(t-r)/2+f*(e-a)/2,p=u*u,v=l*l,g=h*h,y=d*d,m=p*v-p*y-v*g;m<0&&(m=0),m/=p*y+v*g;var b=(m=Math.sqrt(m)*(o===s?-1:1))*u/l*d,x=m*-l/u*h,M=f*b-c*x+(t+r)/2,w=c*b+f*x+(e+a)/2,A=(h-b)/u,k=(d-x)/l,_=(-h-b)/u,S=(-d-x)/l,E=i(1,0,A,k),R=i(A,k,_,S);return 0===s&&R>0&&(R-=n),1===s&&R<0&&(R+=n),[M,w,E,R]}(t,e,r,o,s,u,l,c,h,d),m=[],b=y[2],x=y[3],M=Math.max(Math.ceil(Math.abs(x)/(n/4)),1);x/=M;for(var w=0;w<M;w++)m.push(a(b,x)),b+=x;return m.map((function(t){for(var e=0;e<t.length;e+=2){var r=t[e+0],n=t[e+1],i=d*(r*=l)-h*(n*=c),a=h*r+d*n;t[e+0]=i+y[0],t[e+1]=a+y[1]}return t}))}},function(t,e,r){r(1).glMatrix.setMatrixArrayType(Array);var n=r(64),i=r(66).copy,a=r(67);function o(t,e,r){return t[0]=e,t[1]=r,t}var s=[0,0],u=[0,0],l=[0,0];t.exports=function(t,e,r){var c=[],f=[],h=[0,0];return t.forEach((function(t,r,a){if("M"===t[0])i(h,t.slice(1)),f.length>0&&(c.push(f),f=[]);else{if("C"!==t[0])throw new Error("illegal type in SVG: "+t[0]);!function(t,e,r,i){n(r,o(s,i[1],i[2]),o(u,i[3],i[4]),o(l,i[5],i[6]),e,t)}(f,e,h,t),o(h,t[5],t[6])}})),f.length>0&&c.push(f),c.map((function(t){return a(t,r||0)}))}},function(t,e,r){t.exports=r(65)()},function(t,e){function r(t){return[t[0],t[1]]}function n(t,e){return[t,e]}t.exports=function(t){var e="number"==typeof(t=t||{}).recursion?t.recursion:8,i="number"==typeof t.epsilon?t.epsilon:1.1920929e-7,a="number"==typeof t.pathEpsilon?t.pathEpsilon:1,o="number"==typeof t.angleEpsilon?t.angleEpsilon:.01,s=t.angleTolerance||0,u=t.cuspLimit||0;return function(t,e,n,i,o,s){s||(s=[]);var u=a/(o="number"==typeof o?o:1);return function(t,e,n,i,a,o){a.push(r(t));var s=t[0],u=t[1],c=e[0],f=e[1],h=n[0],d=n[1],p=i[0],v=i[1];l(s,u,c,f,h,d,p,v,a,o,0),a.push(r(i))}(t,e,n,i,s,u*=u),s};function l(t,r,a,c,f,h,d,p,v,g,y){if(!(y>e)){var m=Math.PI,b=(t+a)/2,x=(r+c)/2,M=(a+f)/2,w=(c+h)/2,A=(f+d)/2,k=(h+p)/2,_=(b+M)/2,S=(x+w)/2,E=(M+A)/2,R=(w+k)/2,T=(_+E)/2,O=(S+R)/2;if(y>0){var C,L,P=d-t,D=p-r,q=Math.abs((a-d)*D-(c-p)*P),j=Math.abs((f-d)*D-(h-p)*P);if(q>i&&j>i){if((q+j)*(q+j)<=g*(P*P+D*D)){if(s<o)return void v.push(n(T,O));var I=Math.atan2(h-c,f-a);if((C=Math.abs(I-Math.atan2(c-r,a-t)))>=m&&(C=2*m-C),(L=Math.abs(Math.atan2(p-h,d-f)-I))>=m&&(L=2*m-L),C+L<s)return void v.push(n(T,O));if(0!==u){if(C>u)return void v.push(n(a,c));if(L>u)return void v.push(n(f,h))}}}else if(q>i){if(q*q<=g*(P*P+D*D)){if(s<o)return void v.push(n(T,O));if((C=Math.abs(Math.atan2(h-c,f-a)-Math.atan2(c-r,a-t)))>=m&&(C=2*m-C),C<s)return v.push(n(a,c)),void v.push(n(f,h));if(0!==u&&C>u)return void v.push(n(a,c))}}else if(j>i){if(j*j<=g*(P*P+D*D)){if(s<o)return void v.push(n(T,O));if((C=Math.abs(Math.atan2(p-h,d-f)-Math.atan2(h-c,f-a)))>=m&&(C=2*m-C),C<s)return v.push(n(a,c)),void v.push(n(f,h));if(0!==u&&C>u)return void v.push(n(f,h))}}else if((P=T-(t+d)/2)*P+(D=O-(r+p)/2)*D<=g)return void v.push(n(T,O))}l(t,r,b,x,_,S,T,O,v,g,y+1),l(T,O,E,R,A,k,d,p,v,g,y+1)}}}},function(t,e,r){r.r(e),r.d(e,"create",(function(){return a})),r.d(e,"clone",(function(){return i})),r.d(e,"copy",(function(){return o})),r.d(e,"scaleAndAdd",(function(){return s})),r.d(e,"dot",(function(){return u})),r.d(e,"rotate",(function(){return l})),r.d(e,"cross",(function(){return c})),r.d(e,"sub",(function(){return f})),r.d(e,"add",(function(){return h})),r.d(e,"computeMiter",(function(){return g})),r.d(e,"normal",(function(){return y})),r.d(e,"direction",(function(){return m}));var n=r(1);function i(t){return[t[0],t[1]]}function a(){return[0,0]}r(1).glMatrix.setMatrixArrayType(Array);var o=n.vec2.copy,s=n.vec2.scaleAndAdd,u=n.vec2.dot,l=n.vec2.rotate,c=n.vec2.cross,f=n.vec2.sub,h=n.vec2.add,d=n.vec2.normalize,p=n.vec2.set,v=[0,0];function g(t,e,r,n,i){h(t,r,n),d(t,t),p(e,-t[1],t[0]),p(v,-r[1],r[0]);var a=i/u(e,v);return Math.abs(a)}function y(t,e){return p(t,-e[1],e[0]),t}function m(t,e,r){return f(t,e,r),d(t,t),t}},function(t,e,r){var n=r(68),i=r(69);t.exports=function(t,e){return t=n(t,e),t=i(t,e)},t.exports.radialDistance=n,t.exports.douglasPeucker=i},function(t,e){t.exports=function(t,e){if(t.length<=1)return t;for(var r,n,i,a,o,s=(e="number"==typeof e?e:1)*e,u=t[0],l=[u],c=1,f=t.length;c<f;c++)r=t[c],i=u,a=void 0,o=void 0,a=(n=r)[0]-i[0],o=n[1]-i[1],a*a+o*o>s&&(l.push(r),u=r);return u!==r&&l.push(r),l}},function(t,e){function r(t,e,r){var n=e[0],i=e[1],a=r[0]-n,o=r[1]-i;if(0!==a||0!==o){var s=((t[0]-n)*a+(t[1]-i)*o)/(a*a+o*o);s>1?(n=r[0],i=r[1]):s>0&&(n+=a*s,i+=o*s)}return(a=t[0]-n)*a+(o=t[1]-i)*o}function n(t,e,i,a,o){for(var s,u=a,l=e+1;l<i;l++){var c=r(t[l],t[e],t[i]);c>u&&(s=l,u=c)}u>a&&(s-e>1&&n(t,e,s,a,o),o.push(t[s]),i-s>1&&n(t,s,i,a,o))}t.exports=function(t,e){if(t.length<=1)return t;var r=(e="number"==typeof e?e:1)*e,i=t.length-1,a=[t[0]];return n(t,0,i,r,a),a.push(t[i]),a}},function(t,e,r){r.r(e),r.d(e,"getTotalLength",(function(){return o})),r.d(e,"getPointAtLength",(function(){return u})),r.d(e,"getDashContours",(function(){return l}));var n=r(19),i=r.n(n),a=r(71);function o(t){if(null!=t.totalLength)return t.totalLength;var e=0;return t.forEach((function(t){for(var r=t[0],n=1;n<t.length;n++){var i=t[n];e+=Object(a.distance)(r,i),r=i}})),t.totalLength=e,e}function s(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e=Number(e),!Number.isFinite(e))throw new TypeError("Failed to execute 'getPointAtLength' on figure: The provided float value is non-finite.");if(e<=0)throw new TypeError("Length must > 0");var n=o(t);if(e>=n){var s=t[t.length-1],u=s[s.length-2],l=s[s.length-1],c=Math.atan2(l[1]-u[1],l[0]-u[0]);return{current:t.map((function(t){return i()(t)})),point:{x:l[0],y:l[1],angle:c}}}for(var f=[],h=0;h<t.length;h++){f[h]=[];for(var d=t[h],p=d[0],v=1;v<d.length;v++){var g=d[v],y=Object(a.distance)(p,g);if(e<y){var m=e/y,b=Math.atan2(g[1]-p[1],g[0]-p[0]),x={x:p[0]*(1-m)+g[0]*m,y:p[1]*(1-m)+g[1]*m,angle:b};if(f[h].push(p),e>0&&f[h].push([x.x,x.y]),!r)return{current:f,point:x};for(var M=[],w=h;h<t.length;h++){for(M[h-w]=[],h===w&&M[0].push([x.x,x.y]);v<d.length;v++)M[h-w].push(d[v]);v=0}return{current:f,point:x,rest:M}}e-=y,f[h].push(p),p=g}}}function u(t,e){if(e=Number(e),!Number.isFinite(e))throw new TypeError("Failed to execute 'getPointAtLength' on figure: The provided float value is non-finite.");if(t.length<=0)return{x:0,y:0,angle:0};if(e<=0){var r=t[0][0],n=t[0][1],i=Math.atan2(n[1]-r[1],n[0]-r[0]);return{x:r[0],y:r[1],angle:i}}return s(t,e,!1).point}function l(t,e,r){var n=0,a=e[0],o=t,u=[],l=e.length;if(r>0){do{r-=e[n%l],n++}while(r>0);r<0&&(a=-r,n--)}else if(r<0){n=-1;do{r+=e[n%l+l-1],n--}while(r<0);r>=0&&(a=e[++n%l+l-1]-r)}do{var c=s(o,a);o=c.rest,++n%2&&u.push.apply(u,i()(c.current));var f=n%l;f<0&&(f+=l),a=e[f]}while(o);return u}r(1).glMatrix.setMatrixArrayType(Array)},function(t,e,r){r.r(e),r.d(e,"normalize",(function(){return a})),r.d(e,"distance",(function(){return o}));var n=r(13),i=r.n(n);function a(t,e,r,n){var a=i()(t,3),o=a[0],s=a[1],u=a[2];return o=2*o/e-1,s=1-2*s/r,Number.isFinite(n)?[o,s,u=2*u/n-1]:[o,s]}function o(t,e){var r=i()(t,3),n=r[0],a=r[1],o=r[2],s=void 0===o?0:o,u=i()(e,3),l=u[0],c=u[1],f=u[2],h=void 0===f?0:f;return Math.hypot(l-n,c-a,h-s)}r(1).glMatrix.setMatrixArrayType(Array)},function(t,e,r){r.r(e),r.d(e,"getPoint",(function(){return i})),r(1).glMatrix.setMatrixArrayType(Array);var n=2*Math.PI;function i(t,e,r,i,a){(a%=n)<0&&(a+=n);var o=Math.tan(a);if(Math.abs(o)<1e5){var s=e-o*t,u=1/Math.pow(r,2)+Math.pow(o,2)/Math.pow(i,2),l=-1;(a<=Math.PI/2||a>3*Math.PI/2)&&(l=1);var c=l*Math.sqrt(1/u)+t;return[c,o*c+s]}return a<Math.PI?[t,e+i]:[t,e-i]}},function(t,e,r){r.r(e),r.d(e,"default",(function(){return K}));var n=r(74),i=r.n(n),a=r(19),o=r.n(a),s=r(23),u=r.n(s),l=r(24),c=r.n(l),f=r(13),h=r.n(f),d=r(1),p=r(59),v=r.n(p),g=r(76),y=r(44),m=r(40),b=r(46),x=r(78),M=r(70),w=r(79),A=r.n(w),k=r(63),_=r.n(k),S=r(47),E=r(56),R=r(37);r(1).glMatrix.setMatrixArrayType(Array);var T=Symbol("mesh"),O=Symbol("contours"),C=Symbol("stroke"),L=Symbol("fill"),P=Symbol("strokeColor"),D=Symbol("fillColor"),q=Symbol("transform"),j=Symbol("invertTransform"),I=Symbol("uniforms"),N=Symbol("texOptions"),F=Symbol("blend"),U=Symbol("applyTexture"),B=Symbol("applyTransform"),V=Symbol("applyGradientTransform"),z=Symbol("applyProgram"),G=Symbol("gradient"),H=Symbol("filter"),Y=Symbol("opacity"),W=Symbol("program"),X=Symbol("attributes"),J=Symbol("pass"),$=Symbol("clipContext"),Z=Symbol("applyClipPath");function Q(t,e){for(var r=t[1][0]-t[0][0],n=t[1][1]-t[0][1],i=[],a=0;a<e.length;a++){var o=e[a],s=[(o[0]-t[0][0])/r,1-(o[1]-t[0][1])/n];i.push(s)}return i}var K=function(){function t(e){u()(this,t),this[C]=null,this[L]=null,this[q]=[1,0,0,1,0,0],this[Y]=1,this[I]={},this[H]=[],this[F]=null,this[N]={},this.contours=e.contours,this[W]=null,this[X]={},this[J]=[]}return c()(t,[{key:"setProgram",value:function(t){this[W]=t,this[T]&&this[z](t)}},{key:"setAttribute",value:function(t,e){null==e?delete this[X][t]:this[X][t]=e}},{key:"getOpacity",value:function(){return this[Y]}},{key:"setOpacity",value:function(t){if(t<0||t>1)throw new TypeError("Invalid opacity value.");this[T]&&this[T].positions.forEach((function(e){e[2]=1/e[2]>0?t:-t})),this[Y]=t}},{key:"setClipPath",value:function(t){this.clipPath=t,this[I].u_clipSampler&&this[I].u_clipSampler.delete(),this.setUniforms({u_clipSampler:null}),this[T]&&delete this[T].attributes.a_clipUV,t&&this[T]&&this[Z]()}},{key:Z,value:function(){if(this.clipPath){this[$]||(this[$]=R.default.createCanvas(1,1));var t=h()(this.boundingBox,2),e=h()(t[0],2),r=e[0],n=e[1],i=h()(t[1],2),a=i[0],o=i[1];a&&o&&(this[$].width=a-r,this[$].height=o-n);var s=this[$].getContext("2d"),u=new Path2D(this.clipPath);s.clearRect(0,0,this[$].width,this[$].height),s.save(),s.translate(-r,-n),s.fillStyle="white",s.fill(u),s.restore(),this[T].clipPath=this[$];var l=Q(this.boundingBox,this[T].position0);this[T].attributes.a_clipUV=l}}},{key:"getPointAtLength",value:function(t){return Object(M.getPointAtLength)(this[O],t)}},{key:"getTotalLength",value:function(){return Object(M.getTotalLength)(this[O])}},{key:z,value:function(t){for(var e=this[X],r=this[T].position0,n=Object.entries(t._attribute),i=0;i<n.length;i++){var a=h()(n[i],2),o=a[0],s=a[1];if("a_color"!==o&&"a_sourceRect"!==o&&"ignored"!==s){var u=e[o];if("uv"!==o||u){this[T].attributes[o]=[];for(var l=0;l<r.length;l++){var c=r[l];this[T].attributes[o].push(u?u(c,i,r):Array(s.size).fill(0))}}else{var f=this[T].boundingBox||v()(r);this[T].attributes[o]=Q(f,r)}}}}},{key:B,value:function(t,e){for(var r=t.positions,n=t.position0,i=0;i<r.length;i++){var a=h()(n[i],2),o=a[0],s=a[1],u=r[i];u[0]=o*e[0]+s*e[2]+e[4],u[1]=o*e[1]+s*e[3]+e[5]}this._updateMatrix=!1}},{key:V,value:function(){var t=this[q],e=o()(this._radialGradientVector);if(e){var r=h()(e,5),n=r[0],i=r[1],a=r[3],s=r[4];e[0]=n*t[0]+i*t[2]+t[4],e[1]=n*t[1]+i*t[3]+t[5],e[3]=a*t[0]+s*t[2]+t[4],e[4]=a*t[1]+s*t[3]+t[5],this[I].u_radialGradientVector=e}}},{key:U,value:function(t,e){var r=this[I].u_texSampler;if(r){var n,i,a=r._img,o=a.width,s=a.height,u=e.srcRect,l=e.rect||[0,0];if(e.rotated&&(l=[-l[1],l[0],l[3],l[2]]),null==l[2]&&(l[2]=u?u[2]:o),null==l[3]&&(l[3]=u?u[3]:s),e.hidden)t.textureCoord=t.positions.map((function(){return[-1,-1,-1]}));else if(!(t.textureCoord&&(n=this[N].rect,i=e.rect,null==n&&null==i||null!=n&&null!=i&&n[0]===i[0]&&n[1]===i[1]&&n[2]===i[2]&&n[3]===i[3])&&this[N].hidden===e.hidden&&this[N].rotated===e.rotated)){var c=null;e.rotated&&(c=d.mat2d.rotate(Array.of(0,0,0,0,0,0),d.mat2d.fromValues(1,0,0,1,0,0),.5*Math.PI),c=d.mat2d.translate(Array.of(0,0,0,0,0,0),c,[0,-l[2]])),t.textureCoord=t.position0.map((function(t){var r=h()(t,3),n=r[0],i=r[1];if(1/r[2]>0){if(e.rotated){var a=n*c[0]+i*c[2]+c[4],o=n*c[1]+i*c[3]+c[5];n=a,i=o}var s=function(t,e,r){var n=h()(t,2),i=n[0],a=n[1],o=h()(e,4),s=o[0],u=o[1],l=o[2],c=o[3];return r.scale||(i/=l,a=1-a/c,i-=s,a+=u),[i,a,0]}([n,i],[l[0]/l[2],l[1]/l[3],l[2],l[3]],e);return e.repeat&&(s[2]=1),s}return[-1,-1,-1]}))}if(u){var f=[u[0]/o,u[1]/s,u[2]/o,u[3]/s];t.attributes.a_sourceRect=t.positions.map((function(){return[].concat(f)}))}else t.attributes.a_sourceRect=t.positions.map((function(){return[0,0,0,0]}))}}},{key:"accurate",value:function(t){if(this.contours&&this.contours.path){var e=this.contours.simplify,r=function(t,e,r){var n=_()(t,e,r);return n.path=t,n.simplify=r,n.scale=e,n}(this.contours.path,2*t,e);this[T]=null,this[O]=r}}},{key:"canIgnore",value:function(){var t=null==this[C]||0===this[C].lineWidth||0===this[P][3],e=null==this[L]||0===this[D][3],r=null==this[I].u_radialGradientVector,n=null==this[I].u_texSampler;return 0===this[Y]||null==this[W]&&t&&e&&r&&n&&!this.beforeRender&&!this.afterRender}},{key:"setStroke",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.thickness,r=void 0===e?1:e,n=t.cap,i=void 0===n?"butt":n,a=t.join,o=void 0===a?"miter":a,s=t.miterLimit,u=void 0===s?10:s,l=t.color,c=void 0===l?[0,0,0,0]:l,f=t.lineDash,h=void 0===f?null:f,d=t.lineDashOffset,p=void 0===d?0:d,v=t.roundSegments,y=void 0===v?20:v;return this[T]=null,this[C]=new g.default({lineWidth:r,lineCap:i,lineJoin:o,miterLimit:u,roundSegments:y}),"string"==typeof c&&(c=Object(S.default)(c)),this[P]=c,this[C].lineDash=h,this[C].lineDashOffset=p,this}},{key:"setFill",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.rule,r=void 0===e?this.fillRule:e,n=t.color,i=void 0===n?[0,0,0,0]:n;return this[T]=null,this[L]={rule:r},"string"==typeof i&&(i=Object(S.default)(i)),this[D]=i,this}},{key:"setTexture",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t&&t.image){var r=t,n=r.image,i=r.rect;if(t=n,e.rect)for(var a=0;a<e.rect.length;a++)i[a]=e.rect[a];e.rect=i}return this[L]||this.setFill(),this.setUniforms({u_texSampler:t}),this[T]&&this[U](this[T],e),this[N]=e,this}},{key:"setCircularGradient",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.vector,r=t.colors,n=t.type,i=void 0===n?"fill":n;if(3!==e.length)throw new TypeError("Invalid linearGradient.");this.setGradient({vector:e,colors:r,type:i})}},{key:"setLinearGradient",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.vector,r=t.colors,n=t.type,i=void 0===n?"fill":n;if(4!==e.length)throw new TypeError("Invalid linearGradient.");this.setGradient({vector:e,colors:r,type:i})}},{key:"setRadialGradient",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.vector,r=t.colors,n=t.type,i=void 0===n?"fill":n;if(6!==e.length)throw new TypeError("Invalid radialGradient.");this.setGradient({vector:e,colors:r,type:i})}},{key:"setGradient",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.vector,r=t.colors,n=t.type,i=void 0===n?"fill":n;r=r.map((function(t){var e=t.offset,r=t.color;return"string"==typeof r&&(r=Object(S.default)(r)),{offset:e,color:r}})),this[G]=this[G]||{},this[G][i]={vector:e,colors:r},r.sort((function(t,e){return t.offset-e.offset}));var a,s=[];if(r.forEach((function(t){var e=t.offset,r=t.color;s.push.apply(s,[e].concat(o()(r)))})),a=4===e.length?[e[0],e[1],0,e[2],e[3],0]:o()(e),s.length<40&&s.push(-1),s.length>40)throw new Error("Too many colors, should be less than 8 colors");return this._radialGradientVector=a,this[I].u_colorSteps=s,this[I].u_gradientType="fill"===i?1:0,this[V](),this}},{key:"setUniforms",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this[I],t),this}},{key:"setTransform",value:function(){for(var t=this[q],e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return d.mat2d.equals(r,t)||(this[q]=r,delete this[j],this._updateMatrix=!0),this}},{key:"transform",value:function(){for(var t=this[q],e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this[q]=d.mat2d.multiply(Array.of(0,0,0,0,0,0),t,r),delete this[j],this._updateMatrix=!0,this}},{key:"translate",value:function(t,e){var r=d.mat2d.create();return r=d.mat2d.translate(Array.of(0,0,0,0,0,0),r,[t,e]),this.transform.apply(this,o()(r))}},{key:"rotate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],r=h()(e,2),n=r[0],i=r[1],a=d.mat2d.create();return a=d.mat2d.translate(Array.of(0,0,0,0,0,0),a,[n,i]),a=d.mat2d.rotate(Array.of(0,0,0,0,0,0),a,t),a=d.mat2d.translate(Array.of(0,0,0,0,0,0),a,[-n,-i]),this.transform.apply(this,o()(a))}},{key:"scale",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],n=h()(r,2),i=n[0],a=n[1],s=d.mat2d.create();return s=d.mat2d.translate(Array.of(0,0,0,0,0,0),s,[i,a]),s=d.mat2d.scale(Array.of(0,0,0,0,0,0),s,[t,e]),s=d.mat2d.translate(Array.of(0,0,0,0,0,0),s,[-i,-a]),this.transform.apply(this,o()(s))}},{key:"skew",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],n=h()(r,2),i=n[0],a=n[1],s=d.mat2d.create();return s=d.mat2d.translate(Array.of(0,0,0,0,0,0),s,[i,a]),s=d.mat2d.multiply(Array.of(0,0,0,0,0,0),s,d.mat2d.fromValues(1,Math.tan(e),Math.tan(t),1,0,0)),s=d.mat2d.translate(Array.of(0,0,0,0,0,0),s,[-i,-a]),this.transform.apply(this,o()(s))}},{key:"clearFilter",value:function(){return this.setColorTransform(null),this[H].length=0,this}},{key:"setColorTransform",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return null===e[0]?this.setUniforms({u_filterFlag:0,u_colorMatrix:0}):this.setUniforms({u_filterFlag:1,u_colorMatrix:e}),this}},{key:"transformColor",value:function(){for(var t=this.uniforms.u_colorMatrix,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t=t?Object(b.multiply)(t,r):r,this.setColorTransform.apply(this,o()(t)),this}},{key:"blur",value:function(t){return this[H].push("blur(".concat(t,"px)")),this}},{key:"brightness",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this[H].push("brightness(".concat(100*t,"%)")),this.transformColor.apply(this,o()(Object(b.brightness)(t)))}},{key:"contrast",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this[H].push("contrast(".concat(100*t,"%)")),this.transformColor.apply(this,o()(Object(b.contrast)(t)))}},{key:"dropShadow",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,0,0,1];return Array.isArray(n)&&(n=Object(m.default)(n)),this[H].push("drop-shadow(".concat(t,"px ").concat(e,"px ").concat(r,"px ").concat(n,")")),this}},{key:"grayscale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this[H].push("grayscale(".concat(100*t,"%)")),this.transformColor.apply(this,o()(Object(b.grayscale)(t)))}},{key:"hueRotate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this[H].push("hue-rotate(".concat(t,"deg)")),this.transformColor.apply(this,o()(Object(b.hueRotate)(t)))}},{key:"invert",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this[H].push("invert(".concat(100*t,"%)")),this.transformColor.apply(this,o()(Object(b.invert)(t)))}},{key:"opacity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this[H].push("opacity(".concat(100*t,"%)")),this.transformColor.apply(this,o()(Object(b.opacity)(t)))}},{key:"saturate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this[H].push("saturate(".concat(100*t,"%)")),this.transformColor.apply(this,o()(Object(b.saturate)(t)))}},{key:"sepia",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this[H].push("sepia(".concat(100*t,"%)")),this.transformColor.apply(this,o()(Object(b.sepia)(t)))}},{key:"url",value:function(t){return this[H].push("url(".concat(t,")")),this}},{key:"isPointCollision",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"both",n=this.meshData,i=n.positions,a=n.cells,o=this.invertMatrix,s=o[0]*t+o[2]*e+o[4],u=o[1]*t+o[3]*e+o[5],l=this.boundingBox;if(s<l[0][0]||s>l[1][0]||u<l[0][1]||u>l[1][1])return!1;function c(t,e,r){var n=h()(t,2),i=n[0],a=n[1],o=h()(e,2),s=o[0],u=o[1],l=h()(r,2),c=l[0]-s,f=l[1]-u,d=((i-s)*c+(a-u)*f)/(Math.pow(c,2)+Math.pow(f,2));return d>=0&&d<=1}for(var f=0;f<a.length;f++){var d=a[f];if("fill"===r&&d[0]>=n.fillPointCount)break;if(!("stroke"===r&&d[0]<n.fillPointCount)){var p=d.map((function(t){return i[t]})),v=h()(p,3),g=h()(v[0],2),y=g[0],m=g[1],b=h()(v[1],2),x=b[0],M=b[1],w=h()(v[2],2),A=w[0],k=w[1],_=Math.sign((t-y)*(M-m)-(x-y)*(e-m));if(0===_&&c([t,e],[y,m],[x,M]))return!0;var S=Math.sign((t-x)*(k-M)-(A-x)*(e-M));if(0===S&&c([t,e],[x,M],[A,k]))return!0;var E=Math.sign((t-A)*(m-k)-(y-A)*(e-k));if(0===E&&c([t,e],[A,k],[y,m]))return!0;if(1===_&&1===S&&1===E||-1===_&&-1===S&&-1===E)return!0}}return!1}},{key:"isPointInFill",value:function(t,e){return this.isPointCollision(t,e,"fill")}},{key:"isPointInStroke",value:function(t,e){return this.isPointCollision(t,e,"stroke")}},{key:"addPass",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.width,a=r.height,o=i()(r,["width","height"]),s=new E.default;s.rect(0,0,n,a);var u=new t(s,{width:n,height:a});u.setUniforms(o),u.setProgram(e),this[J].push(u)}},{key:"contours",get:function(){return this[O]},set:function(t){this[T]=null,this[O]=t;var e=t.scale;this.transformScale/e>1.5&&this.accurate(this.transformScale)}},{key:"program",get:function(){return this[W]}},{key:"blend",get:function(){return null==this[F]?"auto":this[F]},set:function(t){this[F]=t,this[T]&&(this[T].enableBlend=this.enableBlend)}},{key:"boundingBox",get:function(){if(this[T]&&this[T].boundingBox)return this[T].boundingBox;var t=this.meshData;if(t){var e=t.position0;return e.length?(t.boundingBox=v()(e),t.boundingBox):[[0,0],[0,0]]}return[[0,0],[0,0]]}},{key:"boundingCenter",get:function(){var t=this.boundingBox;return t?[.5*(t[0][0]+t[1][0]),.5*(t[0][1]+t[1][1])]:[0,0]}},{key:"fillRule",get:function(){return this[L]?this[L].rule:"nonzero"}},{key:"lineWidth",get:function(){return this[C]?this[C].lineWidth:0}},{key:"lineCap",get:function(){return this[C]?this[C].lineCap:""}},{key:"lineJoin",get:function(){return this[C]?this[C].lineJoin:""}},{key:"miterLimit",get:function(){return this[C]?this[C].miterLimit:0}},{key:"strokeStyle",get:function(){return this[P]&&0!==this[P][3]?Object(m.default)(this[P]):""}},{key:"lineDash",get:function(){return this[C]?this[C].lineDash:null}},{key:"lineDashOffset",get:function(){return this[C]?this[C].lineDashOffset:0}},{key:"fillStyle",get:function(){return this[D]&&0!==this[D][3]?Object(m.default)(this[D]):""}},{key:"gradient",get:function(){return this[G]}},{key:"texture",get:function(){return this[I].u_texSampler?{image:this[I].u_texSampler._img,options:this[N]}:null}},{key:"enableBlend",get:function(){return!0===this[F]||!1===this[F]?this[F]:this[Y]<1||null!=this[P]&&this[P][3]<1||null!=this[D]&&this[D][3]<1||null!=this[I].u_colorMatrix&&this[I].u_colorMatrix[18]<1||null!=this[I].u_radialGradientVector||this.beforeRender||this.afterRender}},{key:"filterCanvas",get:function(){return/blur|drop-shadow|url/.test(this.filter)}},{key:"filter",get:function(){return this[H].join(" ")}},{key:"transformMatrix",get:function(){return this[q]}},{key:"invertMatrix",get:function(){if(!this[j]){var t=d.mat2d.invert(Array.of(0,0,0,0,0,0),this[q]);this[j]=t}return this[j]}},{key:"transformScale",get:function(){var t=this[q];return Math.max(Math.hypot(t[0],t[1]),Math.hypot(t[2],t[3]))}},{key:"uniforms",get:function(){return this[I]}},{key:"pass",get:function(){return this[J]}},{key:"meshData",get:function(){var t=this;if(this._updateMatrix&&this.transformScale/this.contours.scale>1.5&&this.accurate(this.transformScale),!this[T]){this[L]||this[C]||this.setFill();var e=this[O],r={};if(e&&e.length){if(this[L])try{var n=A()(e,this[L]);n.positions=n.positions.map((function(e){return e.push(t[Y]),e})),n.attributes={a_color:Array.from({length:n.positions.length}).map((function(){return t[D].map((function(t){return Math.round(255*t)}))}))},r.fill=n}catch(t){}if(this[C]){var i=this[C].lineDash,a=e;if(i){var o=this[C].lineDashOffset;a=Object(M.getDashContours)(e,i,o)}var s=a.map((function(e,r){var n=e.length>1&&d.vec2.equals(e[0],e[e.length-1]),i=t[C].build(e,n);return A()([i])}));s.forEach((function(e){e.positions=e.positions.map((function(e){return e.push(-t[Y]),e})),e.attributes={a_color:Array.from({length:e.positions.length}).map((function(){return t[P].map((function(t){return Math.round(255*t)}))}))}})),r.stroke=Object(y.default)(s)}}var u=Object(y.default)([r.fill,r.stroke]);u.fillPointCount=r.fill?r.fill.positions.length:0,u.enableBlend=this.enableBlend,u.position0=u.positions.map((function(t){var e=h()(t,3);return[e[0],e[1],e[2]]})),u.uniforms=this[I],this[T]=u,this[I].u_texSampler&&this[U](u,this[N]);var l=this[q];Object(x.isUnitTransform)(l)||(this[B](u,l),this[I].u_radialGradientVector&&this[V]()),this.clipPath&&this[Z](),this[W]&&this[z](this[W])}return this._updateMatrix&&(this[T].matrix=this[q],this[B](this[T],this[q]),this[I].u_radialGradientVector&&this[V]()),this[T]}}]),t}()},function(t,e,r){var n=r(75);t.exports=function(t,e){if(null==t)return{};var r,i,a=n(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}},function(t,e){t.exports=function(t,e){if(null==t)return{};var r,n,i={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}},function(t,e,r){r.r(e);var n=r(77);r(1).glMatrix.setMatrixArrayType(Array),e.default=n.Stroke},function(t,e,r){r.r(e),r.d(e,"Stroke",(function(){return v}));var n=r(19),i=r.n(n),a=r(23),o=r.n(a),s=r(24),u=r.n(s),l=r(66);r(1).glMatrix.setMatrixArrayType(Array);var c=Object(l.create)(),f=Object(l.create)(),h=Object(l.create)(),d=Object(l.create)(),p=Object(l.create)(),v=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.lineWidth,n=void 0===r?1:r,i=e.lineJoin,a=void 0===i?"miter":i,s=e.miterLimit,u=void 0===s?10:s,l=e.lineCap,c=void 0===l?"butt":l,f=e.roundSegments,h=void 0===f?20:f;o()(this,t),this.lineWidth=n,this.lineJoin=a,this.miterLimit=u,this.lineCap=c,this.roundSegments=h,this._normal=null}return u()(t,[{key:"build",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.length;if(t=i()(t),r<2)return t;e&&(t[0][0]===t[r-1][0]&&t[0][1]===t[r-1][1]||t.push(i()(t[0])),t.push(i()(t[1]))),r=t.length,this._normal=null;var n={left:[],right:[]},a=this.lineWidth/2,o=this.lineCap;if(!e&&"square"===o){Object(l.direction)(f,t[0],t[1]),Object(l.scaleAndAdd)(t[0],t[0],f,a);var s=t.length-1;Object(l.direction)(f,t[s],t[s-1]),Object(l.scaleAndAdd)(t[s],t[s],f,a)}for(var u=1;u<r;u++){var c=t[u-1],h=t[u],d=t[u+1];this._seg(n,c,h,d,a,e)}e||"round"!==o||m(n,this.roundSegments);var p=[].concat(i()(n.left),i()(n.right.reverse()));return p}},{key:"_seg",value:function(t,e,r,n,i,a){var o="bevel"===this.lineJoin,s="round"===this.lineJoin;if(Object(l.direction)(f,r,e),this._normal||(this._normal=Object(l.create)(),Object(l.normal)(this._normal,f)),t.left.length||y(t,e,this._normal,i),n){Object(l.direction)(h,n,r);var u=Object(l.computeMiter)(d,p,f,h,i);u=Math.min(u,1e20);var v=Object(l.dot)(d,this._normal)<0?-1:1,m=o||s;if(m||"miter"!==this.lineJoin||u/i>this.miterLimit&&(m=!0),m){Object(l.scaleAndAdd)(c,r,this._normal,-i*v),g(t,c,v);var b=1/0;e&&(b=Math.min(b,Math.hypot(r[0]-e[0],r[1]-e[1]))),n&&(b=Math.min(b,Math.hypot(n[0]-r[0],n[1]-r[1])));var x=Math.max(i,Math.min(u,b));if(Object(l.scaleAndAdd)(c,r,p,x*v),g(t,c,-v),n)if(Object(l.normal)(c,h),Object(l.copy)(this._normal,c),Object(l.scaleAndAdd)(c,r,c,-i*v),s){for(var M=Object(l.clone)(c),w=v>0?t.left[t.left.length-1]:t.right[t.right.length-1],A=Object(l.clone)(r),k=Object(l.sub)(Object(l.create)(),w,A),_=Object(l.sub)(Object(l.create)(),M,A),S=Math.PI/this.roundSegments,E=0;E<this.roundSegments&&(Object(l.rotate)(k,k,[0,0],v*S),Math.sign(Object(l.cross)(c,k,_)[2])===v);E++)Object(l.add)(c,k,A),g(t,c,v);g(t,M,v)}else g(t,c,v)}else y(t,r,p,u),Object(l.copy)(this._normal,p)}else Object(l.normal)(this._normal,f),y(t,a?e:r,this._normal,i)}}]),t}();function g(t,e,r){r>0?t.left.push(Object(l.clone)(e)):t.right.push(Object(l.clone)(e))}function y(t,e,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;Object(l.scaleAndAdd)(c,e,r,-n),g(t,c,-i),Object(l.scaleAndAdd)(c,e,r,n),g(t,c,i)}function m(t,e){var r=t.left,n=t.right,i=Object(l.create)(),a=Object(l.create)(),o=r[0],s=n[0],u=[.5*(o[0]+s[0]),.5*(o[1]+s[1])];Object(l.sub)(a,o,u);for(var f=1;f<=e;f++){var h=-1*Math.PI*f/e;Object(l.rotate)(i,a,[0,0],h),Object(l.add)(c,u,i),r.unshift(Object(l.clone)(c))}o=n[n.length-1],s=r[r.length-1],u=[.5*(o[0]+s[0]),.5*(o[1]+s[1])],Object(l.sub)(a,o,u);for(var d=1;d<=e;d++){var p=-1*Math.PI*d/e;Object(l.rotate)(i,a,[0,0],p),Object(l.add)(c,u,i),n.push(Object(l.clone)(c))}}},function(t,e,r){function n(t){return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]}r.r(e),r.d(e,"isUnitTransform",(function(){return n})),r(1).glMatrix.setMatrixArrayType(Array)},function(t,e,r){r(1).glMatrix.setMatrixArrayType(Array);var n=r(80),i=r(81);t.exports=function(t,e){if(e=e||{},t=t.filter((function(t){return t.length>2})),0===t.length)return{positions:[],cells:[]};"number"!=typeof e.vertexSize&&(e.vertexSize=t[0][0].length),t=t.map((function(t){return t.reduce((function(t,e){return t.concat(e)}))}));for(var r="evenodd"===e.rule?n.WINDING_ODD:n.WINDING_NONZERO,a=n.tesselate(i({contours:t,windingRule:r,elementType:n.POLYGONS,polySize:3,vertexSize:2},e)),o=[],s=0;s<a.vertices.length;s+=e.vertexSize){var u=a.vertices.slice(s,s+e.vertexSize);o.push(u)}var l=[];for(s=0;s<a.elements.length;s+=3){var c=a.elements[s],f=a.elements[s+1],h=a.elements[s+2];l.push([c,f,h])}return{positions:o,cells:l}}},function(t,e,r){r(1).glMatrix.setMatrixArrayType(Array);var n={},i={};t.exports=n,n.WINDING_ODD=0,n.WINDING_NONZERO=1,n.WINDING_POSITIVE=2,n.WINDING_NEGATIVE=3,n.WINDING_ABS_GEQ_TWO=4,n.POLYGONS=0,n.CONNECTED_POLYGONS=1,n.BOUNDARY_CONTOURS=2,n.tesselate=function(t){for(var e=t.debug||!1,r=new y,i=0;i<t.contours.length;i++)r.addContour(t.vertexSize||2,t.contours[i]);return r.tesselate(t.windingRule||n.WINDING_ODD,t.elementType||n.POLYGONS,t.polySize||3,t.vertexSize||2,t.normal||[0,0,1]),{vertices:r.vertices,vertexIndices:r.vertexIndices,vertexCount:r.vertexCount,elements:r.elements,elementCount:r.elementCount,mesh:e?r.mesh:void 0}};var a=function(t){if(!t)throw"Assertion Failed!"};function o(){this.next=null,this.prev=null,this.anEdge=null,this.coords=[0,0,0],this.s=0,this.t=0,this.pqHandle=0,this.n=0,this.idx=0}function s(){this.next=null,this.prev=null,this.anEdge=null,this.trail=null,this.n=0,this.marked=!1,this.inside=!1}function u(t){this.next=null,this.Sym=null,this.Onext=null,this.Lnext=null,this.Org=null,this.Lface=null,this.activeRegion=null,this.winding=0,this.side=t}function l(){var t=new o,e=new s,r=new u(0),n=new u(1);t.next=t.prev=t,t.anEdge=null,e.next=e.prev=e,e.anEdge=null,e.trail=null,e.marked=!1,e.inside=!1,r.next=r,r.Sym=n,r.Onext=null,r.Lnext=null,r.Org=null,r.Lface=null,r.winding=0,r.activeRegion=null,n.next=n,n.Sym=r,n.Onext=null,n.Lnext=null,n.Org=null,n.Lface=null,n.winding=0,n.activeRegion=null,this.vHead=t,this.fHead=e,this.eHead=r,this.eHeadSym=n}function c(){this.key=null,this.next=null,this.prev=null}function f(t,e){this.head=new c,this.head.next=this.head,this.head.prev=this.head,this.frame=t,this.leq=e}function h(){this.handle=null}function d(){this.key=null,this.node=null}function p(t,e){var r;for(this.size=0,this.max=t,this.nodes=[],this.nodes.length=t+1,r=0;r<this.nodes.length;r++)this.nodes[r]=new h;for(this.handles=[],this.handles.length=t+1,r=0;r<this.handles.length;r++)this.handles[r]=new d;this.initialized=!1,this.freeList=0,this.leq=e,this.nodes[1].handle=1,this.handles[1].key=null}function v(){this.eUp=null,this.nodeUp=null,this.windingNumber=0,this.inside=!1,this.sentinel=!1,this.dirty=!1,this.fixUpperEdge=!1}u.prototype={get Rface(){return this.Sym.Lface},set Rface(t){this.Sym.Lface=t},get Dst(){return this.Sym.Org},set Dst(t){this.Sym.Org=t},get Oprev(){return this.Sym.Lnext},set Oprev(t){this.Sym.Lnext=t},get Lprev(){return this.Onext.Sym},set Lprev(t){this.Onext.Sym=t},get Dprev(){return this.Lnext.Sym},set Dprev(t){this.Lnext.Sym=t},get Rprev(){return this.Sym.Onext},set Rprev(t){this.Sym.Onext=t},get Dnext(){return this.Sym.Onext.Sym},set Dnext(t){this.Sym.Onext.Sym=t},get Rnext(){return this.Sym.Lnext.Sym},set Rnext(t){this.Sym.Lnext.Sym=t}},l.prototype={makeEdge_:function(t){var e=new u(0),r=new u(1);t.Sym.side<t.side&&(t=t.Sym);var n=t.Sym.next;return r.next=n,n.Sym.next=e,e.next=t,t.Sym.next=r,e.Sym=r,e.Onext=e,e.Lnext=r,e.Org=null,e.Lface=null,e.winding=0,e.activeRegion=null,r.Sym=e,r.Onext=r,r.Lnext=e,r.Org=null,r.Lface=null,r.winding=0,r.activeRegion=null,e},splice_:function(t,e){var r=t.Onext,n=e.Onext;r.Sym.Lnext=e,n.Sym.Lnext=t,t.Onext=n,e.Onext=r},makeVertex_:function(t,e,r){var n=t;a(null!==n);var i=r.prev;n.prev=i,i.next=n,n.next=r,r.prev=n,n.anEdge=e;var o=e;do{o.Org=n,o=o.Onext}while(o!==e)},makeFace_:function(t,e,r){var n=t;a(null!==n);var i=r.prev;n.prev=i,i.next=n,n.next=r,r.prev=n,n.anEdge=e,n.trail=null,n.marked=!1,n.inside=r.inside;var o=e;do{o.Lface=n,o=o.Lnext}while(o!==e)},killEdge_:function(t){t.Sym.side<t.side&&(t=t.Sym);var e=t.next,r=t.Sym.next;e.Sym.next=r,r.Sym.next=e},killVertex_:function(t,e){var r=t.anEdge,n=r;do{n.Org=e,n=n.Onext}while(n!==r);var i=t.prev,a=t.next;a.prev=i,i.next=a},killFace_:function(t,e){var r=t.anEdge,n=r;do{n.Lface=e,n=n.Lnext}while(n!==r);var i=t.prev,a=t.next;a.prev=i,i.next=a},makeEdge:function(){var t=new o,e=new o,r=new s,n=this.makeEdge_(this.eHead);return this.makeVertex_(t,n,this.vHead),this.makeVertex_(e,n.Sym,this.vHead),this.makeFace_(r,n,this.fHead),n},splice:function(t,e){var r=!1,n=!1;if(t!==e){if(e.Org!==t.Org&&(n=!0,this.killVertex_(e.Org,t.Org)),e.Lface!==t.Lface&&(r=!0,this.killFace_(e.Lface,t.Lface)),this.splice_(e,t),!n){var i=new o;this.makeVertex_(i,e,t.Org),t.Org.anEdge=t}if(!r){var a=new s;this.makeFace_(a,e,t.Lface),t.Lface.anEdge=t}}},delete:function(t){var e=t.Sym,r=!1;if(t.Lface!==t.Rface&&(r=!0,this.killFace_(t.Lface,t.Rface)),t.Onext===t)this.killVertex_(t.Org,null);else if(t.Rface.anEdge=t.Oprev,t.Org.anEdge=t.Onext,this.splice_(t,t.Oprev),!r){var n=new s;this.makeFace_(n,t,t.Lface)}e.Onext===e?(this.killVertex_(e.Org,null),this.killFace_(e.Lface,null)):(t.Lface.anEdge=e.Oprev,e.Org.anEdge=e.Onext,this.splice_(e,e.Oprev)),this.killEdge_(t)},addEdgeVertex:function(t){var e=this.makeEdge_(t),r=e.Sym;this.splice_(e,t.Lnext),e.Org=t.Dst;var n=new o;return this.makeVertex_(n,r,e.Org),e.Lface=r.Lface=t.Lface,e},splitEdge:function(t,e){var r=this.addEdgeVertex(t).Sym;return this.splice_(t.Sym,t.Sym.Oprev),this.splice_(t.Sym,r),t.Dst=r.Org,r.Dst.anEdge=r.Sym,r.Rface=t.Rface,r.winding=t.winding,r.Sym.winding=t.Sym.winding,r},connect:function(t,e){var r=!1,n=this.makeEdge_(t),i=n.Sym;if(e.Lface!==t.Lface&&(r=!0,this.killFace_(e.Lface,t.Lface)),this.splice_(n,t.Lnext),this.splice_(i,e),n.Org=t.Dst,i.Org=e.Org,n.Lface=i.Lface=t.Lface,t.Lface.anEdge=i,!r){var a=new s;this.makeFace_(a,n,t.Lface)}return n},zapFace:function(t){var e,r,n,i,a,o=t.anEdge;r=o.Lnext;do{r=(e=r).Lnext,e.Lface=null,null===e.Rface&&(e.Onext===e?this.killVertex_(e.Org,null):(e.Org.anEdge=e.Onext,this.splice_(e,e.Oprev)),(n=e.Sym).Onext===n?this.killVertex_(n.Org,null):(n.Org.anEdge=n.Onext,this.splice_(n,n.Oprev)),this.killEdge_(e))}while(e!=o);i=t.prev,(a=t.next).prev=i,i.next=a},countFaceVerts_:function(t){var e=t.anEdge,r=0;do{r++,e=e.Lnext}while(e!==t.anEdge);return r},mergeConvexFaces:function(t){var e,r,n,a,o;for(e=this.fHead.next;e!==this.fHead;e=e.next)if(e.inside)for(o=(r=e.anEdge).Org;n=r.Lnext,(a=r.Sym)&&a.Lface&&a.Lface.inside&&this.countFaceVerts_(e)+this.countFaceVerts_(a.Lface)-2<=t&&i.vertCCW(r.Lprev.Org,r.Org,a.Lnext.Lnext.Org)&&i.vertCCW(a.Lprev.Org,a.Org,r.Lnext.Lnext.Org)&&(n=a.Lnext,this.delete(a),r=null,a=null),!r||r.Lnext.Org!==o;)r=n;return!0},check:function(){var t,e,r,n,i,o,s=this.fHead,u=this.vHead,l=this.eHead;for(e=s,e=s;(t=e.next)!==s;e=t){a(t.prev===e),i=t.anEdge;do{a(i.Sym!==i),a(i.Sym.Sym===i),a(i.Lnext.Onext.Sym===i),a(i.Onext.Sym.Lnext===i),a(i.Lface===t),i=i.Lnext}while(i!==t.anEdge)}for(a(t.prev===e&&null===t.anEdge),n=u,n=u;(r=n.next)!==u;n=r){a(r.prev===n),i=r.anEdge;do{a(i.Sym!==i),a(i.Sym.Sym===i),a(i.Lnext.Onext.Sym===i),a(i.Onext.Sym.Lnext===i),a(i.Org===r),i=i.Onext}while(i!==r.anEdge)}for(a(r.prev===n&&null===r.anEdge),o=l,o=l;(i=o.next)!==l;o=i)a(i.Sym.next===o.Sym),a(i.Sym!==i),a(i.Sym.Sym===i),a(null!==i.Org),a(null!==i.Dst),a(i.Lnext.Onext.Sym===i),a(i.Onext.Sym.Lnext===i);a(i.Sym.next===o.Sym&&i.Sym===this.eHeadSym&&i.Sym.Sym===i&&null===i.Org&&null===i.Dst&&null===i.Lface&&null===i.Rface)}},i.vertEq=function(t,e){return t.s===e.s&&t.t===e.t},i.vertLeq=function(t,e){return t.s<e.s||t.s===e.s&&t.t<=e.t},i.transLeq=function(t,e){return t.t<e.t||t.t===e.t&&t.s<=e.s},i.edgeGoesLeft=function(t){return i.vertLeq(t.Dst,t.Org)},i.edgeGoesRight=function(t){return i.vertLeq(t.Org,t.Dst)},i.vertL1dist=function(t,e){return Math.abs(t.s-e.s)+Math.abs(t.t-e.t)},i.edgeEval=function(t,e,r){a(i.vertLeq(t,e)&&i.vertLeq(e,r));var n=e.s-t.s,o=r.s-e.s;return n+o>0?n<o?e.t-t.t+(t.t-r.t)*(n/(n+o)):e.t-r.t+(r.t-t.t)*(o/(n+o)):0},i.edgeSign=function(t,e,r){a(i.vertLeq(t,e)&&i.vertLeq(e,r));var n=e.s-t.s,o=r.s-e.s;return n+o>0?(e.t-r.t)*n+(e.t-t.t)*o:0},i.transEval=function(t,e,r){a(i.transLeq(t,e)&&i.transLeq(e,r));var n=e.t-t.t,o=r.t-e.t;return n+o>0?n<o?e.s-t.s+(t.s-r.s)*(n/(n+o)):e.s-r.s+(r.s-t.s)*(o/(n+o)):0},i.transSign=function(t,e,r){a(i.transLeq(t,e)&&i.transLeq(e,r));var n=e.t-t.t,o=r.t-e.t;return n+o>0?(e.s-r.s)*n+(e.s-t.s)*o:0},i.vertCCW=function(t,e,r){return t.s*(e.t-r.t)+e.s*(r.t-t.t)+r.s*(t.t-e.t)>=0},i.interpolate=function(t,e,r,n){return(t=t<0?0:t)<=(r=r<0?0:r)?0===r?(e+n)/2:e+t/(t+r)*(n-e):n+r/(t+r)*(e-n)},i.intersect=function(t,e,r,n,a){var o,s,u;i.vertLeq(t,e)||(u=t,t=e,e=u),i.vertLeq(r,n)||(u=r,r=n,n=u),i.vertLeq(t,r)||(u=t,t=r,r=u,u=e,e=n,n=u),i.vertLeq(r,e)?i.vertLeq(e,n)?((o=i.edgeEval(t,r,e))+(s=i.edgeEval(r,e,n))<0&&(o=-o,s=-s),a.s=i.interpolate(o,r.s,s,e.s)):((o=i.edgeSign(t,r,e))+(s=-i.edgeSign(t,n,e))<0&&(o=-o,s=-s),a.s=i.interpolate(o,r.s,s,n.s)):a.s=(r.s+e.s)/2,i.transLeq(t,e)||(u=t,t=e,e=u),i.transLeq(r,n)||(u=r,r=n,n=u),i.transLeq(t,r)||(u=t,t=r,r=u,u=e,e=n,n=u),i.transLeq(r,e)?i.transLeq(e,n)?((o=i.transEval(t,r,e))+(s=i.transEval(r,e,n))<0&&(o=-o,s=-s),a.t=i.interpolate(o,r.t,s,e.t)):((o=i.transSign(t,r,e))+(s=-i.transSign(t,n,e))<0&&(o=-o,s=-s),a.t=i.interpolate(o,r.t,s,n.t)):a.t=(r.t+e.t)/2},f.prototype={min:function(){return this.head.next},max:function(){return this.head.prev},insert:function(t){return this.insertBefore(this.head,t)},search:function(t){var e=this.head;do{e=e.next}while(null!==e.key&&!this.leq(this.frame,t,e.key));return e},insertBefore:function(t,e){do{t=t.prev}while(null!==t.key&&!this.leq(this.frame,t.key,e));var r=new c;return r.key=e,r.next=t.next,t.next.prev=r,r.prev=t,t.next=r,r},delete:function(t){t.next.prev=t.prev,t.prev.next=t.next}},p.prototype={floatDown_:function(t){var e,r,n,i=this.nodes,o=this.handles;for(e=i[t].handle;;){if((n=t<<1)<this.size&&this.leq(o[i[n+1].handle].key,o[i[n].handle].key)&&++n,a(n<=this.max),r=i[n].handle,n>this.size||this.leq(o[e].key,o[r].key)){i[t].handle=e,o[e].node=t;break}i[t].handle=r,o[r].node=t,t=n}},floatUp_:function(t){var e,r,n,i=this.nodes,a=this.handles;for(e=i[t].handle;;){if(r=i[n=t>>1].handle,0===n||this.leq(a[r].key,a[e].key)){i[t].handle=e,a[e].node=t;break}i[t].handle=r,a[r].node=t,t=n}},init:function(){for(var t=this.size;t>=1;--t)this.floatDown_(t);this.initialized=!0},min:function(){return this.handles[this.nodes[1].handle].key},insert:function(t){var e,r;if(2*(e=++this.size)>this.max){var n,i;for(this.max*=2,i=this.nodes.length,this.nodes.length=this.max+1,n=i;n<this.nodes.length;n++)this.nodes[n]=new h;for(i=this.handles.length,this.handles.length=this.max+1,n=i;n<this.handles.length;n++)this.handles[n]=new d}return 0===this.freeList?r=e:(r=this.freeList,this.freeList=this.handles[r].node),this.nodes[e].handle=r,this.handles[r].node=e,this.handles[r].key=t,this.initialized&&this.floatUp_(e),r},extractMin:function(){var t=this.nodes,e=this.handles,r=t[1].handle,n=e[r].key;return this.size>0&&(t[1].handle=t[this.size].handle,e[t[1].handle].node=1,e[r].key=null,e[r].node=this.freeList,this.freeList=r,--this.size,this.size>0&&this.floatDown_(1)),n},delete:function(t){var e,r=this.nodes,n=this.handles;a(t>=1&&t<=this.max&&null!==n[t].key),r[e=n[t].node].handle=r[this.size].handle,n[r[e].handle].node=e,--this.size,e<=this.size&&(e<=1||this.leq(n[r[e>>1].handle].key,n[r[e].handle].key)?this.floatDown_(e):this.floatUp_(e)),n[t].key=null,n[t].node=this.freeList,this.freeList=t}};var g={};function y(){this.mesh=null,this.normal=[0,0,0],this.sUnit=[0,0,0],this.tUnit=[0,0,0],this.bmin=[0,0],this.bmax=[0,0],this.windingRule=n.WINDING_ODD,this.dict=null,this.pq=null,this.event=null,this.vertexIndexCounter=0,this.vertices=[],this.vertexIndices=[],this.vertexCount=0,this.elements=[],this.elementCount=0}g.regionBelow=function(t){return t.nodeUp.prev.key},g.regionAbove=function(t){return t.nodeUp.next.key},g.debugEvent=function(t){},g.addWinding=function(t,e){t.winding+=e.winding,t.Sym.winding+=e.Sym.winding},g.edgeLeq=function(t,e,r){var n=t.event,a=e.eUp,o=r.eUp;return a.Dst===n?o.Dst===n?i.vertLeq(a.Org,o.Org)?i.edgeSign(o.Dst,a.Org,o.Org)<=0:i.edgeSign(a.Dst,o.Org,a.Org)>=0:i.edgeSign(o.Dst,n,o.Org)<=0:o.Dst===n?i.edgeSign(a.Dst,n,a.Org)>=0:i.edgeEval(a.Dst,n,a.Org)>=i.edgeEval(o.Dst,n,o.Org)},g.deleteRegion=function(t,e){e.fixUpperEdge&&a(0===e.eUp.winding),e.eUp.activeRegion=null,t.dict.delete(e.nodeUp)},g.fixUpperEdge=function(t,e,r){a(e.fixUpperEdge),t.mesh.delete(e.eUp),e.fixUpperEdge=!1,e.eUp=r,r.activeRegion=e},g.topLeftRegion=function(t,e){var r,n=e.eUp.Org;do{e=g.regionAbove(e)}while(e.eUp.Org===n);if(e.fixUpperEdge){if(null===(r=t.mesh.connect(g.regionBelow(e).eUp.Sym,e.eUp.Lnext)))return null;g.fixUpperEdge(t,e,r),e=g.regionAbove(e)}return e},g.topRightRegion=function(t){var e=t.eUp.Dst;do{t=g.regionAbove(t)}while(t.eUp.Dst===e);return t},g.addRegionBelow=function(t,e,r){var n=new v;return n.eUp=r,n.nodeUp=t.dict.insertBefore(e.nodeUp,n),n.fixUpperEdge=!1,n.sentinel=!1,n.dirty=!1,r.activeRegion=n,n},g.isWindingInside=function(t,e){switch(t.windingRule){case n.WINDING_ODD:return 0!=(1&e);case n.WINDING_NONZERO:return 0!==e;case n.WINDING_POSITIVE:return e>0;case n.WINDING_NEGATIVE:return e<0;case n.WINDING_ABS_GEQ_TWO:return e>=2||e<=-2}return a(!1),!1},g.computeWinding=function(t,e){e.windingNumber=g.regionAbove(e).windingNumber+e.eUp.winding,e.inside=g.isWindingInside(t,e.windingNumber)},g.finishRegion=function(t,e){var r=e.eUp,n=r.Lface;n.inside=e.inside,n.anEdge=r,g.deleteRegion(t,e)},g.finishLeftRegions=function(t,e,r){for(var n,i=null,a=e,o=e.eUp;a!==r;){if(a.fixUpperEdge=!1,(n=(i=g.regionBelow(a)).eUp).Org!=o.Org){if(!i.fixUpperEdge){g.finishRegion(t,a);break}n=t.mesh.connect(o.Lprev,n.Sym),g.fixUpperEdge(t,i,n)}o.Onext!==n&&(t.mesh.splice(n.Oprev,n),t.mesh.splice(o,n)),g.finishRegion(t,a),o=i.eUp,a=i}return o},g.addRightEdges=function(t,e,r,n,o,s){var u,l,c,f,h=!0;c=r;do{a(i.vertLeq(c.Org,c.Dst)),g.addRegionBelow(t,e,c.Sym),c=c.Onext}while(c!==n);for(null===o&&(o=g.regionBelow(e).eUp.Rprev),l=e,f=o;(c=(u=g.regionBelow(l)).eUp.Sym).Org===f.Org;)c.Onext!==f&&(t.mesh.splice(c.Oprev,c),t.mesh.splice(f.Oprev,c)),u.windingNumber=l.windingNumber-c.winding,u.inside=g.isWindingInside(t,u.windingNumber),l.dirty=!0,!h&&g.checkForRightSplice(t,l)&&(g.addWinding(c,f),g.deleteRegion(t,l),t.mesh.delete(f)),h=!1,l=u,f=c;l.dirty=!0,a(l.windingNumber-c.winding===u.windingNumber),s&&g.walkDirtyRegions(t,l)},g.spliceMergeVertices=function(t,e,r){t.mesh.splice(e,r)},g.vertexWeights=function(t,e,r){var n=i.vertL1dist(e,t),a=i.vertL1dist(r,t),o=.5*a/(n+a),s=.5*n/(n+a);t.coords[0]+=o*e.coords[0]+s*r.coords[0],t.coords[1]+=o*e.coords[1]+s*r.coords[1],t.coords[2]+=o*e.coords[2]+s*r.coords[2]},g.getIntersectData=function(t,e,r,n,i,a){e.coords[0]=e.coords[1]=e.coords[2]=0,e.idx=-1,g.vertexWeights(e,r,n),g.vertexWeights(e,i,a)},g.checkForRightSplice=function(t,e){var r=g.regionBelow(e),n=e.eUp,a=r.eUp;if(i.vertLeq(n.Org,a.Org)){if(i.edgeSign(a.Dst,n.Org,a.Org)>0)return!1;i.vertEq(n.Org,a.Org)?n.Org!==a.Org&&(t.pq.delete(n.Org.pqHandle),g.spliceMergeVertices(t,a.Oprev,n)):(t.mesh.splitEdge(a.Sym),t.mesh.splice(n,a.Oprev),e.dirty=r.dirty=!0)}else{if(i.edgeSign(n.Dst,a.Org,n.Org)<0)return!1;g.regionAbove(e).dirty=e.dirty=!0,t.mesh.splitEdge(n.Sym),t.mesh.splice(a.Oprev,n)}return!0},g.checkForLeftSplice=function(t,e){var r,n=g.regionBelow(e),o=e.eUp,s=n.eUp;if(a(!i.vertEq(o.Dst,s.Dst)),i.vertLeq(o.Dst,s.Dst)){if(i.edgeSign(o.Dst,s.Dst,o.Org)<0)return!1;g.regionAbove(e).dirty=e.dirty=!0,r=t.mesh.splitEdge(o),t.mesh.splice(s.Sym,r),r.Lface.inside=e.inside}else{if(i.edgeSign(s.Dst,o.Dst,s.Org)>0)return!1;e.dirty=n.dirty=!0,r=t.mesh.splitEdge(s),t.mesh.splice(o.Lnext,s.Sym),r.Rface.inside=e.inside}return!0},g.checkForIntersect=function(t,e){var r,n,s=g.regionBelow(e),u=e.eUp,l=s.eUp,c=u.Org,f=l.Org,h=u.Dst,d=l.Dst,p=new o;if(a(!i.vertEq(d,h)),a(i.edgeSign(h,t.event,c)<=0),a(i.edgeSign(d,t.event,f)>=0),a(c!==t.event&&f!==t.event),a(!e.fixUpperEdge&&!s.fixUpperEdge),c===f)return!1;if(Math.min(c.t,h.t)>Math.max(f.t,d.t))return!1;if(i.vertLeq(c,f)){if(i.edgeSign(d,c,f)>0)return!1}else if(i.edgeSign(h,f,c)<0)return!1;return g.debugEvent(t),i.intersect(h,c,d,f,p),a(Math.min(c.t,h.t)<=p.t),a(p.t<=Math.max(f.t,d.t)),a(Math.min(d.s,h.s)<=p.s),a(p.s<=Math.max(f.s,c.s)),i.vertLeq(p,t.event)&&(p.s=t.event.s,p.t=t.event.t),r=i.vertLeq(c,f)?c:f,i.vertLeq(r,p)&&(p.s=r.s,p.t=r.t),i.vertEq(p,c)||i.vertEq(p,f)?(g.checkForRightSplice(t,e),!1):!i.vertEq(h,t.event)&&i.edgeSign(h,t.event,p)>=0||!i.vertEq(d,t.event)&&i.edgeSign(d,t.event,p)<=0?d===t.event?(t.mesh.splitEdge(u.Sym),t.mesh.splice(l.Sym,u),e=g.topLeftRegion(t,e),u=g.regionBelow(e).eUp,g.finishLeftRegions(t,g.regionBelow(e),s),g.addRightEdges(t,e,u.Oprev,u,u,!0),!0):h===t.event?(t.mesh.splitEdge(l.Sym),t.mesh.splice(u.Lnext,l.Oprev),s=e,e=g.topRightRegion(e),n=g.regionBelow(e).eUp.Rprev,s.eUp=l.Oprev,l=g.finishLeftRegions(t,s,null),g.addRightEdges(t,e,l.Onext,u.Rprev,n,!0),!0):(i.edgeSign(h,t.event,p)>=0&&(g.regionAbove(e).dirty=e.dirty=!0,t.mesh.splitEdge(u.Sym),u.Org.s=t.event.s,u.Org.t=t.event.t),i.edgeSign(d,t.event,p)<=0&&(e.dirty=s.dirty=!0,t.mesh.splitEdge(l.Sym),l.Org.s=t.event.s,l.Org.t=t.event.t),!1):(t.mesh.splitEdge(u.Sym),t.mesh.splitEdge(l.Sym),t.mesh.splice(l.Oprev,u),u.Org.s=p.s,u.Org.t=p.t,u.Org.pqHandle=t.pq.insert(u.Org),g.getIntersectData(t,u.Org,c,h,f,d),g.regionAbove(e).dirty=e.dirty=s.dirty=!0,!1)},g.walkDirtyRegions=function(t,e){for(var r,n,i=g.regionBelow(e);;){for(;i.dirty;)e=i,i=g.regionBelow(i);if(!e.dirty&&(i=e,null===(e=g.regionAbove(e))||!e.dirty))return;if(e.dirty=!1,r=e.eUp,n=i.eUp,r.Dst!==n.Dst&&g.checkForLeftSplice(t,e)&&(i.fixUpperEdge?(g.deleteRegion(t,i),t.mesh.delete(n),n=(i=g.regionBelow(e)).eUp):e.fixUpperEdge&&(g.deleteRegion(t,e),t.mesh.delete(r),r=(e=g.regionAbove(i)).eUp)),r.Org!==n.Org)if(r.Dst===n.Dst||e.fixUpperEdge||i.fixUpperEdge||r.Dst!==t.event&&n.Dst!==t.event)g.checkForRightSplice(t,e);else if(g.checkForIntersect(t,e))return;r.Org===n.Org&&r.Dst===n.Dst&&(g.addWinding(n,r),g.deleteRegion(t,e),t.mesh.delete(r),e=g.regionAbove(i))}},g.connectRightVertex=function(t,e,r){var n,a=r.Onext,o=g.regionBelow(e),s=e.eUp,u=o.eUp,l=!1;s.Dst!==u.Dst&&g.checkForIntersect(t,e),i.vertEq(s.Org,t.event)&&(t.mesh.splice(a.Oprev,s),e=g.topLeftRegion(t,e),a=g.regionBelow(e).eUp,g.finishLeftRegions(t,g.regionBelow(e),o),l=!0),i.vertEq(u.Org,t.event)&&(t.mesh.splice(r,u.Oprev),r=g.finishLeftRegions(t,o,null),l=!0),l?g.addRightEdges(t,e,r.Onext,a,a,!0):(n=i.vertLeq(u.Org,s.Org)?u.Oprev:s,n=t.mesh.connect(r.Lprev,n),g.addRightEdges(t,e,n,n.Onext,n.Onext,!1),n.Sym.activeRegion.fixUpperEdge=!0,g.walkDirtyRegions(t,e))},g.connectLeftDegenerate=function(t,e,r){var n,o,s,u,l;return n=e.eUp,i.vertEq(n.Org,r)?(a(!1),void g.spliceMergeVertices(t,n,r.anEdge)):i.vertEq(n.Dst,r)?(a(!1),e=g.topRightRegion(e),o=u=(s=(l=g.regionBelow(e)).eUp.Sym).Onext,l.fixUpperEdge&&(a(o!==s),g.deleteRegion(t,l),t.mesh.delete(s),s=o.Oprev),t.mesh.splice(r.anEdge,s),i.edgeGoesLeft(o)||(o=null),void g.addRightEdges(t,e,s.Onext,u,o,!0)):(t.mesh.splitEdge(n.Sym),e.fixUpperEdge&&(t.mesh.delete(n.Onext),e.fixUpperEdge=!1),t.mesh.splice(r.anEdge,n),void g.sweepEvent(t,r))},g.connectLeftVertex=function(t,e){var r,n,a,o,s,u,l=new v;l.eUp=e.anEdge.Sym,r=t.dict.search(l).key,(n=g.regionBelow(r))&&(o=r.eUp,s=n.eUp,0!==i.edgeSign(o.Dst,e,o.Org)?(a=i.vertLeq(s.Dst,o.Dst)?r:n,r.inside||a.fixUpperEdge?(u=a===r?t.mesh.connect(e.anEdge.Sym,o.Lnext):t.mesh.connect(s.Dnext,e.anEdge).Sym,a.fixUpperEdge?g.fixUpperEdge(t,a,u):g.computeWinding(t,g.addRegionBelow(t,r,u)),g.sweepEvent(t,e)):g.addRightEdges(t,r,e.anEdge,e.anEdge,null,!0)):g.connectLeftDegenerate(t,r,e))},g.sweepEvent=function(t,e){t.event=e,g.debugEvent(t);for(var r=e.anEdge;null===r.activeRegion;)if((r=r.Onext)===e.anEdge)return void g.connectLeftVertex(t,e);var n=g.topLeftRegion(t,r.activeRegion);a(null!==n);var i=g.regionBelow(n),o=i.eUp,s=g.finishLeftRegions(t,i,null);s.Onext===o?g.connectRightVertex(t,n,s):g.addRightEdges(t,n,s.Onext,o,o,!0)},g.addSentinel=function(t,e,r,n){var i=new v,a=t.mesh.makeEdge();a.Org.s=r,a.Org.t=n,a.Dst.s=e,a.Dst.t=n,t.event=a.Dst,i.eUp=a,i.windingNumber=0,i.inside=!1,i.fixUpperEdge=!1,i.sentinel=!0,i.dirty=!1,i.nodeUp=t.dict.insert(i)},g.initEdgeDict=function(t){t.dict=new f(t,g.edgeLeq);var e=t.bmax[0]-t.bmin[0],r=t.bmax[1]-t.bmin[1],n=t.bmin[0]-e,i=t.bmax[0]+e,a=t.bmin[1]-r,o=t.bmax[1]+r;g.addSentinel(t,n,i,a),g.addSentinel(t,n,i,o)},g.doneEdgeDict=function(t){for(var e,r=0;null!==(e=t.dict.min().key);)e.sentinel||(a(e.fixUpperEdge),a(1==++r)),a(0===e.windingNumber),g.deleteRegion(t,e)},g.removeDegenerateEdges=function(t){var e,r,n,a=t.mesh.eHead;for(e=a.next;e!==a;e=r)r=e.next,n=e.Lnext,i.vertEq(e.Org,e.Dst)&&e.Lnext.Lnext!==e&&(g.spliceMergeVertices(t,n,e),t.mesh.delete(e),n=(e=n).Lnext),n.Lnext===e&&(n!==e&&(n!==r&&n!==r.Sym||(r=r.next),t.mesh.delete(n)),e!==r&&e!==r.Sym||(r=r.next),t.mesh.delete(e))},g.initPriorityQ=function(t){var e,r,n,a=0;for(r=(n=t.mesh.vHead).next;r!==n;r=r.next)a++;for(a+=8,e=t.pq=new p(a,i.vertLeq),r=(n=t.mesh.vHead).next;r!==n;r=r.next)r.pqHandle=e.insert(r);return r===n&&(e.init(),!0)},g.donePriorityQ=function(t){t.pq=null},g.removeDegenerateFaces=function(t,e){var r,n,i;for(r=e.fHead.next;r!==e.fHead;r=n)n=r.next,i=r.anEdge,a(i.Lnext!==i),i.Lnext.Lnext===i&&(g.addWinding(i.Onext,i),t.mesh.delete(i));return!0},g.computeInterior=function(t){var e,r;if(g.removeDegenerateEdges(t),!g.initPriorityQ(t))return!1;for(g.initEdgeDict(t);null!==(e=t.pq.extractMin());){for(;null!==(r=t.pq.min())&&i.vertEq(r,e);)r=t.pq.extractMin(),g.spliceMergeVertices(t,e.anEdge,r.anEdge);g.sweepEvent(t,e)}return t.event=t.dict.min().key.eUp.Org,g.debugEvent(t),g.doneEdgeDict(t),g.donePriorityQ(t),!!g.removeDegenerateFaces(t,t.mesh)&&(t.mesh.check(),!0)},y.prototype={dot_:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},normalize_:function(t){var e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];a(e>0),e=Math.sqrt(e),t[0]/=e,t[1]/=e,t[2]/=e},longAxis_:function(t){var e=0;return Math.abs(t[1])>Math.abs(t[0])&&(e=1),Math.abs(t[2])>Math.abs(t[e])&&(e=2),e},computeNormal_:function(t){var e,r,n,i,a,o,s,u=[0,0,0],l=[0,0,0],c=[0,0,0],f=[0,0,0],h=[0,0,0],d=[null,null,null],p=[null,null,null],v=this.mesh.vHead;for(e=v.next,s=0;s<3;++s)i=e.coords[s],l[s]=i,p[s]=e,u[s]=i,d[s]=e;for(e=v.next;e!==v;e=e.next)for(s=0;s<3;++s)(i=e.coords[s])<l[s]&&(l[s]=i,p[s]=e),i>u[s]&&(u[s]=i,d[s]=e);if(s=0,u[1]-l[1]>u[0]-l[0]&&(s=1),u[2]-l[2]>u[s]-l[s]&&(s=2),l[s]>=u[s])return t[0]=0,t[1]=0,void(t[2]=1);for(o=0,r=p[s],n=d[s],c[0]=r.coords[0]-n.coords[0],c[1]=r.coords[1]-n.coords[1],c[2]=r.coords[2]-n.coords[2],e=v.next;e!==v;e=e.next)f[0]=e.coords[0]-n.coords[0],f[1]=e.coords[1]-n.coords[1],f[2]=e.coords[2]-n.coords[2],h[0]=c[1]*f[2]-c[2]*f[1],h[1]=c[2]*f[0]-c[0]*f[2],h[2]=c[0]*f[1]-c[1]*f[0],(a=h[0]*h[0]+h[1]*h[1]+h[2]*h[2])>o&&(o=a,t[0]=h[0],t[1]=h[1],t[2]=h[2]);o<=0&&(t[0]=t[1]=t[2]=0,t[this.longAxis_(c)]=1)},checkOrientation_:function(){var t,e,r,n,i=this.mesh.fHead,a=this.mesh.vHead;for(t=0,e=i.next;e!==i;e=e.next)if(!((n=e.anEdge).winding<=0))do{t+=(n.Org.s-n.Dst.s)*(n.Org.t+n.Dst.t),n=n.Lnext}while(n!==e.anEdge);if(t<0){for(r=a.next;r!==a;r=r.next)r.t=-r.t;this.tUnit[0]=-this.tUnit[0],this.tUnit[1]=-this.tUnit[1],this.tUnit[2]=-this.tUnit[2]}},projectPolygon_:function(){var t,e,r,n,i,a=this.mesh.vHead,o=[0,0,0],s=!1;for(o[0]=this.normal[0],o[1]=this.normal[1],o[2]=this.normal[2],0===o[0]&&0===o[1]&&0===o[2]&&(this.computeNormal_(o),s=!0),e=this.sUnit,r=this.tUnit,e[n=this.longAxis_(o)]=0,e[(n+1)%3]=1,e[(n+2)%3]=0,r[n]=0,r[(n+1)%3]=0,r[(n+2)%3]=o[n]>0?1:-1,t=a.next;t!==a;t=t.next)t.s=this.dot_(t.coords,e),t.t=this.dot_(t.coords,r);for(s&&this.checkOrientation_(),i=!0,t=a.next;t!==a;t=t.next)i?(this.bmin[0]=this.bmax[0]=t.s,this.bmin[1]=this.bmax[1]=t.t,i=!1):(t.s<this.bmin[0]&&(this.bmin[0]=t.s),t.s>this.bmax[0]&&(this.bmax[0]=t.s),t.t<this.bmin[1]&&(this.bmin[1]=t.t),t.t>this.bmax[1]&&(this.bmax[1]=t.t))},addWinding_:function(t,e){t.winding+=e.winding,t.Sym.winding+=e.Sym.winding},tessellateMonoRegion_:function(t,e){var r,n;for(r=e.anEdge,a(r.Lnext!==r&&r.Lnext.Lnext!==r);i.vertLeq(r.Dst,r.Org);r=r.Lprev);for(;i.vertLeq(r.Org,r.Dst);r=r.Lnext);for(n=r.Lprev;r.Lnext!==n;)if(i.vertLeq(r.Dst,n.Org)){for(;n.Lnext!==r&&(i.edgeGoesLeft(n.Lnext)||i.edgeSign(n.Org,n.Dst,n.Lnext.Dst)<=0);)n=t.connect(n.Lnext,n).Sym;n=n.Lprev}else{for(;n.Lnext!==r&&(i.edgeGoesRight(r.Lprev)||i.edgeSign(r.Dst,r.Org,r.Lprev.Org)>=0);)r=t.connect(r,r.Lprev).Sym;r=r.Lnext}for(a(n.Lnext!==r);n.Lnext.Lnext!==r;)n=t.connect(n.Lnext,n).Sym;return!0},tessellateInterior_:function(t){var e,r;for(e=t.fHead.next;e!==t.fHead;e=r)if(r=e.next,e.inside&&!this.tessellateMonoRegion_(t,e))return!1;return!0},discardExterior_:function(t){var e,r;for(e=t.fHead.next;e!==t.fHead;e=r)r=e.next,e.inside||t.zapFace(e)},setWindingNumber_:function(t,e,r){var n,i;for(n=t.eHead.next;n!==t.eHead;n=i)i=n.next,n.Rface.inside!==n.Lface.inside?n.winding=n.Lface.inside?e:-e:r?t.delete(n):n.winding=0},getNeighbourFace_:function(t){return t.Rface&&t.Rface.inside?t.Rface.n:-1},outputPolymesh_:function(t,e,r,i){var o,s,u,l,c,f=0,h=0;for(r>3&&t.mergeConvexFaces(r),o=t.vHead.next;o!==t.vHead;o=o.next)o.n=-1;for(s=t.fHead.next;s!==t.fHead;s=s.next)if(s.n=-1,s.inside){u=s.anEdge,l=0;do{-1===(o=u.Org).n&&(o.n=h,h++),l++,u=u.Lnext}while(u!==s.anEdge);a(l<=r),s.n=f,++f}for(this.elementCount=f,e===n.CONNECTED_POLYGONS&&(f*=2),this.elements=[],this.elements.length=f*r,this.vertexCount=h,this.vertices=[],this.vertices.length=h*i,this.vertexIndices=[],this.vertexIndices.length=h,o=t.vHead.next;o!==t.vHead;o=o.next)if(-1!==o.n){var d=o.n*i;this.vertices[d+0]=o.coords[0],this.vertices[d+1]=o.coords[1],i>2&&(this.vertices[d+2]=o.coords[2]),this.vertexIndices[o.n]=o.idx}var p=0;for(s=t.fHead.next;s!==t.fHead;s=s.next)if(s.inside){u=s.anEdge,l=0;do{o=u.Org,this.elements[p++]=o.n,l++,u=u.Lnext}while(u!==s.anEdge);for(c=l;c<r;++c)this.elements[p++]=-1;if(e===n.CONNECTED_POLYGONS){u=s.anEdge;do{this.elements[p++]=this.getNeighbourFace_(u),u=u.Lnext}while(u!==s.anEdge);for(c=l;c<r;++c)this.elements[p++]=-1}}},outputContours_:function(t,e){var r,n,i,a=0,o=0;for(this.vertexCount=0,this.elementCount=0,r=t.fHead.next;r!==t.fHead;r=r.next)if(r.inside){i=n=r.anEdge;do{this.vertexCount++,n=n.Lnext}while(n!==i);this.elementCount++}this.elements=[],this.elements.length=2*this.elementCount,this.vertices=[],this.vertices.length=this.vertexCount*e,this.vertexIndices=[],this.vertexIndices.length=this.vertexCount;var s=0,u=0,l=0;for(a=0,r=t.fHead.next;r!==t.fHead;r=r.next)if(r.inside){o=0,i=n=r.anEdge;do{this.vertices[s++]=n.Org.coords[0],this.vertices[s++]=n.Org.coords[1],e>2&&(this.vertices[s++]=n.Org.coords[2]),this.vertexIndices[u++]=n.Org.idx,o++,n=n.Lnext}while(n!==i);this.elements[l++]=a,this.elements[l++]=o,a+=o}},addContour:function(t,e){var r,n;for(null===this.mesh&&(this.mesh=new l),t<2&&(t=2),t>3&&(t=3),r=null,n=0;n<e.length;n+=t)null===r?(r=this.mesh.makeEdge(),this.mesh.splice(r,r.Sym)):(this.mesh.splitEdge(r),r=r.Lnext),r.Org.coords[0]=e[n+0],r.Org.coords[1]=e[n+1],r.Org.coords[2]=t>2?e[n+2]:0,r.Org.idx=this.vertexIndexCounter++,r.winding=1,r.Sym.winding=-1},tesselate:function(t,e,r,i,a){if(this.vertices=[],this.elements=[],this.vertexIndices=[],this.vertexIndexCounter=0,a&&(this.normal[0]=a[0],this.normal[1]=a[1],this.normal[2]=a[2]),this.windingRule=t,i<2&&(i=2),i>3&&(i=3),!this.mesh)return!1;this.projectPolygon_(),g.computeInterior(this);var o=this.mesh;return e===n.BOUNDARY_CONTOURS?this.setWindingNumber_(o,1,!0):this.tessellateInterior_(o),o.check(),e===n.BOUNDARY_CONTOURS?this.outputContours_(o,i):this.outputPolymesh_(o,e,r,i),!0}}},function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)r.call(n,i)&&(t[i]=n[i])}return t};var r=Object.prototype.hasOwnProperty},function(t,e,r){r.r(e),r.d(e,"createShaders",(function(){return c})),r.d(e,"applyShader",(function(){return f})),r.d(e,"createCloudShaders",(function(){return d})),r.d(e,"applyCloudShader",(function(){return p}));var n=r(19),i=r.n(n),a=r(83),o=r(84),s=r(85),u=r(86);r(1).glMatrix.setMatrixArrayType(Array);var l=Symbol("shaders");function c(t){t[l]=[];for(var e=0;e<16;e++){var r=[],n=!!(1&e),i=!!(2&e),s=!!(4&e),u=!!(8&e);n&&r.push("#define TEXTURE 1"),i&&r.push("#define FILTER 1"),s&&r.push("#define GRADIENT 1"),u&&r.push("#define CLIPPATH 1");var c="".concat(r.join("\n"),"\n"),f=[];n&&f.push("uniform sampler2D u_texSampler;"),u&&f.push("uniform sampler2D u_clipSampler;"),t[l][e]=[c+f.join("\n")+o.default,c+a.default]}}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.hasTexture,n=void 0!==r&&r,a=e.hasFilter,o=void 0!==a&&a,s=e.hasGradient,u=void 0!==s&&s,c=e.hasClipPath,f=void 0!==c&&c,h=n|o<<1|u<<2|f<<3,d=t[l][h];Array.isArray(d)&&(d=t.createProgram.apply(t,i()(d)),t[l][h]=d),t.program!==d&&t.useProgram(d,{a_color:{type:"UNSIGNED_BYTE",normalize:!0}})}var h=[];function d(t){for(var e=0;e<64;e++){var r=[],n=!!(1&e),i=!!(2&e),a=!!(4&e),o=!!(8&e),l=!!(16&e),c=!!(32&e);n&&r.push("#define TEXTURE 1"),i&&r.push("#define FILTER 1"),a&&r.push("#define GRADIENT 1"),o&&r.push("#define CLOUDCOLOR 1"),l&&r.push("#define CLOUDFILTER 1"),c&&r.push("#define CLIPPATH 1");var f="".concat(r.join("\n"),"\n"),d=[];if(n){d.push("uniform sampler2D u_texSampler;");for(var p=0;p<12;p++)d.push("uniform sampler2D u_texFrame".concat(p,";"))}c&&d.push("uniform sampler2D u_clipSampler;"),h[e]=[f+d.join("\n")+u.default,f+s.default]}}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.hasTexture,n=void 0!==r&&r,a=e.hasFilter,o=void 0!==a&&a,s=e.hasGradient,u=void 0!==s&&s,l=e.hasCloudColor,c=void 0!==l&&l,f=e.hasCloudFilter,d=void 0!==f&&f,p=e.hasClipPath,v=void 0!==p&&p,g=n|o<<1|u<<2|c<<3|d<<4|v<<5,y=h[g];Array.isArray(y)&&(y=t.createProgram.apply(t,i()(y)),h[g]=y),t.program!==y&&t.useProgram(y,{a_color:{type:"UNSIGNED_BYTE",normalize:!0},a_fillCloudColor:{type:"UNSIGNED_BYTE",normalize:!0},a_strokeCloudColor:{type:"UNSIGNED_BYTE",normalize:!0},a_frameIndex:{type:"UNSIGNED_BYTE",normalize:!1}})}},function(t,e,r){r.r(e),e.default="attribute vec3 a_vertexPosition;\nattribute vec4 a_color;\nvarying vec4 vColor;\nvarying float flagBackground;\nuniform vec2 u_resolution;\nuniform mat3 viewMatrix;\nuniform mat3 projectionMatrix;\n\n#ifdef TEXTURE\nattribute vec3 a_vertexTextureCoord;\nvarying vec3 vTextureCoord;\nattribute vec4 a_sourceRect;\nvarying vec4 vSourceRect;\n#endif\n\n#ifdef CLIPPATH\nattribute vec2 a_clipUV;\nvarying vec2 vClipUV;\n#endif\n\n#ifdef GRADIENT\nuniform float u_radialGradientVector[6];\nvarying vec3 vGradientVector1;\nvarying vec3 vGradientVector2;\n#endif\n\nvoid main() {\n  gl_PointSize = 1.0;\n\n  vec3 pos = projectionMatrix * viewMatrix * vec3(a_vertexPosition.xy, 1.0);\n  gl_Position = vec4(pos.xy, 1.0, 1.0);\n\n#ifdef GRADIENT\n  vec3 vg1 = viewMatrix * vec3(u_radialGradientVector[0], u_radialGradientVector[1], 1.0);\n  vec3 vg2 = viewMatrix * vec3(u_radialGradientVector[3], u_radialGradientVector[4], 1.0);\n  float h = u_resolution.y;\n  vg1.y = h - vg1.y;\n  vg2.y = h - vg2.y;\n  vGradientVector1 = vec3(vg1.xy, u_radialGradientVector[2]);\n  vGradientVector2 = vec3(vg2.xy, u_radialGradientVector[5]);\n#endif\n  \n  flagBackground = a_vertexPosition.z;\n  vColor = a_color;\n\n#ifdef TEXTURE\n  vTextureCoord = a_vertexTextureCoord;\n  vSourceRect = a_sourceRect;\n#endif\n\n#ifdef CLIPPATH\n  vClipUV = a_clipUV;\n#endif\n}"},function(t,e,r){r.r(e),e.default="precision mediump float;\n\nvarying vec4 vColor;\nvarying float flagBackground;\n\n#ifdef TEXTURE\nvarying vec3 vTextureCoord;\nvarying vec4 vSourceRect;\n#endif\n\n#ifdef CLIPPATH\nvarying vec2 vClipUV;\n#endif\n\n#ifdef FILTER\nuniform int u_filterFlag;\nuniform float u_colorMatrix[20];\n#endif\n\n#ifdef GRADIENT\nvarying vec3 vGradientVector1;\nvarying vec3 vGradientVector2;\nuniform float u_colorSteps[40];\nuniform int u_gradientType;\n// uniform float u_radialGradientVector[6];\n\nvoid gradient(inout vec4 color, vec3 gv1, vec3 gv2, float colorSteps[40]) {\n  float t;\n  // center circle radius\n  float cr = gv1.z;\n  // focal circle radius\n  float fr = gv2.z;\n\n  if(cr > 0.0 || fr > 0.0) {\n    // radial gradient\n    vec2 center = gv1.xy;\n    vec2 focal = gv2.xy;\n    float x = focal.x - gl_FragCoord.x;\n    float y = focal.y - gl_FragCoord.y;\n    float dx = focal.x - center.x;\n    float dy = focal.y - center.y;\n    float dr = cr - fr;\n    float a = dx * dx + dy * dy - dr * dr;\n    float b = -2.0 * (y * dy + x * dx + fr * dr);\n    float c = x * x + y * y - fr * fr;\n    t = 1.0 - 0.5 * (1.0 / a) * (-b + sqrt(b * b - 4.0 * a * c));\n  } else {\n    // linear gradient\n    vec2 v1 = gl_FragCoord.xy - gv1.xy;\n    vec2 v2 = gv2.xy - gv1.xy;\n    t = (v1.x * v2.x + v1.y * v2.y) / (v2.x * v2.x + v2.y * v2.y);\n  }\n\n  vec4 colors[8];\n  colors[0] = vec4(colorSteps[1], colorSteps[2], colorSteps[3], colorSteps[4]);\n  colors[1] = vec4(colorSteps[6], colorSteps[7], colorSteps[8], colorSteps[9]);\n  colors[2] = vec4(colorSteps[11], colorSteps[12], colorSteps[13], colorSteps[14]);\n  colors[3] = vec4(colorSteps[16], colorSteps[17], colorSteps[18], colorSteps[19]);\n  colors[4] = vec4(colorSteps[21], colorSteps[22], colorSteps[23], colorSteps[24]);\n  colors[5] = vec4(colorSteps[26], colorSteps[27], colorSteps[28], colorSteps[29]);\n  colors[6] = vec4(colorSteps[31], colorSteps[32], colorSteps[33], colorSteps[34]);\n  colors[7] = vec4(colorSteps[36], colorSteps[37], colorSteps[38], colorSteps[39]);\n  \n  float steps[8];\n  steps[0] = colorSteps[0];\n  steps[1] = colorSteps[5];\n  steps[2] = colorSteps[10];\n  steps[3] = colorSteps[15];\n  steps[4] = colorSteps[20];\n  steps[5] = colorSteps[25];\n  steps[6] = colorSteps[30];\n  steps[7] = colorSteps[35];\n\n  color = colors[0];\n  for (int i = 1; i < 8; i++) {\n    if (steps[i] < 0.0 || steps[i] > 1.0) {\n      break;\n    }\n    if(steps[i] == steps[i - 1]) {\n      color = colors[i];\n    } else {\n      color = mix(color, colors[i], clamp((t - steps[i - 1]) / (steps[i] - steps[i - 1]), 0.0, 1.0));\n    }\n    if (steps[i] >= t) {\n      break;\n    }\n  }\n}\n#endif\n\n#ifdef FILTER\nvoid transformColor(inout vec4 color, in float colorMatrix[20]) {\n  float r = color.r, g = color.g, b = color.b, a = color.a;\n  color[0] = colorMatrix[0] * r + colorMatrix[1] * g + colorMatrix[2] * b + colorMatrix[3] * a + colorMatrix[4];\n  color[1] = colorMatrix[5] * r + colorMatrix[6] * g + colorMatrix[7] * b + colorMatrix[8] * a + colorMatrix[9];\n  color[2] = colorMatrix[10] * r + colorMatrix[11] * g + colorMatrix[12] * b + colorMatrix[13] * a + colorMatrix[14];\n  color[3] = colorMatrix[15] * r + colorMatrix[16] * g + colorMatrix[17] * b + colorMatrix[18] * a + colorMatrix[19];\n}\n#endif\n\nvoid main() {\n  vec4 color = vColor;\n  float opacity = abs(flagBackground);\n\n#ifdef GRADIENT\n  if(u_gradientType > 0 && flagBackground > 0.0 || u_gradientType == 0 && flagBackground <= 0.0) {\n    gradient(color, vGradientVector1, vGradientVector2, u_colorSteps);\n  }\n#endif\n\n  if(opacity < 1.0) {\n    color.a *= opacity;\n  }\n\n#ifdef TEXTURE\n  if(flagBackground > 0.0) {\n    vec3 texCoord = vTextureCoord;\n\n    if(texCoord.z == 1.0) {\n      texCoord = fract(texCoord);\n    }\n\n    if(texCoord.x <= 1.0 && texCoord.x >= 0.0\n      && texCoord.y <= 1.0 && texCoord.y >= 0.0) {\n      if(vSourceRect.z > 0.0) {\n        texCoord.x = vSourceRect.x + texCoord.x * vSourceRect.z;\n        texCoord.y = 1.0 - (vSourceRect.y + (1.0 - texCoord.y) * vSourceRect.w);\n      }\n      vec4 texColor = texture2D(u_texSampler, texCoord.xy);\n      float alpha = texColor.a;\n      if(opacity < 1.0) {\n        texColor.a *= opacity;\n        alpha *= mix(0.465, 1.0, opacity);\n      }\n      // color = mix(color, texColor, texColor.a);\n      color.rgb = mix(color.rgb, texColor.rgb, alpha);\n      // color.rgb = mix(texColor.rgb, color.rgb, color.a);\n      color.rgb = mix(texColor.rgb, color.rgb, clamp(color.a / max(0.0001, texColor.a), 0.0, 1.0));\n      color.a = texColor.a + (1.0 - texColor.a) * color.a;\n    }\n  }\n#endif\n\n#ifdef FILTER\n  if(u_filterFlag > 0) {\n    transformColor(color, u_colorMatrix);\n  }\n#endif\n\n#ifdef CLIPPATH\n  float clip = texture2D(u_clipSampler, vClipUV).r;\n  color *= clip;\n#endif\n\n  gl_FragColor = color;\n}"},function(t,e,r){r.r(e),e.default="attribute vec3 a_vertexPosition;\nattribute vec4 a_color;\nvarying vec4 vColor;\nvarying float flagBackground;\nattribute vec3 a_transform0;\nattribute vec3 a_transform1;\nuniform vec2 u_resolution;\nuniform mat3 viewMatrix;\nuniform mat3 projectionMatrix;\n\n#ifdef TEXTURE\nattribute vec3 a_vertexTextureCoord;\nvarying vec3 vTextureCoord;\nattribute float a_frameIndex;\nvarying float frameIndex;\nattribute vec4 a_sourceRect;\nvarying vec4 vSourceRect;\n#endif\n\n#ifdef CLIPPATH\nattribute vec2 a_clipUV;\nvarying vec2 vClipUV;\n#endif\n\n#ifdef CLOUDFILTER\nattribute vec4 a_colorCloud0;\nattribute vec4 a_colorCloud1;\nattribute vec4 a_colorCloud2;\nattribute vec4 a_colorCloud3;\nattribute vec4 a_colorCloud4;\nvarying vec4 colorCloud0;\nvarying vec4 colorCloud1;\nvarying vec4 colorCloud2;\nvarying vec4 colorCloud3;\nvarying vec4 colorCloud4;\n#endif\n\n#ifdef CLOUDCOLOR\nattribute vec4 a_fillCloudColor;\nattribute vec4 a_strokeCloudColor;\n#endif\n\n#ifdef GRADIENT\nuniform float u_radialGradientVector[6];\nvarying vec3 vGradientVector1;\nvarying vec3 vGradientVector2;\n#endif\n\nvoid main() {\n  gl_PointSize = 1.0;\n\n  mat3 modelMatrix = mat3(\n    a_transform0.x, a_transform1.x, 0, \n    a_transform0.y, a_transform1.y, 0,\n    a_transform0.z, a_transform1.z, 1\n  );\n\n  vec3 pos = projectionMatrix * viewMatrix * modelMatrix * vec3(a_vertexPosition.xy, 1.0);\n  gl_Position = vec4(pos.xy, 1.0, 1.0);\n\n#ifdef GRADIENT\n  vec3 vg1 = viewMatrix * vec3(u_radialGradientVector[0], u_radialGradientVector[1], 1.0);\n  vec3 vg2 = viewMatrix * vec3(u_radialGradientVector[3], u_radialGradientVector[4], 1.0);\n  float h = u_resolution.y;\n  vg1.y = h - vg1.y;\n  vg2.y = h - vg2.y;\n  vGradientVector1 = vec3(vg1.xy, u_radialGradientVector[2]);\n  vGradientVector2 = vec3(vg2.xy, u_radialGradientVector[5]);\n#endif\n  \n  flagBackground = a_vertexPosition.z;\n\n#ifdef CLOUDCOLOR\n  if(flagBackground > 0.0) {\n    vColor = mix(a_color, a_fillCloudColor, a_fillCloudColor.a);\n  } else {\n    vColor = mix(a_color, a_strokeCloudColor, a_strokeCloudColor.a);\n  }\n#else\n  vColor = a_color;\n#endif\n\n#ifdef TEXTURE\n  vTextureCoord = a_vertexTextureCoord;\n  frameIndex = a_frameIndex;\n  vSourceRect = a_sourceRect;\n#endif\n\n#ifdef CLIPPATH\n  vClipUV = a_clipUV;\n#endif\n\n#ifdef CLOUDFILTER\n  colorCloud0 = a_colorCloud0;\n  colorCloud1 = a_colorCloud1;\n  colorCloud2 = a_colorCloud2;\n  colorCloud3 = a_colorCloud3;\n  colorCloud4 = a_colorCloud4;\n#endif\n}"},function(t,e,r){r.r(e),e.default="precision mediump float;\n\nvarying vec4 vColor;\nvarying float flagBackground;\n\n#ifdef TEXTURE\nvarying float frameIndex;\nvarying vec3 vTextureCoord;\nvarying vec4 vSourceRect;\n#endif\n\n#ifdef CLIPPATH\nvarying vec2 vClipUV;\n#endif\n\n#ifdef FILTER\nuniform int u_filterFlag;\nuniform float u_colorMatrix[20];\n#endif\n\n#ifdef CLOUDFILTER\nvarying vec4 colorCloud0;\nvarying vec4 colorCloud1;\nvarying vec4 colorCloud2;\nvarying vec4 colorCloud3;\nvarying vec4 colorCloud4;\n#endif\n\n#ifdef GRADIENT\nvarying vec3 vGradientVector1;\nvarying vec3 vGradientVector2;\nuniform float u_colorSteps[40];\nuniform int u_gradientType;\n\nvoid gradient(inout vec4 color, vec3 gv1, vec3 gv2, float colorSteps[40]) {\n  float t;\n  // center circle radius\n  float cr = gv1.z;\n  // focal circle radius\n  float fr = gv2.z;\n\n  if(cr > 0.0 || fr > 0.0) {\n    // radial gradient\n    vec2 center = gv1.xy;\n    vec2 focal = gv2.xy;\n    float x = focal.x - gl_FragCoord.x;\n    float y = focal.y - gl_FragCoord.y;\n    float dx = focal.x - center.x;\n    float dy = focal.y - center.y;\n    float dr = cr - fr;\n    float a = dx * dx + dy * dy - dr * dr;\n    float b = -2.0 * (y * dy + x * dx + fr * dr);\n    float c = x * x + y * y - fr * fr;\n    t = 1.0 - 0.5 * (1.0 / a) * (-b + sqrt(b * b - 4.0 * a * c));\n  } else {\n    // linear gradient\n    vec2 v1 = gl_FragCoord.xy - gv1.xy;\n    vec2 v2 = gv2.xy - gv1.xy;\n    t = (v1.x * v2.x + v1.y * v2.y) / (v2.x * v2.x + v2.y * v2.y);\n  }\n\n  vec4 colors[8];\n  colors[0] = vec4(colorSteps[1], colorSteps[2], colorSteps[3], colorSteps[4]);\n  colors[1] = vec4(colorSteps[6], colorSteps[7], colorSteps[8], colorSteps[9]);\n  colors[2] = vec4(colorSteps[11], colorSteps[12], colorSteps[13], colorSteps[14]);\n  colors[3] = vec4(colorSteps[16], colorSteps[17], colorSteps[18], colorSteps[19]);\n  colors[4] = vec4(colorSteps[21], colorSteps[22], colorSteps[23], colorSteps[24]);\n  colors[5] = vec4(colorSteps[26], colorSteps[27], colorSteps[28], colorSteps[29]);\n  colors[6] = vec4(colorSteps[31], colorSteps[32], colorSteps[33], colorSteps[34]);\n  colors[7] = vec4(colorSteps[36], colorSteps[37], colorSteps[38], colorSteps[39]);\n  \n  float steps[8];\n  steps[0] = colorSteps[0];\n  steps[1] = colorSteps[5];\n  steps[2] = colorSteps[10];\n  steps[3] = colorSteps[15];\n  steps[4] = colorSteps[20];\n  steps[5] = colorSteps[25];\n  steps[6] = colorSteps[30];\n  steps[7] = colorSteps[35];\n\n  color = colors[0];\n  for (int i = 1; i < 8; i++) {\n    if (steps[i] < 0.0 || steps[i] > 1.0) {\n      break;\n    }\n    if(steps[i] == steps[i - 1]) {\n      color = colors[i];\n    } else {\n      color = mix(color, colors[i], clamp((t - steps[i - 1]) / (steps[i] - steps[i - 1]), 0.0, 1.0));\n    }\n    if (steps[i] >= t) {\n      break;\n    }\n  }\n}\n#endif\n\nvoid transformColor(inout vec4 color, in float colorMatrix[20]) {\n  float r = color.r, g = color.g, b = color.b, a = color.a;\n  color[0] = colorMatrix[0] * r + colorMatrix[1] * g + colorMatrix[2] * b + colorMatrix[3] * a + colorMatrix[4];\n  color[1] = colorMatrix[5] * r + colorMatrix[6] * g + colorMatrix[7] * b + colorMatrix[8] * a + colorMatrix[9];\n  color[2] = colorMatrix[10] * r + colorMatrix[11] * g + colorMatrix[12] * b + colorMatrix[13] * a + colorMatrix[14];\n  color[3] = colorMatrix[15] * r + colorMatrix[16] * g + colorMatrix[17] * b + colorMatrix[18] * a + colorMatrix[19];\n}\n\n#ifdef CLOUDFILTER\nvoid buildCloudColor(inout float colorCloudMatrix[20]) {\n  colorCloudMatrix[0] = colorCloud0[0];\n  colorCloudMatrix[1] = colorCloud1[0];\n  colorCloudMatrix[2] = colorCloud2[0];\n  colorCloudMatrix[3] = colorCloud3[0];\n  colorCloudMatrix[4] = colorCloud4[0];\n\n  colorCloudMatrix[5] = colorCloud0[1];\n  colorCloudMatrix[6] = colorCloud1[1];\n  colorCloudMatrix[7] = colorCloud2[1];\n  colorCloudMatrix[8] = colorCloud3[1];\n  colorCloudMatrix[9] = colorCloud4[1];\n\n  colorCloudMatrix[10] = colorCloud0[2];\n  colorCloudMatrix[11] = colorCloud1[2];\n  colorCloudMatrix[12] = colorCloud2[2];\n  colorCloudMatrix[13] = colorCloud3[2];\n  colorCloudMatrix[14] = colorCloud4[2];\n\n  colorCloudMatrix[15] = colorCloud0[3];\n  colorCloudMatrix[16] = colorCloud1[3];\n  colorCloudMatrix[17] = colorCloud2[3];\n  colorCloudMatrix[18] = colorCloud3[3];\n  colorCloudMatrix[19] = colorCloud4[3];\n}\n#endif\n\nvoid main() {\n  vec4 color = vColor;\n  float opacity = abs(flagBackground);\n\n#ifdef GRADIENT\n  if(u_gradientType > 0 && flagBackground > 0.0 || u_gradientType == 0 && flagBackground <= 0.0) {\n    gradient(color, vGradientVector1, vGradientVector2, u_colorSteps);\n  }\n#endif\n\n  if(opacity < 1.0) {\n    color.a *= opacity;\n  }\n\n#ifdef TEXTURE\n  if(flagBackground > 0.0) {\n    vec3 texCoord = vTextureCoord;\n\n    if(texCoord.z == 1.0) {\n      texCoord = fract(texCoord);\n    }\n\n    if(texCoord.x <= 1.0 && texCoord.x >= 0.0\n      && texCoord.y <= 1.0 && texCoord.y >= 0.0) {\n      if(vSourceRect.z > 0.0) {\n        texCoord.x = vSourceRect.x + texCoord.x * vSourceRect.z;\n        texCoord.y = 1.0 - (vSourceRect.y + (1.0 - texCoord.y) * vSourceRect.w);\n      }\n      if(frameIndex < 0.0) {\n        vec4 texColor = texture2D(u_texSampler, texCoord.xy);\n        color = mix(color, texColor, texColor.a);\n      } else {\n        int index = int(floor(clamp(0.0, 11.0, frameIndex)));\n        vec4 texColor;\n        if(index == 0) texColor = texture2D(u_texFrame0, texCoord.xy);\n        else if(index == 1) texColor = texture2D(u_texFrame1, texCoord.xy);\n        else if(index == 2) texColor = texture2D(u_texFrame2, texCoord.xy);\n        else if(index == 3) texColor = texture2D(u_texFrame3, texCoord.xy);\n        else if(index == 4) texColor = texture2D(u_texFrame4, texCoord.xy);\n        else if(index == 5) texColor = texture2D(u_texFrame5, texCoord.xy);\n        else if(index == 6) texColor = texture2D(u_texFrame6, texCoord.xy);\n        else if(index == 7) texColor = texture2D(u_texFrame7, texCoord.xy);\n        else if(index == 8) texColor = texture2D(u_texFrame8, texCoord.xy);\n        else if(index == 9) texColor = texture2D(u_texFrame9, texCoord.xy);\n        else if(index == 10) texColor = texture2D(u_texFrame10, texCoord.xy);\n        else texColor = texture2D(u_texFrame11, texCoord.xy);\n        float alpha = texColor.a;\n        if(opacity < 1.0) {\n          texColor.a *= opacity;\n          alpha *= mix(0.465, 1.0, opacity);\n        }\n        // color = mix(color, texColor, texColor.a);\n        color.rgb = mix(color.rgb, texColor.rgb, alpha);\n        // color.rgb = mix(texColor.rgb, color.rgb, color.a);\n        color.rgb = mix(texColor.rgb, color.rgb, clamp(color.a / max(0.0001, texColor.a), 0.0, 1.0));\n        color.a = texColor.a + (1.0 - texColor.a) * color.a;\n      }\n    }\n  }\n#endif\n\n#ifdef FILTER\n  if(u_filterFlag > 0) {\n    transformColor(color, u_colorMatrix);\n  }\n#endif\n\n#ifdef CLOUDFILTER\n  float colorCloudMatrix[20];\n  buildCloudColor(colorCloudMatrix);\n  transformColor(color, colorCloudMatrix);\n#endif\n\n#ifdef CLIPPATH\n  float clip = texture2D(u_clipSampler, vClipUV).r;\n  color *= clip;\n#endif\n\n  gl_FragColor = color;\n}"}])},t.exports=r()}));r(o);var s=n((function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports}));r(s);var u=n((function(t){t.exports=function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);o=!0);}catch(t){s=!0,i=t}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}},t.exports.__esModule=!0,t.exports.default=t.exports}));r(u);var l=n((function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n},t.exports.__esModule=!0,t.exports.default=t.exports}));r(l);var c=n((function(t){t.exports=function(t,e){if(t){if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports}));r(c);var f=n((function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports}));r(f);var h=n((function(t){t.exports=function(t,e){return s(t)||u(t,e)||c(t,e)||f()},t.exports.__esModule=!0,t.exports.default=t.exports}));r(h);var d=1e-6,p="undefined"!=typeof Float32Array?Float32Array:Array,v=Math.random;var g=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var y=Object.freeze({__proto__:null,EPSILON:d,get ARRAY_TYPE(){return p},RANDOM:v,setMatrixArrayType:function(t){p=t},toRadian:function(t){return t*g},equals:function(t,e){return Math.abs(t-e)<=d*Math.max(1,Math.abs(t),Math.abs(e))}});function m(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[0],u=r[1],l=r[2],c=r[3];return t[0]=n*s+a*u,t[1]=i*s+o*u,t[2]=n*l+a*c,t[3]=i*l+o*c,t}function b(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}var x=m,M=b,w=Object.freeze({__proto__:null,create:function(){var t=new p(4);return p!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},clone:function(t){var e=new p(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},fromValues:function(t,e,r,n){var i=new p(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i},set:function(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t},transpose:function(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},invert:function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*a-i*n;return o?(o=1/o,t[0]=a*o,t[1]=-n*o,t[2]=-i*o,t[3]=r*o,t):null},adjoint:function(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t},determinant:function(t){return t[0]*t[3]-t[2]*t[1]},multiply:m,rotate:function(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+a*s,t[1]=i*u+o*s,t[2]=n*-s+a*u,t[3]=i*-s+o*u,t},scale:function(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[0],u=r[1];return t[0]=n*s,t[1]=i*s,t[2]=a*u,t[3]=o*u,t},fromRotation:function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t},fromScaling:function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},str:function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},frob:function(t){return Math.hypot(t[0],t[1],t[2],t[3])},LDU:function(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]},add:function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},subtract:b,exactEquals:function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},equals:function(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=e[0],s=e[1],u=e[2],l=e[3];return Math.abs(r-o)<=d*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=d*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=d*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-l)<=d*Math.max(1,Math.abs(a),Math.abs(l))},multiplyScalar:function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},multiplyScalarAndAdd:function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},mul:x,sub:M});function A(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=r[0],c=r[1],f=r[2],h=r[3],d=r[4],p=r[5];return t[0]=n*l+a*c,t[1]=i*l+o*c,t[2]=n*f+a*h,t[3]=i*f+o*h,t[4]=n*d+a*p+s,t[5]=i*d+o*p+u,t}function k(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t}var _=A,S=k,E=Object.freeze({__proto__:null,create:function(){var t=new p(6);return p!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t},clone:function(t){var e=new p(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},fromValues:function(t,e,r,n,i,a){var o=new p(6);return o[0]=t,o[1]=e,o[2]=r,o[3]=n,o[4]=i,o[5]=a,o},set:function(t,e,r,n,i,a,o){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t},invert:function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=r*a-n*i;return u?(u=1/u,t[0]=a*u,t[1]=-n*u,t[2]=-i*u,t[3]=r*u,t[4]=(i*s-a*o)*u,t[5]=(n*o-r*s)*u,t):null},determinant:function(t){return t[0]*t[3]-t[1]*t[2]},multiply:A,rotate:function(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=Math.sin(r),c=Math.cos(r);return t[0]=n*c+a*l,t[1]=i*c+o*l,t[2]=n*-l+a*c,t[3]=i*-l+o*c,t[4]=s,t[5]=u,t},scale:function(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=r[0],c=r[1];return t[0]=n*l,t[1]=i*l,t[2]=a*c,t[3]=o*c,t[4]=s,t[5]=u,t},translate:function(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=r[0],c=r[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=n*l+a*c+s,t[5]=i*l+o*c+u,t},fromRotation:function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t},fromScaling:function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},fromTranslation:function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},str:function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},frob:function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)},add:function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t},subtract:k,multiplyScalar:function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t},multiplyScalarAndAdd:function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t},exactEquals:function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},equals:function(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=e[0],l=e[1],c=e[2],f=e[3],h=e[4],p=e[5];return Math.abs(r-u)<=d*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-l)<=d*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(i-c)<=d*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-f)<=d*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(o-h)<=d*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(s-p)<=d*Math.max(1,Math.abs(s),Math.abs(p))},mul:_,sub:S});function R(){var t=new p(9);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function T(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=r[0],d=r[1],p=r[2],v=r[3],g=r[4],y=r[5],m=r[6],b=r[7],x=r[8];return t[0]=h*n+d*o+p*l,t[1]=h*i+d*s+p*c,t[2]=h*a+d*u+p*f,t[3]=v*n+g*o+y*l,t[4]=v*i+g*s+y*c,t[5]=v*a+g*u+y*f,t[6]=m*n+b*o+x*l,t[7]=m*i+b*s+x*c,t[8]=m*a+b*u+x*f,t}function O(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}var C=T,L=O,P=Object.freeze({__proto__:null,create:R,fromMat4:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},clone:function(t){var e=new p(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},fromValues:function(t,e,r,n,i,a,o,s,u){var l=new p(9);return l[0]=t,l[1]=e,l[2]=r,l[3]=n,l[4]=i,l[5]=a,l[6]=o,l[7]=s,l[8]=u,l},set:function(t,e,r,n,i,a,o,s,u,l){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t[8]=l,t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},transpose:function(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},invert:function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=c*o-s*l,h=-c*a+s*u,d=l*a-o*u,p=r*f+n*h+i*d;return p?(p=1/p,t[0]=f*p,t[1]=(-c*n+i*l)*p,t[2]=(s*n-i*o)*p,t[3]=h*p,t[4]=(c*r-i*u)*p,t[5]=(-s*r+i*a)*p,t[6]=d*p,t[7]=(-l*r+n*u)*p,t[8]=(o*r-n*a)*p,t):null},adjoint:function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8];return t[0]=o*c-s*l,t[1]=i*l-n*c,t[2]=n*s-i*o,t[3]=s*u-a*c,t[4]=r*c-i*u,t[5]=i*a-r*s,t[6]=a*l-o*u,t[7]=n*u-r*l,t[8]=r*o-n*a,t},determinant:function(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],l=t[8];return e*(l*a-o*u)+r*(-l*i+o*s)+n*(u*i-a*s)},multiply:T,translate:function(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=r[0],d=r[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=h*n+d*o+l,t[7]=h*i+d*s+c,t[8]=h*a+d*u+f,t},rotate:function(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=Math.sin(r),d=Math.cos(r);return t[0]=d*n+h*o,t[1]=d*i+h*s,t[2]=d*a+h*u,t[3]=d*o-h*n,t[4]=d*s-h*i,t[5]=d*u-h*a,t[6]=l,t[7]=c,t[8]=f,t},scale:function(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},fromTranslation:function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},fromRotation:function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromScaling:function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromMat2d:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},fromQuat:function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r+r,s=n+n,u=i+i,l=r*o,c=n*o,f=n*s,h=i*o,d=i*s,p=i*u,v=a*o,g=a*s,y=a*u;return t[0]=1-f-p,t[3]=c-y,t[6]=h+g,t[1]=c+y,t[4]=1-l-p,t[7]=d-v,t[2]=h-g,t[5]=d+v,t[8]=1-l-f,t},normalFromMat4:function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],g=e[14],y=e[15],m=r*s-n*o,b=r*u-i*o,x=r*l-a*o,M=n*u-i*s,w=n*l-a*s,A=i*l-a*u,k=c*v-f*p,_=c*g-h*p,S=c*y-d*p,E=f*g-h*v,R=f*y-d*v,T=h*y-d*g,O=m*T-b*R+x*E+M*S-w*_+A*k;return O?(O=1/O,t[0]=(s*T-u*R+l*E)*O,t[1]=(u*S-o*T-l*_)*O,t[2]=(o*R-s*S+l*k)*O,t[3]=(i*R-n*T-a*E)*O,t[4]=(r*T-i*S+a*_)*O,t[5]=(n*S-r*R-a*k)*O,t[6]=(v*A-g*w+y*M)*O,t[7]=(g*x-p*A-y*b)*O,t[8]=(p*w-v*x+y*m)*O,t):null},projection:function(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},str:function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},frob:function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},add:function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t},subtract:O,multiplyScalar:function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t},multiplyScalarAndAdd:function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t},exactEquals:function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},equals:function(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=e[0],h=e[1],p=e[2],v=e[3],g=e[4],y=e[5],m=e[6],b=e[7],x=e[8];return Math.abs(r-f)<=d*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-h)<=d*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-p)<=d*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-v)<=d*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(o-g)<=d*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(s-y)<=d*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(u-m)<=d*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(l-b)<=d*Math.max(1,Math.abs(l),Math.abs(b))&&Math.abs(c-x)<=d*Math.max(1,Math.abs(c),Math.abs(x))},mul:C,sub:L});function D(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function q(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=e[9],d=e[10],p=e[11],v=e[12],g=e[13],y=e[14],m=e[15],b=r[0],x=r[1],M=r[2],w=r[3];return t[0]=b*n+x*s+M*f+w*v,t[1]=b*i+x*u+M*h+w*g,t[2]=b*a+x*l+M*d+w*y,t[3]=b*o+x*c+M*p+w*m,b=r[4],x=r[5],M=r[6],w=r[7],t[4]=b*n+x*s+M*f+w*v,t[5]=b*i+x*u+M*h+w*g,t[6]=b*a+x*l+M*d+w*y,t[7]=b*o+x*c+M*p+w*m,b=r[8],x=r[9],M=r[10],w=r[11],t[8]=b*n+x*s+M*f+w*v,t[9]=b*i+x*u+M*h+w*g,t[10]=b*a+x*l+M*d+w*y,t[11]=b*o+x*c+M*p+w*m,b=r[12],x=r[13],M=r[14],w=r[15],t[12]=b*n+x*s+M*f+w*v,t[13]=b*i+x*u+M*h+w*g,t[14]=b*a+x*l+M*d+w*y,t[15]=b*o+x*c+M*p+w*m,t}function j(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=n+n,u=i+i,l=a+a,c=n*s,f=n*u,h=n*l,d=i*u,p=i*l,v=a*l,g=o*s,y=o*u,m=o*l;return t[0]=1-(d+v),t[1]=f+m,t[2]=h-y,t[3]=0,t[4]=f-m,t[5]=1-(c+v),t[6]=p+g,t[7]=0,t[8]=h+y,t[9]=p-g,t[10]=1-(c+d),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function I(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function N(t,e){var r=e[0],n=e[1],i=e[2],a=e[4],o=e[5],s=e[6],u=e[8],l=e[9],c=e[10];return t[0]=Math.hypot(r,n,i),t[1]=Math.hypot(a,o,s),t[2]=Math.hypot(u,l,c),t}function F(t,e){var r=new p(3);N(r,e);var n=1/r[0],i=1/r[1],a=1/r[2],o=e[0]*n,s=e[1]*i,u=e[2]*a,l=e[4]*n,c=e[5]*i,f=e[6]*a,h=e[8]*n,d=e[9]*i,v=e[10]*a,g=o+c+v,y=0;return g>0?(y=2*Math.sqrt(g+1),t[3]=.25*y,t[0]=(f-d)/y,t[1]=(h-u)/y,t[2]=(s-l)/y):o>c&&o>v?(y=2*Math.sqrt(1+o-c-v),t[3]=(f-d)/y,t[0]=.25*y,t[1]=(s+l)/y,t[2]=(h+u)/y):c>v?(y=2*Math.sqrt(1+c-o-v),t[3]=(h-u)/y,t[0]=(s+l)/y,t[1]=.25*y,t[2]=(f+d)/y):(y=2*Math.sqrt(1+v-o-c),t[3]=(s-l)/y,t[0]=(h+u)/y,t[1]=(f+d)/y,t[2]=.25*y),t}function U(t,e,r,n,i){var a,o=1/Math.tan(e/2);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(a=1/(n-i),t[10]=(i+n)*a,t[14]=2*i*n*a):(t[10]=-1,t[14]=-2*n),t}var B=U;function V(t,e,r,n,i,a,o){var s=1/(e-r),u=1/(n-i),l=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+r)*s,t[13]=(i+n)*u,t[14]=(o+a)*l,t[15]=1,t}var z=V;function G(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}var H=q,Y=G,W=Object.freeze({__proto__:null,create:function(){var t=new p(16);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},clone:function(t){var e=new p(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},fromValues:function(t,e,r,n,i,a,o,s,u,l,c,f,h,d,v,g){var y=new p(16);return y[0]=t,y[1]=e,y[2]=r,y[3]=n,y[4]=i,y[5]=a,y[6]=o,y[7]=s,y[8]=u,y[9]=l,y[10]=c,y[11]=f,y[12]=h,y[13]=d,y[14]=v,y[15]=g,y},set:function(t,e,r,n,i,a,o,s,u,l,c,f,h,d,p,v,g){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t[8]=l,t[9]=c,t[10]=f,t[11]=h,t[12]=d,t[13]=p,t[14]=v,t[15]=g,t},identity:D,transpose:function(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},invert:function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],g=e[14],y=e[15],m=r*s-n*o,b=r*u-i*o,x=r*l-a*o,M=n*u-i*s,w=n*l-a*s,A=i*l-a*u,k=c*v-f*p,_=c*g-h*p,S=c*y-d*p,E=f*g-h*v,R=f*y-d*v,T=h*y-d*g,O=m*T-b*R+x*E+M*S-w*_+A*k;return O?(O=1/O,t[0]=(s*T-u*R+l*E)*O,t[1]=(i*R-n*T-a*E)*O,t[2]=(v*A-g*w+y*M)*O,t[3]=(h*w-f*A-d*M)*O,t[4]=(u*S-o*T-l*_)*O,t[5]=(r*T-i*S+a*_)*O,t[6]=(g*x-p*A-y*b)*O,t[7]=(c*A-h*x+d*b)*O,t[8]=(o*R-s*S+l*k)*O,t[9]=(n*S-r*R-a*k)*O,t[10]=(p*w-v*x+y*m)*O,t[11]=(f*x-c*w-d*m)*O,t[12]=(s*_-o*E-u*k)*O,t[13]=(r*E-n*_+i*k)*O,t[14]=(v*b-p*M-g*m)*O,t[15]=(c*M-f*b+h*m)*O,t):null},adjoint:function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],h=e[10],d=e[11],p=e[12],v=e[13],g=e[14],y=e[15];return t[0]=s*(h*y-d*g)-f*(u*y-l*g)+v*(u*d-l*h),t[1]=-(n*(h*y-d*g)-f*(i*y-a*g)+v*(i*d-a*h)),t[2]=n*(u*y-l*g)-s*(i*y-a*g)+v*(i*l-a*u),t[3]=-(n*(u*d-l*h)-s*(i*d-a*h)+f*(i*l-a*u)),t[4]=-(o*(h*y-d*g)-c*(u*y-l*g)+p*(u*d-l*h)),t[5]=r*(h*y-d*g)-c*(i*y-a*g)+p*(i*d-a*h),t[6]=-(r*(u*y-l*g)-o*(i*y-a*g)+p*(i*l-a*u)),t[7]=r*(u*d-l*h)-o*(i*d-a*h)+c*(i*l-a*u),t[8]=o*(f*y-d*v)-c*(s*y-l*v)+p*(s*d-l*f),t[9]=-(r*(f*y-d*v)-c*(n*y-a*v)+p*(n*d-a*f)),t[10]=r*(s*y-l*v)-o*(n*y-a*v)+p*(n*l-a*s),t[11]=-(r*(s*d-l*f)-o*(n*d-a*f)+c*(n*l-a*s)),t[12]=-(o*(f*g-h*v)-c*(s*g-u*v)+p*(s*h-u*f)),t[13]=r*(f*g-h*v)-c*(n*g-i*v)+p*(n*h-i*f),t[14]=-(r*(s*g-u*v)-o*(n*g-i*v)+p*(n*u-i*s)),t[15]=r*(s*h-u*f)-o*(n*h-i*f)+c*(n*u-i*s),t},determinant:function(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],l=t[8],c=t[9],f=t[10],h=t[11],d=t[12],p=t[13],v=t[14],g=t[15];return(e*o-r*a)*(f*g-h*v)-(e*s-n*a)*(c*g-h*p)+(e*u-i*a)*(c*v-f*p)+(r*s-n*o)*(l*g-h*d)-(r*u-i*o)*(l*v-f*d)+(n*u-i*s)*(l*p-c*d)},multiply:q,translate:function(t,e,r){var n,i,a,o,s,u,l,c,f,h,d,p,v=r[0],g=r[1],y=r[2];return e===t?(t[12]=e[0]*v+e[4]*g+e[8]*y+e[12],t[13]=e[1]*v+e[5]*g+e[9]*y+e[13],t[14]=e[2]*v+e[6]*g+e[10]*y+e[14],t[15]=e[3]*v+e[7]*g+e[11]*y+e[15]):(n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],h=e[9],d=e[10],p=e[11],t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=f,t[9]=h,t[10]=d,t[11]=p,t[12]=n*v+s*g+f*y+e[12],t[13]=i*v+u*g+h*y+e[13],t[14]=a*v+l*g+d*y+e[14],t[15]=o*v+c*g+p*y+e[15]),t},scale:function(t,e,r){var n=r[0],i=r[1],a=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},rotate:function(t,e,r,n){var i,a,o,s,u,l,c,f,h,p,v,g,y,m,b,x,M,w,A,k,_,S,E,R,T=n[0],O=n[1],C=n[2],L=Math.hypot(T,O,C);return L<d?null:(T*=L=1/L,O*=L,C*=L,i=Math.sin(r),o=1-(a=Math.cos(r)),s=e[0],u=e[1],l=e[2],c=e[3],f=e[4],h=e[5],p=e[6],v=e[7],g=e[8],y=e[9],m=e[10],b=e[11],x=T*T*o+a,M=O*T*o+C*i,w=C*T*o-O*i,A=T*O*o-C*i,k=O*O*o+a,_=C*O*o+T*i,S=T*C*o+O*i,E=O*C*o-T*i,R=C*C*o+a,t[0]=s*x+f*M+g*w,t[1]=u*x+h*M+y*w,t[2]=l*x+p*M+m*w,t[3]=c*x+v*M+b*w,t[4]=s*A+f*k+g*_,t[5]=u*A+h*k+y*_,t[6]=l*A+p*k+m*_,t[7]=c*A+v*k+b*_,t[8]=s*S+f*E+g*R,t[9]=u*S+h*E+y*R,t[10]=l*S+p*E+m*R,t[11]=c*S+v*E+b*R,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},rotateX:function(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+l*n,t[5]=o*i+c*n,t[6]=s*i+f*n,t[7]=u*i+h*n,t[8]=l*i-a*n,t[9]=c*i-o*n,t[10]=f*i-s*n,t[11]=h*i-u*n,t},rotateY:function(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],s=e[2],u=e[3],l=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-l*n,t[1]=o*i-c*n,t[2]=s*i-f*n,t[3]=u*i-h*n,t[8]=a*n+l*i,t[9]=o*n+c*i,t[10]=s*n+f*i,t[11]=u*n+h*i,t},rotateZ:function(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],s=e[2],u=e[3],l=e[4],c=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+l*n,t[1]=o*i+c*n,t[2]=s*i+f*n,t[3]=u*i+h*n,t[4]=l*i-a*n,t[5]=c*i-o*n,t[6]=f*i-s*n,t[7]=h*i-u*n,t},fromTranslation:function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},fromScaling:function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromRotation:function(t,e,r){var n,i,a,o=r[0],s=r[1],u=r[2],l=Math.hypot(o,s,u);return l<d?null:(o*=l=1/l,s*=l,u*=l,n=Math.sin(e),a=1-(i=Math.cos(e)),t[0]=o*o*a+i,t[1]=s*o*a+u*n,t[2]=u*o*a-s*n,t[3]=0,t[4]=o*s*a-u*n,t[5]=s*s*a+i,t[6]=u*s*a+o*n,t[7]=0,t[8]=o*u*a+s*n,t[9]=s*u*a-o*n,t[10]=u*u*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},fromXRotation:function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromYRotation:function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromZRotation:function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromRotationTranslation:j,fromQuat2:function(t,e){var r=new p(3),n=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=n*n+i*i+a*a+o*o;return f>0?(r[0]=2*(s*o+c*n+u*a-l*i)/f,r[1]=2*(u*o+c*i+l*n-s*a)/f,r[2]=2*(l*o+c*a+s*i-u*n)/f):(r[0]=2*(s*o+c*n+u*a-l*i),r[1]=2*(u*o+c*i+l*n-s*a),r[2]=2*(l*o+c*a+s*i-u*n)),j(t,e,r),t},getTranslation:I,getScaling:N,getRotation:F,fromRotationTranslationScale:function(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=e[3],u=i+i,l=a+a,c=o+o,f=i*u,h=i*l,d=i*c,p=a*l,v=a*c,g=o*c,y=s*u,m=s*l,b=s*c,x=n[0],M=n[1],w=n[2];return t[0]=(1-(p+g))*x,t[1]=(h+b)*x,t[2]=(d-m)*x,t[3]=0,t[4]=(h-b)*M,t[5]=(1-(f+g))*M,t[6]=(v+y)*M,t[7]=0,t[8]=(d+m)*w,t[9]=(v-y)*w,t[10]=(1-(f+p))*w,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},fromRotationTranslationScaleOrigin:function(t,e,r,n,i){var a=e[0],o=e[1],s=e[2],u=e[3],l=a+a,c=o+o,f=s+s,h=a*l,d=a*c,p=a*f,v=o*c,g=o*f,y=s*f,m=u*l,b=u*c,x=u*f,M=n[0],w=n[1],A=n[2],k=i[0],_=i[1],S=i[2],E=(1-(v+y))*M,R=(d+x)*M,T=(p-b)*M,O=(d-x)*w,C=(1-(h+y))*w,L=(g+m)*w,P=(p+b)*A,D=(g-m)*A,q=(1-(h+v))*A;return t[0]=E,t[1]=R,t[2]=T,t[3]=0,t[4]=O,t[5]=C,t[6]=L,t[7]=0,t[8]=P,t[9]=D,t[10]=q,t[11]=0,t[12]=r[0]+k-(E*k+O*_+P*S),t[13]=r[1]+_-(R*k+C*_+D*S),t[14]=r[2]+S-(T*k+L*_+q*S),t[15]=1,t},fromQuat:function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r+r,s=n+n,u=i+i,l=r*o,c=n*o,f=n*s,h=i*o,d=i*s,p=i*u,v=a*o,g=a*s,y=a*u;return t[0]=1-f-p,t[1]=c+y,t[2]=h-g,t[3]=0,t[4]=c-y,t[5]=1-l-p,t[6]=d+v,t[7]=0,t[8]=h+g,t[9]=d-v,t[10]=1-l-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},frustum:function(t,e,r,n,i,a,o){var s=1/(r-e),u=1/(i-n),l=1/(a-o);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*u,t[6]=0,t[7]=0,t[8]=(r+e)*s,t[9]=(i+n)*u,t[10]=(o+a)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*l,t[15]=0,t},perspectiveNO:U,perspective:B,perspectiveZO:function(t,e,r,n,i){var a,o=1/Math.tan(e/2);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(a=1/(n-i),t[10]=i*a,t[14]=i*n*a):(t[10]=-1,t[14]=-n),t},perspectiveFromFieldOfView:function(t,e,r,n){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(o+s),l=2/(i+a);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=l,t[6]=0,t[7]=0,t[8]=-(o-s)*u*.5,t[9]=(i-a)*l*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t},orthoNO:V,ortho:z,orthoZO:function(t,e,r,n,i,a,o){var s=1/(e-r),u=1/(n-i),l=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=l,t[11]=0,t[12]=(e+r)*s,t[13]=(i+n)*u,t[14]=a*l,t[15]=1,t},lookAt:function(t,e,r,n){var i,a,o,s,u,l,c,f,h,p,v=e[0],g=e[1],y=e[2],m=n[0],b=n[1],x=n[2],M=r[0],w=r[1],A=r[2];return Math.abs(v-M)<d&&Math.abs(g-w)<d&&Math.abs(y-A)<d?D(t):(c=v-M,f=g-w,h=y-A,i=b*(h*=p=1/Math.hypot(c,f,h))-x*(f*=p),a=x*(c*=p)-m*h,o=m*f-b*c,(p=Math.hypot(i,a,o))?(i*=p=1/p,a*=p,o*=p):(i=0,a=0,o=0),s=f*o-h*a,u=h*i-c*o,l=c*a-f*i,(p=Math.hypot(s,u,l))?(s*=p=1/p,u*=p,l*=p):(s=0,u=0,l=0),t[0]=i,t[1]=s,t[2]=c,t[3]=0,t[4]=a,t[5]=u,t[6]=f,t[7]=0,t[8]=o,t[9]=l,t[10]=h,t[11]=0,t[12]=-(i*v+a*g+o*y),t[13]=-(s*v+u*g+l*y),t[14]=-(c*v+f*g+h*y),t[15]=1,t)},targetTo:function(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=n[0],u=n[1],l=n[2],c=i-r[0],f=a-r[1],h=o-r[2],d=c*c+f*f+h*h;d>0&&(c*=d=1/Math.sqrt(d),f*=d,h*=d);var p=u*h-l*f,v=l*c-s*h,g=s*f-u*c;return(d=p*p+v*v+g*g)>0&&(p*=d=1/Math.sqrt(d),v*=d,g*=d),t[0]=p,t[1]=v,t[2]=g,t[3]=0,t[4]=f*g-h*v,t[5]=h*p-c*g,t[6]=c*v-f*p,t[7]=0,t[8]=c,t[9]=f,t[10]=h,t[11]=0,t[12]=i,t[13]=a,t[14]=o,t[15]=1,t},str:function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},frob:function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},add:function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t},subtract:G,multiplyScalar:function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t},multiplyScalarAndAdd:function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t},exactEquals:function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},equals:function(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],f=t[9],h=t[10],p=t[11],v=t[12],g=t[13],y=t[14],m=t[15],b=e[0],x=e[1],M=e[2],w=e[3],A=e[4],k=e[5],_=e[6],S=e[7],E=e[8],R=e[9],T=e[10],O=e[11],C=e[12],L=e[13],P=e[14],D=e[15];return Math.abs(r-b)<=d*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(n-x)<=d*Math.max(1,Math.abs(n),Math.abs(x))&&Math.abs(i-M)<=d*Math.max(1,Math.abs(i),Math.abs(M))&&Math.abs(a-w)<=d*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(o-A)<=d*Math.max(1,Math.abs(o),Math.abs(A))&&Math.abs(s-k)<=d*Math.max(1,Math.abs(s),Math.abs(k))&&Math.abs(u-_)<=d*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(l-S)<=d*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(c-E)<=d*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(f-R)<=d*Math.max(1,Math.abs(f),Math.abs(R))&&Math.abs(h-T)<=d*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(p-O)<=d*Math.max(1,Math.abs(p),Math.abs(O))&&Math.abs(v-C)<=d*Math.max(1,Math.abs(v),Math.abs(C))&&Math.abs(g-L)<=d*Math.max(1,Math.abs(g),Math.abs(L))&&Math.abs(y-P)<=d*Math.max(1,Math.abs(y),Math.abs(P))&&Math.abs(m-D)<=d*Math.max(1,Math.abs(m),Math.abs(D))},mul:H,sub:Y});function X(){var t=new p(3);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function J(t){var e=t[0],r=t[1],n=t[2];return Math.hypot(e,r,n)}function $(t,e,r){var n=new p(3);return n[0]=t,n[1]=e,n[2]=r,n}function Z(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function Q(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function K(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function tt(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.hypot(r,n,i)}function et(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}function rt(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function nt(t,e){var r=e[0],n=e[1],i=e[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t}function it(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function at(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],u=r[2];return t[0]=i*u-a*s,t[1]=a*o-n*u,t[2]=n*s-i*o,t}var ot,st=Z,ut=Q,lt=K,ct=tt,ft=et,ht=J,dt=rt,pt=(ot=X(),function(t,e,r,n,i,a){var o,s;for(e||(e=3),r||(r=0),s=n?Math.min(n*e+r,t.length):t.length,o=r;o<s;o+=e)ot[0]=t[o],ot[1]=t[o+1],ot[2]=t[o+2],i(ot,ot,a),t[o]=ot[0],t[o+1]=ot[1],t[o+2]=ot[2];return t}),vt=Object.freeze({__proto__:null,create:X,clone:function(t){var e=new p(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},length:J,fromValues:$,copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},set:function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t},add:function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},subtract:Z,multiply:Q,divide:K,ceil:function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},floor:function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},min:function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},max:function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},round:function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},scale:function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},scaleAndAdd:function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t},distance:tt,squaredDistance:et,squaredLength:rt,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},inverse:function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},normalize:nt,dot:it,cross:at,lerp:function(t,e,r,n){var i=e[0],a=e[1],o=e[2];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=o+n*(r[2]-o),t},hermite:function(t,e,r,n,i,a){var o=a*a,s=o*(2*a-3)+1,u=o*(a-2)+a,l=o*(a-1),c=o*(3-2*a);return t[0]=e[0]*s+r[0]*u+n[0]*l+i[0]*c,t[1]=e[1]*s+r[1]*u+n[1]*l+i[1]*c,t[2]=e[2]*s+r[2]*u+n[2]*l+i[2]*c,t},bezier:function(t,e,r,n,i,a){var o=1-a,s=o*o,u=a*a,l=s*o,c=3*a*s,f=3*u*o,h=u*a;return t[0]=e[0]*l+r[0]*c+n[0]*f+i[0]*h,t[1]=e[1]*l+r[1]*c+n[1]*f+i[1]*h,t[2]=e[2]*l+r[2]*c+n[2]*f+i[2]*h,t},random:function(t,e){e=e||1;var r=2*v()*Math.PI,n=2*v()-1,i=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*i,t[1]=Math.sin(r)*i,t[2]=n*e,t},transformMat4:function(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[3]*n+r[7]*i+r[11]*a+r[15];return o=o||1,t[0]=(r[0]*n+r[4]*i+r[8]*a+r[12])/o,t[1]=(r[1]*n+r[5]*i+r[9]*a+r[13])/o,t[2]=(r[2]*n+r[6]*i+r[10]*a+r[14])/o,t},transformMat3:function(t,e,r){var n=e[0],i=e[1],a=e[2];return t[0]=n*r[0]+i*r[3]+a*r[6],t[1]=n*r[1]+i*r[4]+a*r[7],t[2]=n*r[2]+i*r[5]+a*r[8],t},transformQuat:function(t,e,r){var n=r[0],i=r[1],a=r[2],o=r[3],s=e[0],u=e[1],l=e[2],c=i*l-a*u,f=a*s-n*l,h=n*u-i*s,d=i*h-a*f,p=a*c-n*h,v=n*f-i*c,g=2*o;return c*=g,f*=g,h*=g,d*=2,p*=2,v*=2,t[0]=s+c+d,t[1]=u+f+p,t[2]=l+h+v,t},rotateX:function(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[0],a[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),a[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t},rotateY:function(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),a[1]=i[1],a[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t},rotateZ:function(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),a[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),a[2]=i[2],t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t},angle:function(t,e){var r=t[0],n=t[1],i=t[2],a=e[0],o=e[1],s=e[2],u=Math.sqrt(r*r+n*n+i*i)*Math.sqrt(a*a+o*o+s*s),l=u&&it(t,e)/u;return Math.acos(Math.min(Math.max(l,-1),1))},zero:function(t){return t[0]=0,t[1]=0,t[2]=0,t},str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},exactEquals:function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},equals:function(t,e){var r=t[0],n=t[1],i=t[2],a=e[0],o=e[1],s=e[2];return Math.abs(r-a)<=d*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-o)<=d*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-s)<=d*Math.max(1,Math.abs(i),Math.abs(s))},sub:st,mul:ut,div:lt,dist:ct,sqrDist:ft,len:ht,sqrLen:dt,forEach:pt});function gt(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function yt(t){var e=new p(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function mt(t,e,r,n){var i=new p(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i}function bt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function xt(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function Mt(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function wt(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function At(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function kt(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function _t(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function St(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.hypot(r,n,i,a)}function Et(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return r*r+n*n+i*i+a*a}function Rt(t){var e=t[0],r=t[1],n=t[2],i=t[3];return Math.hypot(e,r,n,i)}function Tt(t){var e=t[0],r=t[1],n=t[2],i=t[3];return e*e+r*r+n*n+i*i}function Ot(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*r+n*n+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),t[0]=r*o,t[1]=n*o,t[2]=i*o,t[3]=a*o,t}function Ct(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Lt(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=e[3];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=o+n*(r[2]-o),t[3]=s+n*(r[3]-s),t}function Pt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function Dt(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=e[0],s=e[1],u=e[2],l=e[3];return Math.abs(r-o)<=d*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-s)<=d*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=d*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-l)<=d*Math.max(1,Math.abs(a),Math.abs(l))}var qt=wt,jt=At,It=kt,Nt=St,Ft=Et,Ut=Rt,Bt=Tt,Vt=function(){var t=gt();return function(e,r,n,i,a,o){var s,u;for(r||(r=4),n||(n=0),u=i?Math.min(i*r+n,e.length):e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],a(t,t,o),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}(),zt=Object.freeze({__proto__:null,create:gt,clone:yt,fromValues:mt,copy:bt,set:xt,add:Mt,subtract:wt,multiply:At,divide:kt,ceil:function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},floor:function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},min:function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t},max:function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t},round:function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},scale:_t,scaleAndAdd:function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},distance:St,squaredDistance:Et,length:Rt,squaredLength:Tt,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},inverse:function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},normalize:Ot,dot:Ct,cross:function(t,e,r,n){var i=r[0]*n[1]-r[1]*n[0],a=r[0]*n[2]-r[2]*n[0],o=r[0]*n[3]-r[3]*n[0],s=r[1]*n[2]-r[2]*n[1],u=r[1]*n[3]-r[3]*n[1],l=r[2]*n[3]-r[3]*n[2],c=e[0],f=e[1],h=e[2],d=e[3];return t[0]=f*l-h*u+d*s,t[1]=-c*l+h*o-d*a,t[2]=c*u-f*o+d*i,t[3]=-c*s+f*a-h*i,t},lerp:Lt,random:function(t,e){var r,n,i,a,o,s;e=e||1;do{o=(r=2*v()-1)*r+(n=2*v()-1)*n}while(o>=1);do{s=(i=2*v()-1)*i+(a=2*v()-1)*a}while(s>=1);var u=Math.sqrt((1-o)/s);return t[0]=e*r,t[1]=e*n,t[2]=e*i*u,t[3]=e*a*u,t},transformMat4:function(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,t[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,t[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,t[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,t},transformQuat:function(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],u=r[2],l=r[3],c=l*n+s*a-u*i,f=l*i+u*n-o*a,h=l*a+o*i-s*n,d=-o*n-s*i-u*a;return t[0]=c*l+d*-o+f*-u-h*-s,t[1]=f*l+d*-s+h*-o-c*-u,t[2]=h*l+d*-u+c*-s-f*-o,t[3]=e[3],t},zero:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},exactEquals:Pt,equals:Dt,sub:qt,mul:jt,div:It,dist:Nt,sqrDist:Ft,len:Ut,sqrLen:Bt,forEach:Vt});function Gt(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Ht(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function Yt(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[0],u=r[1],l=r[2],c=r[3];return t[0]=n*c+o*s+i*l-a*u,t[1]=i*c+o*u+a*s-n*l,t[2]=a*c+o*l+n*u-i*s,t[3]=o*c-n*s-i*u-a*l,t}function Wt(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+o*s,t[1]=i*u+a*s,t[2]=a*u-i*s,t[3]=o*u-n*s,t}function Xt(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u-a*s,t[1]=i*u+o*s,t[2]=a*u+n*s,t[3]=o*u-i*s,t}function Jt(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+i*s,t[1]=i*u-n*s,t[2]=a*u+o*s,t[3]=o*u-a*s,t}function $t(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=Math.sqrt(r*r+n*n+i*i),s=Math.exp(a),u=o>0?s*Math.sin(o)/o:0;return t[0]=r*u,t[1]=n*u,t[2]=i*u,t[3]=s*Math.cos(o),t}function Zt(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=Math.sqrt(r*r+n*n+i*i),s=o>0?Math.atan2(o,a)/o:0;return t[0]=r*s,t[1]=n*s,t[2]=i*s,t[3]=.5*Math.log(r*r+n*n+i*i+a*a),t}function Qt(t,e,r,n){var i,a,o,s,u,l=e[0],c=e[1],f=e[2],h=e[3],p=r[0],v=r[1],g=r[2],y=r[3];return(a=l*p+c*v+f*g+h*y)<0&&(a=-a,p=-p,v=-v,g=-g,y=-y),1-a>d?(i=Math.acos(a),o=Math.sin(i),s=Math.sin((1-n)*i)/o,u=Math.sin(n*i)/o):(s=1-n,u=n),t[0]=s*l+u*p,t[1]=s*c+u*v,t[2]=s*f+u*g,t[3]=s*h+u*y,t}function Kt(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*o+o]+1),t[i]=.5*r,r=.5/r,t[3]=(e[3*a+o]-e[3*o+a])*r,t[a]=(e[3*a+i]+e[3*i+a])*r,t[o]=(e[3*o+i]+e[3*i+o])*r}return t}var te,ee,re,ne,ie,ae,oe=yt,se=mt,ue=bt,le=xt,ce=Mt,fe=Yt,he=_t,de=Ct,pe=Lt,ve=Rt,ge=ve,ye=Tt,me=ye,be=Ot,xe=Pt,Me=Dt,we=(te=X(),ee=$(1,0,0),re=$(0,1,0),function(t,e,r){var n=it(e,r);return n<-.999999?(at(te,ee,e),ht(te)<1e-6&&at(te,re,e),nt(te,te),Ht(t,te,Math.PI),t):n>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(at(te,e,r),t[0]=te[0],t[1]=te[1],t[2]=te[2],t[3]=1+n,be(t,t))}),Ae=(ne=Gt(),ie=Gt(),function(t,e,r,n,i,a){return Qt(ne,e,i,a),Qt(ie,r,n,a),Qt(t,ne,ie,2*a*(1-a)),t}),ke=(ae=R(),function(t,e,r,n){return ae[0]=r[0],ae[3]=r[1],ae[6]=r[2],ae[1]=n[0],ae[4]=n[1],ae[7]=n[2],ae[2]=-e[0],ae[5]=-e[1],ae[8]=-e[2],be(t,Kt(t,ae))}),_e=Object.freeze({__proto__:null,create:Gt,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},setAxisAngle:Ht,getAxisAngle:function(t,e){var r=2*Math.acos(e[3]),n=Math.sin(r/2);return n>d?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r},getAngle:function(t,e){var r=de(t,e);return Math.acos(2*r*r-1)},multiply:Yt,rotateX:Wt,rotateY:Xt,rotateZ:Jt,calculateW:function(t,e){var r=e[0],n=e[1],i=e[2];return t[0]=r,t[1]=n,t[2]=i,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),t},exp:$t,ln:Zt,pow:function(t,e,r){return Zt(t,e),he(t,t,r),$t(t,t),t},slerp:Qt,random:function(t){var e=v(),r=v(),n=v(),i=Math.sqrt(1-e),a=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*r),t[1]=i*Math.cos(2*Math.PI*r),t[2]=a*Math.sin(2*Math.PI*n),t[3]=a*Math.cos(2*Math.PI*n),t},invert:function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*r+n*n+i*i+a*a,s=o?1/o:0;return t[0]=-r*s,t[1]=-n*s,t[2]=-i*s,t[3]=a*s,t},conjugate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},fromMat3:Kt,fromEuler:function(t,e,r,n){var i=.5*Math.PI/180;e*=i,r*=i,n*=i;var a=Math.sin(e),o=Math.cos(e),s=Math.sin(r),u=Math.cos(r),l=Math.sin(n),c=Math.cos(n);return t[0]=a*u*c-o*s*l,t[1]=o*s*c+a*u*l,t[2]=o*u*l-a*s*c,t[3]=o*u*c+a*s*l,t},str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},clone:oe,fromValues:se,copy:ue,set:le,add:ce,mul:fe,scale:he,dot:de,lerp:pe,length:ve,len:ge,squaredLength:ye,sqrLen:me,normalize:be,exactEquals:xe,equals:Me,rotationTo:we,sqlerp:Ae,setAxes:ke});function Se(t,e,r){var n=.5*r[0],i=.5*r[1],a=.5*r[2],o=e[0],s=e[1],u=e[2],l=e[3];return t[0]=o,t[1]=s,t[2]=u,t[3]=l,t[4]=n*l+i*u-a*s,t[5]=i*l+a*o-n*u,t[6]=a*l+n*s-i*o,t[7]=-n*o-i*s-a*u,t}function Ee(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}var Re=ue;var Te=ue;function Oe(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[4],u=r[5],l=r[6],c=r[7],f=e[4],h=e[5],d=e[6],p=e[7],v=r[0],g=r[1],y=r[2],m=r[3];return t[0]=n*m+o*v+i*y-a*g,t[1]=i*m+o*g+a*v-n*y,t[2]=a*m+o*y+n*g-i*v,t[3]=o*m-n*v-i*g-a*y,t[4]=n*c+o*s+i*l-a*u+f*m+p*v+h*y-d*g,t[5]=i*c+o*u+a*s-n*l+h*m+p*g+d*v-f*y,t[6]=a*c+o*l+n*u-i*s+d*m+p*y+f*g-h*v,t[7]=o*c-n*s-i*u-a*l+p*m-f*v-h*g-d*y,t}var Ce=Oe;var Le=de;var Pe=ve,De=Pe,qe=ye,je=qe;var Ie=Object.freeze({__proto__:null,create:function(){var t=new p(8);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t},clone:function(t){var e=new p(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e},fromValues:function(t,e,r,n,i,a,o,s){var u=new p(8);return u[0]=t,u[1]=e,u[2]=r,u[3]=n,u[4]=i,u[5]=a,u[6]=o,u[7]=s,u},fromRotationTranslationValues:function(t,e,r,n,i,a,o){var s=new p(8);s[0]=t,s[1]=e,s[2]=r,s[3]=n;var u=.5*i,l=.5*a,c=.5*o;return s[4]=u*n+l*r-c*e,s[5]=l*n+c*t-u*r,s[6]=c*n+u*e-l*t,s[7]=-u*t-l*e-c*r,s},fromRotationTranslation:Se,fromTranslation:function(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t},fromRotation:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},fromMat4:function(t,e){var r=Gt();F(r,e);var n=new p(3);return I(n,e),Se(t,r,n),t},copy:Ee,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},set:function(t,e,r,n,i,a,o,s,u){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t},getReal:Re,getDual:function(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t},setReal:Te,setDual:function(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t},getTranslation:function(t,e){var r=e[4],n=e[5],i=e[6],a=e[7],o=-e[0],s=-e[1],u=-e[2],l=e[3];return t[0]=2*(r*l+a*o+n*u-i*s),t[1]=2*(n*l+a*s+i*o-r*u),t[2]=2*(i*l+a*u+r*s-n*o),t},translate:function(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=.5*r[0],u=.5*r[1],l=.5*r[2],c=e[4],f=e[5],h=e[6],d=e[7];return t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=o*s+i*l-a*u+c,t[5]=o*u+a*s-n*l+f,t[6]=o*l+n*u-i*s+h,t[7]=-n*s-i*u-a*l+d,t},rotateX:function(t,e,r){var n=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=s*o+c*n+u*a-l*i,h=u*o+c*i+l*n-s*a,d=l*o+c*a+s*i-u*n,p=c*o-s*n-u*i-l*a;return Wt(t,e,r),n=t[0],i=t[1],a=t[2],o=t[3],t[4]=f*o+p*n+h*a-d*i,t[5]=h*o+p*i+d*n-f*a,t[6]=d*o+p*a+f*i-h*n,t[7]=p*o-f*n-h*i-d*a,t},rotateY:function(t,e,r){var n=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=s*o+c*n+u*a-l*i,h=u*o+c*i+l*n-s*a,d=l*o+c*a+s*i-u*n,p=c*o-s*n-u*i-l*a;return Xt(t,e,r),n=t[0],i=t[1],a=t[2],o=t[3],t[4]=f*o+p*n+h*a-d*i,t[5]=h*o+p*i+d*n-f*a,t[6]=d*o+p*a+f*i-h*n,t[7]=p*o-f*n-h*i-d*a,t},rotateZ:function(t,e,r){var n=-e[0],i=-e[1],a=-e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=s*o+c*n+u*a-l*i,h=u*o+c*i+l*n-s*a,d=l*o+c*a+s*i-u*n,p=c*o-s*n-u*i-l*a;return Jt(t,e,r),n=t[0],i=t[1],a=t[2],o=t[3],t[4]=f*o+p*n+h*a-d*i,t[5]=h*o+p*i+d*n-f*a,t[6]=d*o+p*a+f*i-h*n,t[7]=p*o-f*n-h*i-d*a,t},rotateByQuatAppend:function(t,e,r){var n=r[0],i=r[1],a=r[2],o=r[3],s=e[0],u=e[1],l=e[2],c=e[3];return t[0]=s*o+c*n+u*a-l*i,t[1]=u*o+c*i+l*n-s*a,t[2]=l*o+c*a+s*i-u*n,t[3]=c*o-s*n-u*i-l*a,s=e[4],u=e[5],l=e[6],c=e[7],t[4]=s*o+c*n+u*a-l*i,t[5]=u*o+c*i+l*n-s*a,t[6]=l*o+c*a+s*i-u*n,t[7]=c*o-s*n-u*i-l*a,t},rotateByQuatPrepend:function(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=r[0],u=r[1],l=r[2],c=r[3];return t[0]=n*c+o*s+i*l-a*u,t[1]=i*c+o*u+a*s-n*l,t[2]=a*c+o*l+n*u-i*s,t[3]=o*c-n*s-i*u-a*l,s=r[4],u=r[5],l=r[6],c=r[7],t[4]=n*c+o*s+i*l-a*u,t[5]=i*c+o*u+a*s-n*l,t[6]=a*c+o*l+n*u-i*s,t[7]=o*c-n*s-i*u-a*l,t},rotateAroundAxis:function(t,e,r,n){if(Math.abs(n)<d)return Ee(t,e);var i=Math.hypot(r[0],r[1],r[2]);n*=.5;var a=Math.sin(n),o=a*r[0]/i,s=a*r[1]/i,u=a*r[2]/i,l=Math.cos(n),c=e[0],f=e[1],h=e[2],p=e[3];t[0]=c*l+p*o+f*u-h*s,t[1]=f*l+p*s+h*o-c*u,t[2]=h*l+p*u+c*s-f*o,t[3]=p*l-c*o-f*s-h*u;var v=e[4],g=e[5],y=e[6],m=e[7];return t[4]=v*l+m*o+g*u-y*s,t[5]=g*l+m*s+y*o-v*u,t[6]=y*l+m*u+v*s-g*o,t[7]=m*l-v*o-g*s-y*u,t},add:function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t},multiply:Oe,mul:Ce,scale:function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t},dot:Le,lerp:function(t,e,r,n){var i=1-n;return Le(e,r)<0&&(n=-n),t[0]=e[0]*i+r[0]*n,t[1]=e[1]*i+r[1]*n,t[2]=e[2]*i+r[2]*n,t[3]=e[3]*i+r[3]*n,t[4]=e[4]*i+r[4]*n,t[5]=e[5]*i+r[5]*n,t[6]=e[6]*i+r[6]*n,t[7]=e[7]*i+r[7]*n,t},invert:function(t,e){var r=qe(e);return t[0]=-e[0]/r,t[1]=-e[1]/r,t[2]=-e[2]/r,t[3]=e[3]/r,t[4]=-e[4]/r,t[5]=-e[5]/r,t[6]=-e[6]/r,t[7]=e[7]/r,t},conjugate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t},length:Pe,len:De,squaredLength:qe,sqrLen:je,normalize:function(t,e){var r=qe(e);if(r>0){r=Math.sqrt(r);var n=e[0]/r,i=e[1]/r,a=e[2]/r,o=e[3]/r,s=e[4],u=e[5],l=e[6],c=e[7],f=n*s+i*u+a*l+o*c;t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=(s-n*f)/r,t[5]=(u-i*f)/r,t[6]=(l-a*f)/r,t[7]=(c-o*f)/r}return t},str:function(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"},exactEquals:function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]},equals:function(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=e[0],f=e[1],h=e[2],p=e[3],v=e[4],g=e[5],y=e[6],m=e[7];return Math.abs(r-c)<=d*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(n-f)<=d*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(i-h)<=d*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-p)<=d*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(o-v)<=d*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(s-g)<=d*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(u-y)<=d*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(l-m)<=d*Math.max(1,Math.abs(l),Math.abs(m))}});function Ne(){var t=new p(2);return p!=Float32Array&&(t[0]=0,t[1]=0),t}function Fe(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function Ue(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function Be(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function Ve(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.hypot(r,n)}function ze(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function Ge(t){var e=t[0],r=t[1];return Math.hypot(e,r)}function He(t){var e=t[0],r=t[1];return e*e+r*r}var Ye=Ge,We=Fe,Xe=Ue,Je=Be,$e=Ve,Ze=ze,Qe=He,Ke=function(){var t=Ne();return function(e,r,n,i,a,o){var s,u;for(r||(r=2),n||(n=0),u=i?Math.min(i*r+n,e.length):e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],a(t,t,o),e[s]=t[0],e[s+1]=t[1];return e}}(),tr=Object.freeze({__proto__:null,create:Ne,clone:function(t){var e=new p(2);return e[0]=t[0],e[1]=t[1],e},fromValues:function(t,e){var r=new p(2);return r[0]=t,r[1]=e,r},copy:function(t,e){return t[0]=e[0],t[1]=e[1],t},set:function(t,e,r){return t[0]=e,t[1]=r,t},add:function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t},subtract:Fe,multiply:Ue,divide:Be,ceil:function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},floor:function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},min:function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t},max:function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t},round:function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},scale:function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t},scaleAndAdd:function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t},distance:Ve,squaredDistance:ze,length:Ge,squaredLength:He,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},inverse:function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},normalize:function(t,e){var r=e[0],n=e[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},cross:function(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t},lerp:function(t,e,r,n){var i=e[0],a=e[1];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t},random:function(t,e){e=e||1;var r=2*v()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t},transformMat2:function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t},transformMat2d:function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t},transformMat3:function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t},transformMat4:function(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t},rotate:function(t,e,r,n){var i=e[0]-r[0],a=e[1]-r[1],o=Math.sin(n),s=Math.cos(n);return t[0]=i*s-a*o+r[0],t[1]=i*o+a*s+r[1],t},angle:function(t,e){var r=t[0],n=t[1],i=e[0],a=e[1],o=Math.sqrt(r*r+n*n)*Math.sqrt(i*i+a*a),s=o&&(r*i+n*a)/o;return Math.acos(Math.min(Math.max(s,-1),1))},zero:function(t){return t[0]=0,t[1]=0,t},str:function(t){return"vec2("+t[0]+", "+t[1]+")"},exactEquals:function(t,e){return t[0]===e[0]&&t[1]===e[1]},equals:function(t,e){var r=t[0],n=t[1],i=e[0],a=e[1];return Math.abs(r-i)<=d*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-a)<=d*Math.max(1,Math.abs(n),Math.abs(a))},len:Ye,sub:We,mul:Xe,div:Je,dist:$e,sqrDist:Ze,sqrLen:Qe,forEach:Ke}),er=Object.freeze({__proto__:null,glMatrix:y,mat2:w,mat2d:E,mat3:P,mat4:W,quat:_e,quat2:Ie,vec2:tr,vec3:vt,vec4:zt}),rr=n((function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.cancelAnimationFrame=r.requestAnimationFrame=void 0;var n,i,o=a(h);er.glMatrix.setMatrixArrayType(Array),r.cancelAnimationFrame=i,r.requestAnimationFrame=n,void 0!==e&&"function"==typeof e.requestAnimationFrame?(r.requestAnimationFrame=n=e.requestAnimationFrame,r.cancelAnimationFrame=i=e.cancelAnimationFrame):(r.requestAnimationFrame=n=function(t){return setTimeout((function(){t(function(){if("undefined"!=typeof performance&&performance.now)return performance.now();if("undefined"!=typeof process&&process.hrtime){var t=process.hrtime(),e=(0,o.default)(t,2);return 1e3*e[0]+1e-6*e[1]}return Date.now?Date.now():(new Date).getTime()}())}),16)},r.cancelAnimationFrame=i=function(t){return clearTimeout(t)})}));r(rr),rr.cancelAnimationFrame,rr.requestAnimationFrame;var nr=n((function(t){function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}));r(nr);var ir=n((function(t){t.exports=function(t){if(Array.isArray(t))return l(t)},t.exports.__esModule=!0,t.exports.default=t.exports}));r(ir);var ar=n((function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports}));r(ar);var or=n((function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports}));r(or);var sr=n((function(t){t.exports=function(t){return ir(t)||ar(t)||c(t)||or()},t.exports.__esModule=!0,t.exports.default=t.exports}));r(sr);var ur=n((function(t){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports}));r(ur);var lr=n((function(t){function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports}));r(lr);var cr=n((function(t){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports}));r(cr);var fr=n((function(t,e){function r(t,e){var n=t.trim().match(/^([\d.]+)(px|pt|pc|in|cm|mm|em|ex|rem|q|vw|vh|vmax|vmin)$/),i=t=n?{size:parseFloat(n[1]),unit:n[2]}:{size:parseFloat(t),unit:"px"},a=i.size,o=i.unit;if("pt"===o)a/=.75;else if("pc"===o)a*=16;else if("in"===o)a*=96;else if("cm"===o)a*=96/2.54;else if("mm"===o)a*=96/25.4;else if("em"===o||"rem"===o||"ex"===o){if(!e&&"function"==typeof getComputedStyle&&"undefined"!=typeof document){var s=getComputedStyle(document.documentElement).fontSize;e=s?r(s,16):16}a*=e,"ex"===o&&(a/=2)}else if("q"===o)a*=96/25.4/4;else if("vw"===o||"vh"===o){if("undefined"!=typeof document)a*=("vw"===o?window.innerWidth||document.documentElement.clientWidth:window.innerHeight||document.documentElement.clientHeight)/100}else if(("vmax"===o||"vmin"===o)&&"undefined"!=typeof document){var u=window.innerWidth||document.documentElement.clientWidth,l=window.innerHeight||document.documentElement.clientHeight;a*="vmax"===o?Math.max(u,l)/100:Math.min(u,l)/100}return a}function n(t){if(null==t)return t;if("string"==typeof t&&(t=r(t)),!Number.isFinite(t))throw new TypeError("Invalid value");return t}Object.defineProperty(e,"__esModule",{value:!0}),e.sizeToPixel=r,e.toString=function(t){return null==t?t:String(t)},e.toNumber=n,e.toArray=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(""===t)return null;"string"==typeof t&&(t=t.split(/[\s,]+/g));if(Array.isArray(t)&&(e&&(t=t.map(n)),1===t.length))return t[0];return t},e.compareValue=function(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return null==t&&null==e||t===e},er.glMatrix.setMatrixArrayType(Array)}));r(fr),fr.sizeToPixel,fr.toNumber,fr.toArray,fr.compareValue;var hr=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(lr),i=a(sr),s=a(h);er.glMatrix.setMatrixArrayType(Array);var u=Symbol.for("spritejs_setAttributeDefault"),l=Symbol.for("spritejs_declareAlias"),c=Symbol.for("spritejs_setAttribute"),f=Symbol.for("spritejs_getAttribute"),d=Symbol.for("spritejs_attributes"),p=Symbol.for("spritejs_changedAttrs"),v=Symbol("subject"),g=Symbol("attr"),y=Symbol("default"),m=Symbol("alias");var b=Symbol("transformMatrix"),x=Symbol("transforms"),M=Symbol("changedAttrs"),w=Symbol("lastChangedAttr"),A=Symbol("offsetFigure");function k(t,e,r){var n=t[g][e];if(t[c](e,r,!1)||t[w]!==e){var i=t[x];i.has(e)&&i.delete(e),r&&("rotate"===e&&(r=Math.PI*r/180),"scale"===e&&(r=r.map((function(t){var e=1e-5;return Math.abs(t)>e?t:1/t>0?e:-e}))),i.set(e,r)),t[b]=null,t[v].onPropertyChange(e,r,n,t)}}function _(t){var e=t[A],r=t.offsetDistance*e.getTotalLength(),n=e.getPointAtLength(r);if(n){var i=t[x],a=t.offsetRotate;a="auto"===a?n.angle:"reverse"===a?Math.PI+n.angle:Math.PI*a/180,i.set("offsetRotate",a),i.set("offsetTranslate",[n.x,n.y]),t[b]=null}}var S=function(){function t(e){var n=this;(0,r.default)(this,t),this[v]=e,this[g]={},this[b]=er.mat2d.fromValues(1,0,0,1,0,0),this[x]=new Map,this[y]={},this[m]=[],Object.defineProperty(e,"transformMatrix",{get:function(){var t,e,r,a,o,u;return n[b]||(n[b]=(t=n[x],e=n.transformOrigin,r=(0,s.default)(e,2),a=r[0],o=r[1],u=er.mat2d.fromValues(1,0,0,1,0,0),(0,i.default)(t).forEach((function(t){var e=(0,s.default)(t,2),r=e[0],n=e[1];if((a||o)&&(u=er.mat2d.translate(Array.of(0,0,0,0,0,0),u,[a,o])),"matrix"===r)u=er.mat2d.multiply(u,u,n);else if("offsetTranslate"===r)u[4]+=n[0],u[5]+=n[1];else if("offsetRotate"===r)u=er.mat2d.rotate(Array.of(0,0,0,0,0,0),u,n);else if("skew"===r){var i=(0,s.default)(n,2),l=i[0],c=i[1];u=er.mat2d.multiply(u,u,er.mat2d.fromValues(1,Math.tan(c),Math.tan(l),1,0,0))}else er.mat2d[r](u,u,n);(a||o)&&(u=er.mat2d.translate(Array.of(0,0,0,0,0,0),u,[-a,-o]))})),u)),(0,i.default)(n[b])}}),this[u]({id:"",name:"",className:"",x:0,y:0,transformOrigin:[0,0],transform:"",translate:[0,0],rotate:0,scale:[1,1],skew:[0,0],opacity:1,zIndex:0,offsetPath:void 0,offsetDistance:0,offsetRotate:"auto",pointerEvents:"visible",filter:"none",display:""}),this[l]("class","pos"),this[M]=new Set,this[A]=new o.Figure2D({scale:5,simplify:0})}return(0,n.default)(t,null,[{key:"setDefault",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t[u].apply(t,r)}},{key:"declareAlias",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t[l].apply(t,r)}},{key:"setAttribute",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t[c].apply(t,r)}},{key:"getAttribute",value:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t[f].apply(t,r)}},{key:"getAttributes",value:function(t){return t[d]}},{key:"getChangedAttributes",value:function(t){return t[p]}}]),(0,n.default)(t,[{key:u,value:function(t){Object.assign(this[y],t),Object.assign(this[g],t)}},{key:l,value:function(){var t;(t=this[m]).push.apply(t,arguments)}},{key:c,value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=this[g][t],i=this[v];return null==e&&(e=this[y][t]),!(0,fr.compareValue)(n,e)&&(this[g][t]=e,this[M].has(t)&&this[M].delete(t),this[M].add(t),this[w]=t,r&&i.onPropertyChange(t,e,n,this),!0)}},{key:f,value:function(t){return this[g][t]}},{key:p,get:function(){var t=this,e={};return(0,i.default)(this[M]).forEach((function(r){e[r]=t[g][r]})),e}},{key:d,get:function(){for(var t=Object.assign({},this[g]),e=0;e<this[m].length;e++){var r=this[m][e];t[r]=this[r]}return t}},{key:"id",set:function(t){this[c]("id",t)},get:function(){return this[f]("id")}},{key:"name",set:function(t){this[c]("name",t)},get:function(){return this[f]("name")}},{key:"className",set:function(t){this[c]("className",t)},get:function(){return this[f]("className")}},{key:"class",set:function(t){this.className=t},get:function(){return this.className}},{key:"x",get:function(){return this[f]("x")},set:function(t){this[c]("x",(0,fr.toNumber)(t))}},{key:"y",get:function(){return this[f]("y")},set:function(t){this[c]("y",(0,fr.toNumber)(t))}},{key:"pos",get:function(){return[this.x,this.y]},set:function(t){t=(0,fr.toArray)(t),Array.isArray(t)||(t=[t,t]),this.x=t[0],this.y=t[1]}},{key:"transform",get:function(){return this[f]("transform")},set:function(t){var e=null;if(Array.isArray(t)&&(e=t,t="matrix(".concat(t.map(fr.toNumber).join(),")")),"string"==typeof t)t=t.replace(/\s*,\s*/g,",");else if(null!=t)throw new TypeError("Invalid transform value.");var r=this[g].transform;if(this[c]("transform",t,!1)){var n=this[x];if(n.has("matrix")&&n.delete("matrix"),e)n.set("matrix",e);else if(t){var i=t.match(/(matrix|translate|rotate|scale|skew)\([^()]+\)/g);if(!i)throw new TypeError("Invalid transform value.");for(var a=er.mat2d.fromValues(1,0,0,1,0,0),o=0;o<i.length;o++){var u=i[o].match(/^(matrix|translate|rotate|scale|skew)\(([^()]+)\)/);if(u){var l=(0,s.default)(u,3),f=l[1],h=l[2];h="rotate"===f?Math.PI*parseFloat(h)/180:h.trim().split(/[\s,]+/).map((function(t){return(0,fr.toNumber)(t)})),"matrix"===f?a=er.mat2d.multiply(a,a,h):"skew"===f?a=er.mat2d.multiply(a,a,er.mat2d.fromValues(1,Math.tan(h[1]),Math.tan(h[0]),1,0,0)):er.mat2d[f](a,a,h),n.set("matrix",a)}}}this[b]=null,this[v].onPropertyChange("transform",t,r,this)}}},{key:"transformOrigin",get:function(){return this[f]("transformOrigin")},set:function(t){null==(t=(0,fr.toArray)(t,!0))||Array.isArray(t)||(t=[t,t]),this[c]("transformOrigin",t)&&(this[b]=null)}},{key:"rotate",get:function(){return this[f]("rotate")},set:function(t){k(this,"rotate",t)}},{key:"translate",get:function(){return this[f]("translate")},set:function(t){null==(t=(0,fr.toArray)(t,!0))||Array.isArray(t)||(t=[t,t]),k(this,"translate",t)}},{key:"scale",get:function(){return this[f]("scale")},set:function(t){null==(t=(0,fr.toArray)(t,!0))||Array.isArray(t)||(t=[t,t]),k(this,"scale",t)}},{key:"skew",get:function(){return this[f]("skew")},set:function(t){null==(t=(0,fr.toArray)(t,!0))||Array.isArray(t)||(t=[t,t]),k(this,"skew",t)}},{key:"opacity",get:function(){return this[f]("opacity")},set:function(t){null!=t&&(t=Number(t)),this[c]("opacity",t)}},{key:"zIndex",get:function(){return this[f]("zIndex")},set:function(t){null!=t&&(t=Number(t)),this[c]("zIndex",t)}},{key:"offsetPath",get:function(){return this[f]("offsetPath")},set:function(t){this[c]("offsetPath",t)&&(this[A].beginPath(),null!=t&&this[A].addPath(t),_(this))}},{key:"offsetDistance",get:function(){return this[f]("offsetDistance")},set:function(t){this[c]("offsetDistance",(0,fr.toNumber)(t))&&_(this)}},{key:"offsetRotate",get:function(){return this[f]("offsetRotate")},set:function(t){this[c]("offsetRotate",t),_(this)}},{key:"pointerEvents",get:function(){return this[f]("pointerEvents")},set:function(t){if(null!=t&&"none"!==t&&"visible"!==t&&"visibleFill"!==t&&"visibleStroke"!==t&&"all"!==t)throw new TypeError("Invalid pointerEvents type.");this[c]("pointerEvents",t)}},{key:"filter",get:function(){return this[f]("filter")},set:function(t){this[c]("filter",t)}},{key:"display",get:function(){return this[f]("display")},set:function(t){this[c]("display",t)}},{key:"offset",set:function(t){}}]),t}();e.default=S}));r(hr);var dr=n((function(t){function e(){return t.exports=e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}));r(dr);var pr=n((function(t){function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}));r(pr);var vr=n((function(t){t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pr(t)););return t},t.exports.__esModule=!0,t.exports.default=t.exports}));r(vr);var gr=n((function(t){function e(){return"undefined"!=typeof Reflect&&Reflect.get?(t.exports=e=Reflect.get,t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=e=function(t,e,r){var n=vr(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},t.exports.__esModule=!0,t.exports.default=t.exports),e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}));r(gr);var yr=n((function(t){function e(r,n){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}));r(yr);var mr=n((function(t){t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yr(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports}));r(mr);var br=n((function(t){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports}));r(br);var xr=n((function(t){var e=nr.default;t.exports=function(t,r){if(r&&("object"===e(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return br(t)},t.exports.__esModule=!0,t.exports.default=t.exports}));r(xr);var Mr=function(t,e){return{value:e,done:!!t}},wr={},Ar={}.toString,kr=function(t){return Ar.call(t).slice(8,-1)},_r=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==kr(t)?t.split(""):Object(t)},Sr=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},Er=function(t){return _r(Sr(t))},Rr=n((function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),Tr=n((function(t){var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)}));Tr.version;var Or=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},Cr=function(t,e,r){if(Or(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}},Lr=function(t){return"object"==typeof t?null!==t:"function"==typeof t},Pr=function(t){if(!Lr(t))throw TypeError(t+" is not an object!");return t},Dr=function(t){try{return!!t()}catch(t){return!0}},qr=!Dr((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),jr=Rr.document,Ir=Lr(jr)&&Lr(jr.createElement),Nr=function(t){return Ir?jr.createElement(t):{}},Fr=!qr&&!Dr((function(){return 7!=Object.defineProperty(Nr("div"),"a",{get:function(){return 7}}).a})),Ur=function(t,e){if(!Lr(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!Lr(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!Lr(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!Lr(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},Br=Object.defineProperty,Vr={f:qr?Object.defineProperty:function(t,e,r){if(Pr(t),e=Ur(e,!0),Pr(r),Fr)try{return Br(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},zr=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Gr=qr?function(t,e,r){return Vr.f(t,e,zr(1,r))}:function(t,e,r){return t[e]=r,t},Hr={}.hasOwnProperty,Yr=function(t,e){return Hr.call(t,e)},Wr=function(t,e,r){var n,i,a,o=t&Wr.F,s=t&Wr.G,u=t&Wr.S,l=t&Wr.P,c=t&Wr.B,f=t&Wr.W,h=s?Tr:Tr[e]||(Tr[e]={}),d=h.prototype,p=s?Rr:u?Rr[e]:(Rr[e]||{}).prototype;for(n in s&&(r=e),r)(i=!o&&p&&void 0!==p[n])&&Yr(h,n)||(a=i?p[n]:r[n],h[n]=s&&"function"!=typeof p[n]?r[n]:c&&i?Cr(a,Rr):f&&p[n]==a?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(a):l&&"function"==typeof a?Cr(Function.call,a):a,l&&((h.virtual||(h.virtual={}))[n]=a,t&Wr.R&&d&&!d[n]&&Gr(d,n,a)))};Wr.F=1,Wr.G=2,Wr.S=4,Wr.P=8,Wr.B=16,Wr.W=32,Wr.U=64,Wr.R=128;var Xr,Jr=Wr,$r=Gr,Zr=Math.ceil,Qr=Math.floor,Kr=function(t){return isNaN(t=+t)?0:(t>0?Qr:Zr)(t)},tn=Math.min,en=function(t){return t>0?tn(Kr(t),9007199254740991):0},rn=Math.max,nn=Math.min,an=n((function(t){var e="__core-js_shared__",r=Rr[e]||(Rr[e]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:Tr.version,mode:"pure",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})})),on=0,sn=Math.random(),un=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++on+sn).toString(36))},ln=an("keys"),cn=function(t){return ln[t]||(ln[t]=un(t))},fn=(Xr=!1,function(t,e,r){var n,i=Er(t),a=en(i.length),o=function(t,e){return(t=Kr(t))<0?rn(t+e,0):nn(t,e)}(r,a);if(Xr&&e!=e){for(;a>o;)if((n=i[o++])!=n)return!0}else for(;a>o;o++)if((Xr||o in i)&&i[o]===e)return Xr||o||0;return!Xr&&-1}),hn=cn("IE_PROTO"),dn=function(t,e){var r,n=Er(t),i=0,a=[];for(r in n)r!=hn&&Yr(n,r)&&a.push(r);for(;e.length>i;)Yr(n,r=e[i++])&&(~fn(a,r)||a.push(r));return a},pn="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),vn=Object.keys||function(t){return dn(t,pn)},gn=qr?Object.defineProperties:function(t,e){Pr(t);for(var r,n=vn(e),i=n.length,a=0;i>a;)Vr.f(t,r=n[a++],e[r]);return t},yn=Rr.document,mn=yn&&yn.documentElement,bn=cn("IE_PROTO"),xn=function(){},Mn=function(){var t,e=Nr("iframe"),r=pn.length;for(e.style.display="none",mn.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Mn=t.F;r--;)delete Mn.prototype[pn[r]];return Mn()},wn=Object.create||function(t,e){var r;return null!==t?(xn.prototype=Pr(t),r=new xn,xn.prototype=null,r[bn]=t):r=Mn(),void 0===e?r:gn(r,e)},An=n((function(t){var e=an("wks"),r=Rr.Symbol,n="function"==typeof r,i=t.exports=function(t){return e[t]||(e[t]=n&&r[t]||(n?r:un)("Symbol."+t))};i.store=e})),kn=Vr.f,_n=An("toStringTag"),Sn=function(t,e,r){t&&!Yr(t=r?t:t.prototype,_n)&&kn(t,_n,{configurable:!0,value:e})},En={};Gr(En,An("iterator"),(function(){return this}));var Rn=function(t,e,r){t.prototype=wn(En,{next:zr(1,r)}),Sn(t,e+" Iterator")},Tn=function(t){return Object(Sr(t))},On=cn("IE_PROTO"),Cn=Object.prototype,Ln=Object.getPrototypeOf||function(t){return t=Tn(t),Yr(t,On)?t[On]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Cn:null},Pn=An("iterator"),Dn=!([].keys&&"next"in[].keys()),qn=function(){return this},jn=function(t,e,r,n,i,a,o){Rn(r,e,n);var s,u,l,c=function(t){if(!Dn&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},f=e+" Iterator",h="values"==i,d=!1,p=t.prototype,v=p[Pn]||p["@@iterator"]||i&&p[i],g=v||c(i),y=i?h?c("entries"):g:void 0,m="Array"==e&&p.entries||v;if(m&&(l=Ln(m.call(new t)))!==Object.prototype&&l.next&&Sn(l,f,!0),h&&v&&"values"!==v.name&&(d=!0,g=function(){return v.call(this)}),o&&(Dn||d||!p[Pn])&&Gr(p,Pn,g),wr[e]=g,wr[f]=qn,i)if(s={values:h?g:c("values"),keys:a?g:c("keys"),entries:y},o)for(u in s)u in p||$r(p,u,s[u]);else Jr(Jr.P+Jr.F*(Dn||d),e,s);return s};jn(Array,"Array",(function(t,e){this._t=Er(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,Mr(1)):Mr(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])}),"values"),wr.Arguments=wr.Array;for(var In=An("toStringTag"),Nn="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),Fn=0;Fn<Nn.length;Fn++){var Un=Nn[Fn],Bn=Rr[Un],Vn=Bn&&Bn.prototype;Vn&&!Vn[In]&&Gr(Vn,In,Un),wr[Un]=wr.Array}var zn,Gn=(zn=!0,function(t,e){var r,n,i=String(Sr(t)),a=Kr(e),o=i.length;return a<0||a>=o?zn?"":void 0:(r=i.charCodeAt(a))<55296||r>56319||a+1===o||(n=i.charCodeAt(a+1))<56320||n>57343?zn?i.charAt(a):r:zn?i.slice(a,a+2):n-56320+(r-55296<<10)+65536});jn(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=Gn(e,r),this._i+=t.length,{value:t,done:!1})}));var Hn=An("toStringTag"),Yn="Arguments"==kr(function(){return arguments}()),Wn=function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Hn))?r:Yn?kr(e):"Object"==(n=kr(e))&&"function"==typeof e.callee?"Arguments":n},Xn=An("iterator"),Jn=Tr.isIterable=function(t){var e=Object(t);return void 0!==e[Xn]||"@@iterator"in e||wr.hasOwnProperty(Wn(e))},$n=Jn,Zn=n((function(t){t.exports={default:$n,__esModule:!0}}));r(Zn);var Qn=An("iterator"),Kn=Tr.getIteratorMethod=function(t){if(null!=t)return t[Qn]||t["@@iterator"]||wr[Wn(t)]},ti=Tr.getIterator=function(t){var e=Kn(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return Pr(e.call(t))},ei=ti,ri=n((function(t){t.exports={default:ei,__esModule:!0}}));r(ri);var ni=n((function(t,e){e.__esModule=!0;var r=i(Zn),n=i(ri);function i(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function(t,e){var r=[],i=!0,a=!1,o=void 0;try{for(var s,u=(0,n.default)(t);!(i=(s=u.next()).done)&&(r.push(s.value),!e||r.length!==e);i=!0);}catch(t){a=!0,o=t}finally{try{!i&&u.return&&u.return()}finally{if(a)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}));r(ni);var ii=function(t,e,r,n){try{return n?e(Pr(r)[0],r[1]):e(r)}catch(e){var i=t.return;throw void 0!==i&&Pr(i.call(t)),e}},ai=An("iterator"),oi=Array.prototype,si=function(t){return void 0!==t&&(wr.Array===t||oi[ai]===t)},ui=function(t,e,r){e in t?Vr.f(t,e,zr(0,r)):t[e]=r},li=An("iterator"),ci=!1;try{var fi=[7][li]();fi.return=function(){ci=!0},Array.from(fi,(function(){throw 2}))}catch(t){}var hi=function(t,e){if(!e&&!ci)return!1;var r=!1;try{var n=[7],i=n[li]();i.next=function(){return{done:r=!0}},n[li]=function(){return i},t(n)}catch(t){}return r};Jr(Jr.S+Jr.F*!hi((function(t){Array.from(t)})),"Array",{from:function(t){var e,r,n,i,a=Tn(t),o="function"==typeof this?this:Array,s=arguments.length,u=s>1?arguments[1]:void 0,l=void 0!==u,c=0,f=Kn(a);if(l&&(u=Cr(u,s>2?arguments[2]:void 0,2)),null==f||o==Array&&si(f))for(r=new o(e=en(a.length));e>c;c++)ui(r,c,l?u(a[c],c):a[c]);else for(i=f.call(a),r=new o;!(n=i.next()).done;c++)ui(r,c,l?ii(i,u,[n.value,c],!0):n.value);return r.length=c,r}});var di=Tr.Array.from,pi=n((function(t){t.exports={default:di,__esModule:!0}}));r(pi);var vi=n((function(t,e){e.__esModule=!0;var r,n=(r=pi)&&r.__esModule?r:{default:r};e.default=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return(0,n.default)(t)}}));r(vi);var gi=function(t,e,r){for(var n in e)r&&t[n]?t[n]=e[n]:Gr(t,n,e[n]);return t},yi=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t},mi=n((function(t){var e={},r={},n=t.exports=function(t,n,i,a,o){var s,u,l,c,f=o?function(){return t}:Kn(t),h=Cr(i,a,n?2:1),d=0;if("function"!=typeof f)throw TypeError(t+" is not iterable!");if(si(f)){for(s=en(t.length);s>d;d++)if((c=n?h(Pr(u=t[d])[0],u[1]):h(t[d]))===e||c===r)return c}else for(l=f.call(t);!(u=l.next()).done;)if((c=ii(l,h,u.value,n))===e||c===r)return c};n.BREAK=e,n.RETURN=r})),bi=An("species"),xi=function(t){var e="function"==typeof Tr[t]?Tr[t]:Rr[t];qr&&e&&!e[bi]&&Vr.f(e,bi,{configurable:!0,get:function(){return this}})},Mi=n((function(t){var e=un("meta"),r=Vr.f,n=0,i=Object.isExtensible||function(){return!0},a=!Dr((function(){return i(Object.preventExtensions({}))})),o=function(t){r(t,e,{value:{i:"O"+ ++n,w:{}}})},s=t.exports={KEY:e,NEED:!1,fastKey:function(t,r){if(!Lr(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!Yr(t,e)){if(!i(t))return"F";if(!r)return"E";o(t)}return t[e].i},getWeak:function(t,r){if(!Yr(t,e)){if(!i(t))return!0;if(!r)return!1;o(t)}return t[e].w},onFreeze:function(t){return a&&s.NEED&&i(t)&&!Yr(t,e)&&o(t),t}}}));Mi.KEY,Mi.NEED,Mi.fastKey,Mi.getWeak,Mi.onFreeze;var wi=function(t,e){if(!Lr(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t},Ai=Vr.f,ki=Mi.fastKey,_i=qr?"_s":"size",Si=function(t,e){var r,n=ki(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r},Ei={getConstructor:function(t,e,r,n){var i=t((function(t,a){yi(t,i,e,"_i"),t._t=e,t._i=wn(null),t._f=void 0,t._l=void 0,t[_i]=0,null!=a&&mi(a,r,t[n],t)}));return gi(i.prototype,{clear:function(){for(var t=wi(this,e),r=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];t._f=t._l=void 0,t[_i]=0},delete:function(t){var r=wi(this,e),n=Si(r,t);if(n){var i=n.n,a=n.p;delete r._i[n.i],n.r=!0,a&&(a.n=i),i&&(i.p=a),r._f==n&&(r._f=i),r._l==n&&(r._l=a),r[_i]--}return!!n},forEach:function(t){wi(this,e);for(var r,n=Cr(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!Si(wi(this,e),t)}}),qr&&Ai(i.prototype,"size",{get:function(){return wi(this,e)[_i]}}),i},def:function(t,e,r){var n,i,a=Si(t,e);return a?a.v=r:(t._l=a={i:i=ki(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=a),n&&(n.n=a),t[_i]++,"F"!==i&&(t._i[i]=a)),t},getEntry:Si,setStrong:function(t,e,r){jn(t,e,(function(t,r){this._t=wi(t,e),this._k=r,this._l=void 0}),(function(){for(var t=this,e=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?Mr(0,"keys"==e?r.k:"values"==e?r.v:[r.k,r.v]):(t._t=void 0,Mr(1))}),r?"entries":"values",!r,!0),xi(e)}},Ri=Array.isArray||function(t){return"Array"==kr(t)},Ti=An("species"),Oi=function(t,e){return new(function(t){var e;return Ri(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!Ri(e.prototype)||(e=void 0),Lr(e)&&null===(e=e[Ti])&&(e=void 0)),void 0===e?Array:e}(t))(e)},Ci=Vr.f,Li=function(t,e){var r=1==t,n=2==t,i=3==t,a=4==t,o=6==t,s=5==t||o,u=e||Oi;return function(e,l,c){for(var f,h,d=Tn(e),p=_r(d),v=Cr(l,c,3),g=en(p.length),y=0,m=r?u(e,g):n?u(e,0):void 0;g>y;y++)if((s||y in p)&&(h=v(f=p[y],y,d),t))if(r)m[y]=h;else if(h)switch(t){case 3:return!0;case 5:return f;case 6:return y;case 2:m.push(f)}else if(a)return!1;return o?-1:i||a?a:m}}(0);!function(t,e,r,n,i,a){var o=Rr[t],s=o,u=i?"set":"add",l=s&&s.prototype,c={};qr&&"function"==typeof s&&(a||l.forEach&&!Dr((function(){(new s).entries().next()})))?(s=e((function(e,r){yi(e,s,t,"_c"),e._c=new o,null!=r&&mi(r,i,e[u],e)})),Li("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(t){var e="add"==t||"set"==t;!(t in l)||a&&"clear"==t||Gr(s.prototype,t,(function(r,n){if(yi(this,s,t),!e&&a&&!Lr(r))return"get"==t&&void 0;var i=this._c[t](0===r?0:r,n);return e?this:i}))})),a||Ci(s.prototype,"size",{get:function(){return this._c.size}})):(s=n.getConstructor(e,t,i,u),gi(s.prototype,r),Mi.NEED=!0),Sn(s,t),c[t]=s,Jr(Jr.G+Jr.W+Jr.F,c),a||n.setStrong(s,t,i)}("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=Ei.getEntry(wi(this,"Map"),t);return e&&e.v},set:function(t,e){return Ei.def(wi(this,"Map"),0===t?0:t,e)}},Ei,!0);Jr(Jr.P+Jr.R,"Map",{toJSON:function(t){return function(){if(Wn(this)!=t)throw TypeError(t+"#toJSON isn't generic");return function(t,e){var r=[];return mi(t,!1,r.push,r,e),r}(this)}}("Map")});var Pi;Pi="Map",Jr(Jr.S,Pi,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}});!function(t){Jr(Jr.S,t,{from:function(t){var e,r,n,i,a=arguments[1];return Or(this),(e=void 0!==a)&&Or(a),null==t?new this:(r=[],e?(n=0,i=Cr(a,arguments[2],2),mi(t,!1,(function(t){r.push(i(t,n++))}))):mi(t,!1,r.push,r),new this(r))}})}("Map");var Di=Tr.Map,qi=n((function(t){t.exports={default:Di,__esModule:!0}}));r(qi);var ji={f:Object.getOwnPropertySymbols},Ii={f:{}.propertyIsEnumerable},Ni=Object.assign,Fi=!Ni||Dr((function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!=Ni({},t)[r]||Object.keys(Ni({},e)).join("")!=n}))?function(t,e){for(var r=Tn(t),n=arguments.length,i=1,a=ji.f,o=Ii.f;n>i;)for(var s,u=_r(arguments[i++]),l=a?vn(u).concat(a(u)):vn(u),c=l.length,f=0;c>f;)s=l[f++],qr&&!o.call(u,s)||(r[s]=u[s]);return r}:Ni;Jr(Jr.S+Jr.F,"Object",{assign:Fi});var Ui=Tr.Object.assign,Bi=n((function(t){t.exports={default:Ui,__esModule:!0}}));r(Bi);var Vi=n((function(t,e){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}}));r(Vi),Jr(Jr.S+Jr.F*!qr,"Object",{defineProperty:Vr.f});var zi=Tr.Object,Gi=function(t,e,r){return zi.defineProperty(t,e,r)},Hi=n((function(t){t.exports={default:Gi,__esModule:!0}}));r(Hi);var Yi=n((function(t,e){e.__esModule=!0;var r,n=(r=Hi)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,n.default)(t,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}()}));r(Yi);var Wi={f:An},Xi=Vr.f,Ji=function(t){var e=Tr.Symbol||(Tr.Symbol={});"_"==t.charAt(0)||t in e||Xi(e,t,{value:Wi.f(t)})},$i=pn.concat("length","prototype"),Zi={f:Object.getOwnPropertyNames||function(t){return dn(t,$i)}},Qi=Zi.f,Ki={}.toString,ta="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ea={f:function(t){return ta&&"[object Window]"==Ki.call(t)?function(t){try{return Qi(t)}catch(t){return ta.slice()}}(t):Qi(Er(t))}},ra=Object.getOwnPropertyDescriptor,na={f:qr?ra:function(t,e){if(t=Er(t),e=Ur(e,!0),Fr)try{return ra(t,e)}catch(t){}if(Yr(t,e))return zr(!Ii.f.call(t,e),t[e])}},ia=Mi.KEY,aa=na.f,oa=Vr.f,sa=ea.f,ua=Rr.Symbol,la=Rr.JSON,ca=la&&la.stringify,fa=An("_hidden"),ha=An("toPrimitive"),da={}.propertyIsEnumerable,pa=an("symbol-registry"),va=an("symbols"),ga=an("op-symbols"),ya=Object.prototype,ma="function"==typeof ua&&!!ji.f,ba=Rr.QObject,xa=!ba||!ba.prototype||!ba.prototype.findChild,Ma=qr&&Dr((function(){return 7!=wn(oa({},"a",{get:function(){return oa(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=aa(ya,e);n&&delete ya[e],oa(t,e,r),n&&t!==ya&&oa(ya,e,n)}:oa,wa=function(t){var e=va[t]=wn(ua.prototype);return e._k=t,e},Aa=ma&&"symbol"==typeof ua.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof ua},ka=function(t,e,r){return t===ya&&ka(ga,e,r),Pr(t),e=Ur(e,!0),Pr(r),Yr(va,e)?(r.enumerable?(Yr(t,fa)&&t[fa][e]&&(t[fa][e]=!1),r=wn(r,{enumerable:zr(0,!1)})):(Yr(t,fa)||oa(t,fa,zr(1,{})),t[fa][e]=!0),Ma(t,e,r)):oa(t,e,r)},_a=function(t,e){Pr(t);for(var r,n=function(t){var e=vn(t),r=ji.f;if(r)for(var n,i=r(t),a=Ii.f,o=0;i.length>o;)a.call(t,n=i[o++])&&e.push(n);return e}(e=Er(e)),i=0,a=n.length;a>i;)ka(t,r=n[i++],e[r]);return t},Sa=function(t){var e=da.call(this,t=Ur(t,!0));return!(this===ya&&Yr(va,t)&&!Yr(ga,t))&&(!(e||!Yr(this,t)||!Yr(va,t)||Yr(this,fa)&&this[fa][t])||e)},Ea=function(t,e){if(t=Er(t),e=Ur(e,!0),t!==ya||!Yr(va,e)||Yr(ga,e)){var r=aa(t,e);return!r||!Yr(va,e)||Yr(t,fa)&&t[fa][e]||(r.enumerable=!0),r}},Ra=function(t){for(var e,r=sa(Er(t)),n=[],i=0;r.length>i;)Yr(va,e=r[i++])||e==fa||e==ia||n.push(e);return n},Ta=function(t){for(var e,r=t===ya,n=sa(r?ga:Er(t)),i=[],a=0;n.length>a;)!Yr(va,e=n[a++])||r&&!Yr(ya,e)||i.push(va[e]);return i};ma||(ua=function(){if(this instanceof ua)throw TypeError("Symbol is not a constructor!");var t=un(arguments.length>0?arguments[0]:void 0),e=function(r){this===ya&&e.call(ga,r),Yr(this,fa)&&Yr(this[fa],t)&&(this[fa][t]=!1),Ma(this,t,zr(1,r))};return qr&&xa&&Ma(ya,t,{configurable:!0,set:e}),wa(t)},$r(ua.prototype,"toString",(function(){return this._k})),na.f=Ea,Vr.f=ka,Zi.f=ea.f=Ra,Ii.f=Sa,ji.f=Ta,Wi.f=function(t){return wa(An(t))}),Jr(Jr.G+Jr.W+Jr.F*!ma,{Symbol:ua});for(var Oa="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Ca=0;Oa.length>Ca;)An(Oa[Ca++]);for(var La=vn(An.store),Pa=0;La.length>Pa;)Ji(La[Pa++]);Jr(Jr.S+Jr.F*!ma,"Symbol",{for:function(t){return Yr(pa,t+="")?pa[t]:pa[t]=ua(t)},keyFor:function(t){if(!Aa(t))throw TypeError(t+" is not a symbol!");for(var e in pa)if(pa[e]===t)return e},useSetter:function(){xa=!0},useSimple:function(){xa=!1}}),Jr(Jr.S+Jr.F*!ma,"Object",{create:function(t,e){return void 0===e?wn(t):_a(wn(t),e)},defineProperty:ka,defineProperties:_a,getOwnPropertyDescriptor:Ea,getOwnPropertyNames:Ra,getOwnPropertySymbols:Ta});var Da=Dr((function(){ji.f(1)}));Jr(Jr.S+Jr.F*Da,"Object",{getOwnPropertySymbols:function(t){return ji.f(Tn(t))}}),la&&Jr(Jr.S+Jr.F*(!ma||Dr((function(){var t=ua();return"[null]"!=ca([t])||"{}"!=ca({a:t})||"{}"!=ca(Object(t))}))),"JSON",{stringify:function(t){for(var e,r,n=[t],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=e=n[1],(Lr(e)||void 0!==t)&&!Aa(t))return Ri(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!Aa(e))return e}),n[1]=e,ca.apply(la,n)}}),ua.prototype[ha]||Gr(ua.prototype,ha,ua.prototype.valueOf),Sn(ua,"Symbol"),Sn(Math,"Math",!0),Sn(Rr.JSON,"JSON",!0),Ji("asyncIterator"),Ji("observable");var qa=Tr.Symbol,ja=n((function(t){t.exports={default:qa,__esModule:!0}}));r(ja);var Ia=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.createNowTime=function(){var t=null;t=Date.now?Date.now:function(){return(new Date).getTime()};return t},e.formatDelay=function(t){"number"==typeof t?t={delay:t}:"entropy"in t&&(t={delay:t.entropy,isEntropy:!0});return t}}));r(Ia),Ia.createNowTime,Ia.formatDelay;var Na=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=l(ni),n=l(vi),i=l(qi),a=l(Bi),o=l(Vi),s=l(Yi),u=l(ja);function l(t){return t&&t.__esModule?t:{default:t}}var c=(0,Ia.createNowTime)(),f={originTime:0,playbackRate:1},h=(0,u.default)("timeMark"),d=(0,u.default)("playbackRate"),p=(0,u.default)("timers"),v=(0,u.default)("originTime"),g=(0,u.default)("setTimer"),y=(0,u.default)("parent"),m=function(){function t(e,r){(0,o.default)(this,t),e instanceof t&&(r=e,e={}),e=(0,a.default)({},f,e),r&&(this[y]=r);var n=e.nowtime||c;if(r)Object.defineProperty(this,"globalTime",{get:function(){return r.currentTime}});else{var s=n();Object.defineProperty(this,"globalTime",{get:function(){return n()-s}})}this[h]=[{globalTime:this.globalTime,localTime:-e.originTime,entropy:-e.originTime,playbackRate:e.playbackRate,globalEntropy:0}],this[y]&&(this[h][0].globalEntropy=this[y].entropy),this[v]=e.originTime,this[d]=e.playbackRate,this[p]=new i.default}return(0,s.default)(t,[{key:"markTime",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.time,r=void 0===e?this.currentTime:e,n=t.entropy,i=void 0===n?this.entropy:n,a=t.playbackRate,o=void 0===a?this.playbackRate:a,s={globalTime:this.globalTime,localTime:r,entropy:i,playbackRate:o,globalEntropy:this.globalEntropy};this[h].push(s)}},{key:"fork",value:function(e){return new t(e,this)}},{key:"seekGlobalTime",value:function(t){var e=this.seekTimeMark(t),r=this[h][e],n=r.entropy,i=r.playbackRate;return r.globalTime+(t-n)/Math.abs(i)}},{key:"seekLocalTime",value:function(t){var e=this.seekTimeMark(t),r=this[h][e],n=r.localTime,i=r.entropy;return r.playbackRate>0?n+(t-i):n-(t-i)}},{key:"seekTimeMark",value:function(t){var e=this[h],r=0,n=e.length-1;if(t<=e[r].entropy)return r;if(t>=e[n].entropy)return n;for(var i=Math.floor((r+n)/2);i>r&&i<n;){if(t===e[i].entropy)return i;t<e[i].entropy?n=i:t>e[i].entropy&&(r=i),i=Math.floor((r+n)/2)}return r}},{key:"updateTimers",value:function(){var t=this;[].concat((0,n.default)(this[p])).forEach((function(e){var n=(0,r.default)(e,2),i=n[0],a=n[1];t[g](a.handler,a.time,i)}))}},{key:"clearTimeout",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e=this[p].get(t);e&&null!=e.timerID&&(this[y]?this[y].clearTimeout(e.timerID):clearTimeout(e.timerID)),this[p].delete(t)}))},{key:"clearInterval",value:function(t){return this.clearTimeout(t)}},{key:"clear",value:function(){var t=this,e=this[p];[].concat((0,n.default)(e.keys())).forEach((function(e){t.clearTimeout(e)}))}},{key:"setTimeout",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{delay:0};return this[g](t,e)}},{key:"setInterval",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{delay:0},r=this,n=this[g]((function i(){r[g](i,e,n),t()}),e);return n}},{key:g,value:function(t,e){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,u.default)("timerID");e=(0,Ia.formatDelay)(e);var i=this[p].get(n),a=void 0,o=null,s=void 0,l=void 0;i?(this.clearTimeout(n),a=e.isEntropy?(e.delay-(this.entropy-i.startEntropy))/Math.abs(this.playbackRate):(e.delay-(this.currentTime-i.startTime))/this.playbackRate,s=i.startTime,l=i.startEntropy):(a=e.delay/(e.isEntropy?Math.abs(this.playbackRate):this.playbackRate),s=this.currentTime,l=this.entropy);var c=this[y],f=c?c.setTimeout.bind(c):setTimeout,h=e.heading;return!c&&!1===h&&a<0&&(a=1/0),(isFinite(a)||c)&&(a=Math.ceil(a),f!==setTimeout&&(a={delay:a,heading:h}),o=f((function(){r[p].delete(n),t()}),a)),this[p].set(n,{timerID:o,handler:t,time:e,startTime:s,startEntropy:l}),n}},{key:"parent",get:function(){return this[y]}},{key:"lastTimeMark",get:function(){return this[h][this[h].length-1]}},{key:"currentTime",get:function(){var t=this.lastTimeMark,e=t.localTime,r=t.globalTime;return e+(this.globalTime-r)*this.playbackRate},set:function(t){var e=this,i=this.currentTime,a=t,o=this[p];this.markTime({time:t}),[].concat((0,n.default)(o)).forEach((function(t){var n=(0,r.default)(t,2),s=n[0],u=n[1];if(o.has(s)){var l=u.time,c=l.isEntropy,f=l.delay,h=l.heading,d=u.handler,p=u.startTime;if(c)0===f&&(d(),e.clearTimeout(s));else{var v=p+f;(0===f||!1!==h&&(a-i)*f<=0||i<=v&&v<=a||i>=v&&v>=a)&&(d(),e.clearTimeout(s))}}})),this.updateTimers()}},{key:"entropy",get:function(){var t=this.lastTimeMark,e=t.entropy,r=t.globalEntropy;return e+Math.abs((this.globalEntropy-r)*this.playbackRate)},set:function(t){if(this.entropy>t){var e=this.seekTimeMark(t);this[h].length=e+1}this.markTime({entropy:t}),this.updateTimers()}},{key:"globalEntropy",get:function(){return this[y]?this[y].entropy:this.globalTime}},{key:"playbackRate",get:function(){return this[d]},set:function(t){t!==this.playbackRate&&(this.markTime({playbackRate:t}),this[d]=t,this.updateTimers())}},{key:"paused",get:function(){if(0===this.playbackRate)return!0;for(var t=this.parent;t;){if(0===t.playbackRate)return!0;t=t.parent}return!1}}]),t}();e.default=m}));r(Na);var Fa=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={default:function(t,e,r,n,i){return"number"==typeof t&&"number"==typeof e?t+(r-n)/(i-n)*(e-t):r-n>i-r?e:t}}}));r(Fa);var Ua="function"==typeof Float32Array;function Ba(t,e){return 1-3*e+3*t}function Va(t,e){return 3*e-6*t}function za(t){return 3*t}function Ga(t,e,r){return((Ba(e,r)*t+Va(e,r))*t+za(e))*t}function Ha(t,e,r){return 3*Ba(e,r)*t*t+2*Va(e,r)*t+za(e)}function Ya(t){return t}var Wa=function(t,e,r,n){if(!(0<=t&&t<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&r===n)return Ya;for(var i=Ua?new Float32Array(11):new Array(11),a=0;a<11;++a)i[a]=Ga(.1*a,t,r);function o(e){for(var n=0,a=1;10!==a&&i[a]<=e;++a)n+=.1;--a;var o=n+.1*((e-i[a])/(i[a+1]-i[a])),s=Ha(o,t,r);return s>=.001?function(t,e,r,n){for(var i=0;i<4;++i){var a=Ha(e,r,n);if(0===a)return e;e-=(Ga(e,r,n)-t)/a}return e}(e,o,t,r):0===s?o:function(t,e,r,n,i){var a,o,s=0;do{(a=Ga(o=e+(r-e)/2,n,i)-t)>0?r=o:e=o}while(Math.abs(a)>1e-7&&++s<10);return o}(e,n,n+.1,t,r)}return function(t){return 0===t?0:1===t?1:Ga(o(t),e,n)}},Xa=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseEasing=e.Easings=void 0;var r=i(ni),n=i(vi);function i(t){return t&&t.__esModule?t:{default:t}}var a=new(i(qi).default);function o(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=a.get(e);return n||(n=Wa.apply(void 0,e),a.set(e,n),n)}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return function(r,n){for(var i=1;i<n.length;i++){var a=n[i].offset;if(r<=a){var o=n[i-1].offset,s=a,u=1/t,l=(r-o)/(s-o)/u;return u*(l="end"===e?Math.floor(l):Math.ceil(l))*(s-o)+o}}return 0}}var u={linear:function(t){return t},ease:o(.25,.1,.25,1),"ease-in":o(.42,0,1,1),"ease-out":o(0,0,.58,1),"ease-in-out":o(.42,0,.58,1),"step-start":s(1,"start"),"step-end":s(1,"end")};e.Easings=u,e.parseEasing=function(t){return"string"==typeof t?t=u[t]?u[t]:function(t){var e=/^cubic-bezier\((.*)\)/,i=t.match(e);if(i){var a=i[1].trim();return a=a.split(",").map((function(t){return parseFloat(t.trim())})),o.apply(void 0,(0,n.default)(a))}if(e=/^steps\((.*)\)/,i=t.match(e)){var u=i[1].trim(),l=u=u.split(",").map((function(t){return t.trim()})),c=(0,r.default)(l,2),f=c[0],h=c[1];return s(parseInt(f,10),h)}return t}(t):"cubic-bezier"===t.type?t=o.apply(void 0,(0,n.default)(t.value)):"steps"===t.type&&(t=s(t.step,t.pos)),t}}));r(Xa),Xa.parseEasing,Xa.Easings;var Ja,$a,Za,Qa=An("species"),Ka=function(t,e){var r,n=Pr(t).constructor;return void 0===n||null==(r=Pr(n)[Qa])?e:Or(r)},to=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)},eo=Rr.process,ro=Rr.setImmediate,no=Rr.clearImmediate,io=Rr.MessageChannel,ao=Rr.Dispatch,oo=0,so={},uo=function(){var t=+this;if(so.hasOwnProperty(t)){var e=so[t];delete so[t],e()}},lo=function(t){uo.call(t.data)};ro&&no||(ro=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return so[++oo]=function(){to("function"==typeof t?t:Function(t),e)},Ja(oo),oo},no=function(t){delete so[t]},"process"==kr(eo)?Ja=function(t){eo.nextTick(Cr(uo,t,1))}:ao&&ao.now?Ja=function(t){ao.now(Cr(uo,t,1))}:io?(Za=($a=new io).port2,$a.port1.onmessage=lo,Ja=Cr(Za.postMessage,Za,1)):Rr.addEventListener&&"function"==typeof postMessage&&!Rr.importScripts?(Ja=function(t){Rr.postMessage(t+"","*")},Rr.addEventListener("message",lo,!1)):Ja="onreadystatechange"in Nr("script")?function(t){mn.appendChild(Nr("script")).onreadystatechange=function(){mn.removeChild(this),uo.call(t)}}:function(t){setTimeout(Cr(uo,t,1),0)});var co={set:ro,clear:no},fo=co.set,ho=Rr.MutationObserver||Rr.WebKitMutationObserver,po=Rr.process,vo=Rr.Promise,go="process"==kr(po);function yo(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=Or(e),this.reject=Or(r)}var mo,bo,xo,Mo,wo={f:function(t){return new yo(t)}},Ao=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},ko=Rr.navigator,_o=ko&&ko.userAgent||"",So=function(t,e){if(Pr(t),Lr(e)&&e.constructor===t)return e;var r=wo.f(t);return(0,r.resolve)(e),r.promise},Eo=co.set,Ro=function(){var t,e,r,n=function(){var n,i;for(go&&(n=po.domain)&&n.exit();t;){i=t.fn,t=t.next;try{i()}catch(n){throw t?r():e=void 0,n}}e=void 0,n&&n.enter()};if(go)r=function(){po.nextTick(n)};else if(!ho||Rr.navigator&&Rr.navigator.standalone)if(vo&&vo.resolve){var i=vo.resolve(void 0);r=function(){i.then(n)}}else r=function(){fo.call(Rr,n)};else{var a=!0,o=document.createTextNode("");new ho(n).observe(o,{characterData:!0}),r=function(){o.data=a=!a}}return function(n){var i={fn:n,next:void 0};e&&(e.next=i),t||(t=i,r()),e=i}}(),To=Rr.TypeError,Oo=Rr.process,Co=Oo&&Oo.versions,Lo=Co&&Co.v8||"",Po=Rr.Promise,Do="process"==Wn(Oo),qo=function(){},jo=bo=wo.f,Io=!!function(){try{var t=Po.resolve(1),e=(t.constructor={})[An("species")]=function(t){t(qo,qo)};return(Do||"function"==typeof PromiseRejectionEvent)&&t.then(qo)instanceof e&&0!==Lo.indexOf("6.6")&&-1===_o.indexOf("Chrome/66")}catch(t){}}(),No=function(t){var e;return!(!Lr(t)||"function"!=typeof(e=t.then))&&e},Fo=function(t,e){if(!t._n){t._n=!0;var r=t._c;Ro((function(){for(var n=t._v,i=1==t._s,a=0,o=function(e){var r,a,o,s=i?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{s?(i||(2==t._h&&Vo(t),t._h=1),!0===s?r=n:(c&&c.enter(),r=s(n),c&&(c.exit(),o=!0)),r===e.promise?l(To("Promise-chain cycle")):(a=No(r))?a.call(r,u,l):u(r)):l(n)}catch(t){c&&!o&&c.exit(),l(t)}};r.length>a;)o(r[a++]);t._c=[],t._n=!1,e&&!t._h&&Uo(t)}))}},Uo=function(t){Eo.call(Rr,(function(){var e,r,n,i=t._v,a=Bo(t);if(a&&(e=Ao((function(){Do?Oo.emit("unhandledRejection",i,t):(r=Rr.onunhandledrejection)?r({promise:t,reason:i}):(n=Rr.console)&&n.error&&n.error("Unhandled promise rejection",i)})),t._h=Do||Bo(t)?2:1),t._a=void 0,a&&e.e)throw e.v}))},Bo=function(t){return 1!==t._h&&0===(t._a||t._c).length},Vo=function(t){Eo.call(Rr,(function(){var e;Do?Oo.emit("rejectionHandled",t):(e=Rr.onrejectionhandled)&&e({promise:t,reason:t._v})}))},zo=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Fo(e,!0))},Go=function(t){var e,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw To("Promise can't be resolved itself");(e=No(t))?Ro((function(){var n={_w:r,_d:!1};try{e.call(t,Cr(Go,n,1),Cr(zo,n,1))}catch(t){zo.call(n,t)}})):(r._v=t,r._s=1,Fo(r,!1))}catch(t){zo.call({_w:r,_d:!1},t)}}};Io||(Po=function(t){yi(this,Po,"Promise","_h"),Or(t),mo.call(this);try{t(Cr(Go,this,1),Cr(zo,this,1))}catch(t){zo.call(this,t)}},(mo=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=gi(Po.prototype,{then:function(t,e){var r=jo(Ka(this,Po));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=Do?Oo.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&Fo(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),xo=function(){var t=new mo;this.promise=t,this.resolve=Cr(Go,t,1),this.reject=Cr(zo,t,1)},wo.f=jo=function(t){return t===Po||t===Mo?new xo(t):bo(t)}),Jr(Jr.G+Jr.W+Jr.F*!Io,{Promise:Po}),Sn(Po,"Promise"),xi("Promise"),Mo=Tr.Promise,Jr(Jr.S+Jr.F*!Io,"Promise",{reject:function(t){var e=jo(this);return(0,e.reject)(t),e.promise}}),Jr(Jr.S+true*Jr.F,"Promise",{resolve:function(t){return So(this===Mo?Po:this,t)}}),Jr(Jr.S+Jr.F*!(Io&&hi((function(t){Po.all(t).catch(qo)}))),"Promise",{all:function(t){var e=this,r=jo(e),n=r.resolve,i=r.reject,a=Ao((function(){var r=[],a=0,o=1;mi(t,!1,(function(t){var s=a++,u=!1;r.push(void 0),o++,e.resolve(t).then((function(t){u||(u=!0,r[s]=t,--o||n(r))}),i)})),--o||n(r)}));return a.e&&i(a.v),r.promise},race:function(t){var e=this,r=jo(e),n=r.reject,i=Ao((function(){mi(t,!1,(function(t){e.resolve(t).then(r.resolve,n)}))}));return i.e&&n(i.v),r.promise}}),Jr(Jr.P+Jr.R,"Promise",{finally:function(t){var e=Ka(this,Tr.Promise||Rr.Promise),r="function"==typeof t;return this.then(r?function(r){return So(e,t()).then((function(){return r}))}:t,r?function(r){return So(e,t()).then((function(){throw r}))}:t)}}),Jr(Jr.S,"Promise",{try:function(t){var e=wo.f(this),r=Ao(t);return(r.e?e.reject:e.resolve)(r.v),e.promise}});var Ho=Tr.Promise,Yo=n((function(t){t.exports={default:Ho,__esModule:!0}}));r(Yo);!function(t,e){var r=(Tr.Object||{})[t]||Object[t],n={};n[t]=e(r),Jr(Jr.S+Jr.F*Dr((function(){r(1)})),"Object",n)}("keys",(function(){return function(t){return vn(Tn(t))}}));var Wo=Tr.Object.keys,Xo=n((function(t){t.exports={default:Wo,__esModule:!0}}));r(Xo);var Jo,$o=Ii.f,Zo=(Jo=!0,function(t){for(var e,r=Er(t),n=vn(r),i=n.length,a=0,o=[];i>a;)e=n[a++],qr&&!$o.call(r,e)||o.push(Jo?[e,r[e]]:r[e]);return o});Jr(Jr.S,"Object",{entries:function(t){return Zo(t)}});var Qo=Tr.Object.entries,Ko=n((function(t){t.exports={default:Qo,__esModule:!0}}));r(Ko);var ts=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=s(ni),n=s(Ko),i=s(Bi),a=s(Yo);e.defer=function(){var t={};return t.promise=new a.default((function(e,r){t.resolve=e,t.reject=r})),t},e.periodicity=function(t,e){var r=Math.floor(t/e),n=t-r*e;0===n&&r>0&&(n=e,r--);return[r,n]},e.calculateFramesOffset=function(t){var e=(t=t.slice(0))[0],r=t[t.length-1];r.offset=r.offset||1,e.offset=e.offset||0;for(var n=0,a=-1,o=0;o<t.length;o++){var s=t[o];if(null!=s.offset){var u=o-a;if(u>1)for(var l=(s.offset-n)/u,c=0;c<u-1;c++)t[a+c+1].offset=n+l*(c+1);n=s.offset,a=o}if(null!=s.easing&&(s.easing=(0,Xa.parseEasing)(s.easing)),o>0){var f=null!=t[o].easing;t[o]=(0,i.default)({},t[o-1],t[o]),f||delete t[o].easing}}return t},e.getProgress=function(t,e,r){var n=t.currentTime,i=e.direction,a=e.duration,o=!1;if("reverse"===i)r=1-r,o=!0;else if("alternate"===i||"alternate-reverse"===i){var s=Math.floor(n/a);1===r&&s--,s%2^"alternate-reverse"===i&&(r=1-r,o=!0)}return{p:r,inverted:o}},e.getCurrentFrame=function(t,e,r,n){var a=t.easing,s=t.effect;s||(r=(0,i.default)({},o.default,r));var l={};n=a(n,e);for(var c=1;c<e.length;c++){var f=e[c],h=f.offset;if(h>=n||c===e.length-1){var d=e[c-1],p=d.offset,v=d.easing,g=n;if(v){var y=h-p;g=v((n-p)/y)*y+p}l=s?s(d,f,g,p,h):u(d,f,r,g);break}}return l};var o=s(Fa);function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e,i,a){var o={};return(0,n.default)(e).forEach((function(n){var s=(0,r.default)(n,2),u=s[0],l=s[1];if("offset"!==u&&"easing"!==u){var c=(i[u]||i.default)(t[u],l,a,t.offset,e.offset);null!=c&&(o[u]=c)}})),o}}));r(ts),ts.defer,ts.periodicity,ts.calculateFramesOffset,ts.getProgress,ts.getCurrentFrame;var es=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=l(Yo),n=l(Xo),i=l(Bi),a=l(Vi),o=l(Yi),s=l(ja),u=l(Na);function l(t){return t&&t.__esModule?t:{default:t}}var c=(0,s.default)("timing"),f=(0,s.default)("keyframes"),h=(0,s.default)("initState"),d=(0,s.default)("readyDefer"),p=(0,s.default)("finishedDefer"),v=(0,s.default)("effects"),g=(0,s.default)("activeReadyTimer"),y=(0,s.default)("activeFinishTimer"),m=(0,s.default)("removeDefer"),b={delay:0,endDelay:0,fill:"auto",iterations:1,playbackRate:1,direction:"normal",easing:"linear",effect:null},x=function(){function t(e,r,o){var s=this;if((0,a.default)(this,t),Array.isArray(e)){var u=[e[0],e,r];e=u[0],r=u[1],o=u[2]}"number"==typeof o&&(o={duration:o}),this[c]=(0,i.default)({},b,o),this[c].easing=(0,Xa.parseEasing)(this[c].easing),this[f]=(0,ts.calculateFramesOffset)(r);var l=this[f][this[f].length-1];this[h]={},(0,n.default)(l).forEach((function(t){Object.prototype.hasOwnProperty.call(e,t)&&"easing"!==t&&"offset"!==t&&(s[h][t]=e[t])})),this[f]=this[f].map((function(t){return(0,i.default)({},s[h],t)})),0!==this[f][0].offset&&this[f].unshift((0,i.default)({},this[h],{offset:0})),l.offset<1&&this[f].push((0,i.default)({},l,{offset:1})),this[v]={},this.timeline=null}return(0,o.default)(t,[{key:"pause",value:function(){this.timeline.playbackRate=0}},{key:g,value:function(){var t=this;this[d]&&!this[d].timerID&&(this.timeline.currentTime<0?this[d].timerID=this.timeline.setTimeout((function(){t[d].resolve(),delete t[d]}),{delay:-this.timeline.currentTime,heading:!1}):this[d].timerID=this.timeline.setTimeout((function(){t[d].resolve(),delete t[d]}),{delay:0,isEntropy:!0}))}},{key:y,value:function(){var t=this,e=this[c],r=e.duration,n=e.iterations,i=e.endDelay,a=Math.ceil(r*n+i-this.timeline.currentTime)+1;this[p]&&!this[p].timerID&&(this[p].timerID=this.timeline.setTimeout((function(){t[p].resolve(),t[m](d),t[m](p)}),{delay:a,heading:!1}),this[p].reverseTimerID=this.timeline.setTimeout((function(){t[p].resolve(),t[m](d),t[m](p),t.timeline=null}),{delay:-this[c].delay-1,heading:!1}))}},{key:"play",value:function(){if("finished"===this.playState&&this.cancel(),"idle"===this.playState){if(this.playbackRate<=0)return;var t=this[c],e=t.delay,r=t.playbackRate,n=t.timeline;this.timeline=new u.default({originTime:e,playbackRate:r},n),this[g](),this[y]()}else"paused"===this.playState&&(this.timeline.playbackRate=this.playbackRate,this[g]())}},{key:m,value:function(t){var e=this[t],r=this.timeline;e&&r&&(r.clearTimeout(e.timerID),e.reverseTimerID&&r.clearTimeout(e.reverseTimerID)),delete this[t]}},{key:"cancel",value:function(){this[m](d),this[m](p),this.timeline=null}},{key:"finish",value:function(){this.timeline&&(this.timeline.currentTime=1/0/this.playbackRate),this[m](d),this[m](p)}},{key:"applyEffects",value:function(t){return(0,i.default)(this[v],t)}},{key:"playbackRate",get:function(){return this[c].playbackRate},set:function(t){this.timeline&&(this.timeline.playbackRate=t),this[c].playbackRate=t}},{key:"playState",get:function(){var t=this.timeline,e=this[c],r=e.iterations,n=e.duration,i=e.endDelay,a="running";if(null==t)a="idle";else if(t.paused)a="paused";else if(t.currentTime<0)a="pending";else{var o=t.currentTime-r*n;o>0&&o<i?a="pending":o>=i&&(a="finished")}return a}},{key:"progress",get:function(){if(!this.timeline)return 0;var t=this[c],e=t.duration,r=t.iterations,n=this.timeline,i=this.playState,a=void 0;if("idle"===i)a=0;else if("paused"===i&&n.currentTime<0)a=0;else if("pending"===i)if(n.currentTime<0)a=0;else{var o=n.seekLocalTime(r*e);a=(0,ts.periodicity)(o,e)[1]/e}else"running"!==i&&"paused"!==i||(a=(0,ts.periodicity)(n.currentTime,e)[1]/e);return"finished"===i&&(a=(0,ts.periodicity)(r,1)[1]),a}},{key:"frame",get:function(){var t=this.playState,e=this[h],r=this[c].fill;if("idle"===t)return e;var n=this.timeline.currentTime,i=this[f].slice(0),a=(0,ts.getProgress)(this.timeline,this[c],this.progress),o=a.p,s=a.inverted,u=e;return n<0&&"pending"===t?"backwards"!==r&&"both"!==r||(u=s?i[i.length-1]:i[0]):("pending"!==t&&"finished"!==t||"forwards"===r||"both"===r)&&(u=(0,ts.getCurrentFrame)(this[c],i,this[v],o)),u}},{key:"timing",get:function(){return this[c]}},{key:"effects",get:function(){return this[v]}},{key:"baseTimeline",set:function(t){this[c].timeline=t},get:function(){return this[c].timeline}},{key:"ready",get:function(){return this[d]?this[d].promise:this.timeline&&this.timeline.currentTime>=0&&"paused"!==this.playState?r.default.resolve():(this[d]=(0,ts.defer)(),this.timeline&&this[g](),this[d]?this[d].promise:r.default.resolve())}},{key:"finished",get:function(){return"finished"===this.playState?r.default.resolve():(this[p]||(this[p]=(0,ts.defer)(),this.timeline&&this[y]()),this[p].promise)}}]),t}();e.default=x}));r(es);var rs=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Timeline=e.Effects=e.Easings=e.Animator=void 0;var r=a(Na),n=a(Fa),i=a(es);function a(t){return t&&t.__esModule?t:{default:t}}e.Animator=i.default,e.Easings=Xa.Easings,e.Effects=n.default,e.Timeline=r.default}));r(rs),rs.Timeline,rs.Effects,rs.Easings,rs.Animator;var ns={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},is={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function as(t){var e,r,n=[],i=1;if("string"==typeof t)if(ns[t])n=ns[t].slice(),r="rgb";else if("transparent"===t)i=0,r="rgb",n=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(t)){var a=t.slice(1);i=1,(u=a.length)<=4?(n=[parseInt(a[0]+a[0],16),parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16)],4===u&&(i=parseInt(a[3]+a[3],16)/255)):(n=[parseInt(a[0]+a[1],16),parseInt(a[2]+a[3],16),parseInt(a[4]+a[5],16)],8===u&&(i=parseInt(a[6]+a[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),r="rgb"}else if(e=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(t)){var o=e[1],s="rgb"===o;r=a=o.replace(/a$/,"");var u="cmyk"===a?4:"gray"===a?1:3;n=e[2].trim().split(/\s*[,\/]\s*|\s+/).map((function(t,e){if(/%$/.test(t))return e===u?parseFloat(t)/100:"rgb"===a?255*parseFloat(t)/100:parseFloat(t);if("h"===a[e]){if(/deg$/.test(t))return parseFloat(t);if(void 0!==is[t])return is[t]}return parseFloat(t)})),o===a&&n.push(1),i=s||void 0===n[u]?1:n[u],n=n.slice(0,u)}else t.length>10&&/[0-9](?:\s|\/)/.test(t)&&(n=t.match(/([0-9]+)/g).map((function(t){return parseFloat(t)})),r=t.match(/([a-z])/gi).join("").toLowerCase());else isNaN(t)?Array.isArray(t)||t.length?(n=[t[0],t[1],t[2]],r="rgb",i=4===t.length?t[3]:1):t instanceof Object&&(null!=t.r||null!=t.red||null!=t.R?(r="rgb",n=[t.r||t.red||t.R||0,t.g||t.green||t.G||0,t.b||t.blue||t.B||0]):(r="hsl",n=[t.h||t.hue||t.H||0,t.s||t.saturation||t.S||0,t.l||t.lightness||t.L||t.b||t.brightness]),i=t.a||t.alpha||t.opacity||1,null!=t.opacity&&(i/=100)):(r="rgb",n=[t>>>16,(65280&t)>>>8,255&t]);return{space:r,values:n,alpha:i}}var os={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},ss={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e,r,n,i,a,o=t[0]/360,s=t[1]/100,u=t[2]/100;if(0===s)return[a=255*u,a,a];e=2*u-(r=u<.5?u*(1+s):u+s-u*s),i=[0,0,0];for(var l=0;l<3;l++)(n=o+1/3*-(l-1))<0?n++:n>1&&n--,a=6*n<1?e+6*(r-e)*n:2*n<1?r:3*n<2?e+(r-e)*(2/3-n)*6:e,i[l]=255*a;return i}};os.hsl=function(t){var e,r,n=t[0]/255,i=t[1]/255,a=t[2]/255,o=Math.min(n,i,a),s=Math.max(n,i,a),u=s-o;return s===o?e=0:n===s?e=(i-a)/u:i===s?e=2+(a-n)/u:a===s&&(e=4+(n-i)/u),(e=Math.min(60*e,360))<0&&(e+=360),r=(o+s)/2,[e,100*(s===o?0:r<=.5?u/(s+o):u/(2-s-o)),100*r]};var us=Object.freeze({__proto__:null,default:function(t){var e;Array.isArray(t)&&t.raw&&(t=String.raw(...arguments));var r=as(t);if(!r.space)return[];const n="h"===r.space[0]?ss.min:os.min,i="h"===r.space[0]?ss.max:os.max;return(e=Array(3))[0]=Math.min(Math.max(r.values[0],n[0]),i[0]),e[1]=Math.min(Math.max(r.values[1],n[1]),i[1]),e[2]=Math.min(Math.max(r.values[2],n[2]),i[2]),"h"===r.space[0]&&(e=ss.rgb(e)),e.push(Math.min(Math.max(r.alpha,0),1)),e}}),ls=i(us),cs=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(dr),n=a(h),i=a(ur),o=a(lr),s=a(gr),u=a(mr),l=a(xr),c=a(pr),f=a(ls);function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,c.default)(t);if(e){var i=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}function p(t){if("string"==typeof t){if(t=t.trim(),/^[0-9.]+%$/.test(t))return parseFloat(t)/100;if(/^([\d.]+)(px|pt|pc|in|cm|mm|em|ex|rem|q|vw|vh|vmax|vmin)$/.test(t))return(0,fr.sizeToPixel)(t)}return t}function v(t,e,r,n,i){return"string"==typeof t&&(t=(0,f.default)(t)),"string"==typeof e&&(e=(0,f.default)(e)),rs.Effects.default(t,e,r,n,i)}er.glMatrix.setMatrixArrayType(Array),rs.Effects.default=function(t,e,r,n,i){return Array.isArray(t)&&Array.isArray(e)?t.map((function(t,a){return t+(r-n)/(i-n)*(e[a]-t)})):"number"==typeof t&&"number"==typeof e?t+(r-n)/(i-n)*(e-t):r-n>i-r?e:t},rs.Effects.fillColor=v,rs.Effects.strokeColor=v,rs.Effects.bgcolor=v,rs.Effects.borderColor=v,rs.Effects.text=function(t,e,r,n,i){return rs.Effects.default(t,e,r,n,i)};var g=function(t){(0,u.default)(a,t);var e=d(a);function a(t,o,s){var u;(0,i.default)(this,a);var l=t.attr();return Object.entries(l).forEach((function(t){var e=(0,n.default)(t,2),r=e[0],i=e[1];l[r]=rs.Effects[r]?i:p(i)})),o=o.map((function(t){var e=(0,r.default)({},t),i={};return Object.entries(e).forEach((function(t){var e=(0,n.default)(t,2),r=e[0],a=e[1];i[r]=rs.Effects[r]?a:p(a)})),i})),(u=e.call(this,l,o,s)).target=t,u.setter=function(t,e){e.attr(t)},u}return(0,o.default)(a,[{key:"finish",value:function(){(0,s.default)((0,c.default)(a.prototype),"finish",this).call(this),(0,rr.cancelAnimationFrame)(this.requestId),this.setter(this.frame,this.target)}},{key:"play",value:function(){if(this.target.parent&&"running"!==this.playState){(0,s.default)((0,c.default)(a.prototype),"play",this).call(this),this.setter(this.frame,this.target);var t=this;this.ready.then((function(){t.setter(t.frame,t.target),t.requestId=(0,rr.requestAnimationFrame)((function e(){var r=t.target;if("undefined"!=typeof document&&document.documentElement&&document.documentElement.contains&&r.layer&&r.layer.canvas&&!document.documentElement.contains(r.layer.canvas))t.cancel();else{var n=t.playState;t.setter(t.frame,t.target),"idle"!==n&&("running"===n?t.requestId=(0,rr.requestAnimationFrame)(e):("paused"===n||"pending"===n&&t.timeline.currentTime<0)&&t.ready.then((function(){t.setter(t.frame,t.target),t.requestId=(0,rr.requestAnimationFrame)(e)})))}}))}))}}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,rr.cancelAnimationFrame)(this.requestId),t?(this.setter(this.frame,this.target),(0,s.default)((0,c.default)(a.prototype),"cancel",this).call(this)):((0,s.default)((0,c.default)(a.prototype),"cancel",this).call(this),this.setter(this.frame,this.target))}},{key:"playState",get:function(){return this.target.parent?(0,s.default)((0,c.default)(a.prototype),"playState",this):"idle"}},{key:"finished",get:function(){var t=this;return(0,s.default)((0,c.default)(a.prototype),"finished",this).then((function(){var e=t;return new Promise((function(t){!function r(){e.setter(e.frame,e.target);var n=e.playState;"finished"===n||"idle"===n?((0,rr.cancelAnimationFrame)(e.requestId),t()):(0,rr.requestAnimationFrame)(r)}()}))}))}}]),a}(rs.Animator);e.default=g}));r(cs);var fs=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,er.glMatrix.setMatrixArrayType(Array);var r=new Map;function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];t=t.toLowerCase();var i=r.get(t);if(!i)throw new TypeError("Invalid node: ".concat(t));var a=new i(e);return n.forEach((function(t){a.appendChild(t)})),a}var i={registerNode:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;if(e=e.toLowerCase(),r.has(e))throw new TypeError("Cannot registerNode, ".concat(e," has been taken."));r.set(e,t),Object.defineProperties(t.prototype,{nodeType:{value:n},tagName:{value:e.toUpperCase()},nodeName:{value:e},ownerDocument:{value:i},namespaceURI:{value:"http://spritejs.com/".concat(e)}})},createElement:n,createElementNS:function(t,e){return n(e)},isSpriteNode:function(t){return r.has(t.toLowerCase())}},a=i;e.default=a}));r(fs);var hs=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(lr);er.glMatrix.setMatrixArrayType(Array);var i=Symbol("type"),o=Symbol("bubbles"),s=Symbol("originalEvent"),u=Symbol("detail"),l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.bubbles,l=void 0===a?null:a;if((0,r.default)(this,t),"string"==typeof e?(this[i]=e,this[o]=!!l):(this[i]=e.type,this[s]=e,this[o]=null!=l?!!l:!!e.bubbles,e.detail&&(this[u]=e.detail)),!this[i])throw new TypeError("Invalid event type.");this.cancelBubble=!1}return(0,n.default)(t,[{key:"setOriginalEvent",value:function(t){this[s]=t}},{key:"stopPropagation",value:function(){this.cancelBubble=!0}},{key:"originalEvent",get:function(){return this[s]}},{key:"type",get:function(){return this[i]}},{key:"bubbles",get:function(){return this[o]}},{key:"detail",get:function(){return this[u]}}]),t}();e.default=l}));r(hs);var ds=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseFilterString=function(t){if(!(t=t.trim())||"none"===t)return null;var e=/^(?:(url|blur|brightness|contrast|drop-shadow|grayscale|hue-rotate|invert|opacity|saturate|sepia)\(([^()]*(?:\(.*\))*[^()]*)\))+$/i,r=t.match(/(?:(url|blur|brightness|contrast|drop-shadow|grayscale|hue-rotate|invert|opacity|saturate|sepia)\(([^()]*(?:\(.*\))*[^()]*)\))+?/gi),i=[];r&&r.forEach((function(t){var r=t.match(e);if(!r)throw new TypeError("Invalid fitler string.");var a=(0,n.default)(r,3),o=a[1],s=a[2];o=o.toLowerCase(),s=s.trim().match(/([^( )]+|([^( )]+\(.*\)))(?=\s|$)/g).map((function(t,e){var r;return r="url"===o||"drop-shadow"===o&&3===e?t:(0,fr.toNumber)(t),/%$/.test(t)&&(r/=100),r})),i.push({type:o,args:s})}));return i},e.applyFilters=function(t,e){t.clearFilter(),e&&e.forEach((function(e){var n=e.type,i=e.args,a=n;"drop-shadow"===a?a="dropShadow":"hue-rotate"===a&&(a="hueRotate"),t[a].apply(t,(0,r.default)(i))}))};var r=a(sr),n=a(h);er.glMatrix.setMatrixArrayType(Array)}));r(ds),ds.parseFilterString,ds.applyFilters;var ps=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!e)return;var r=t.getListeners("beforerender"),n=t.getListeners("afterrender");r.length&&!e.beforeRender?e.beforeRender=function(e){t.dispatchEvent({type:"beforerender",detail:{context:e}})}:r.length||(e.beforeRender=null);n.length&&!e.afterRender?e.afterRender=function(e){t.dispatchEvent({type:"afterrender",detail:{context:e}})}:n.length||(e.afterRender=null)},er.glMatrix.setMatrixArrayType(Array)}));r(ps);var vs=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(nr),n=a(sr),i=a(h),o=a(ur),s=a(lr),u=a(cr),l=a(hr),c=a(cs),f=a(fs),d=a(hs),p=a(ps);function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}er.glMatrix.setMatrixArrayType(Array);var g=Symbol.for("spritejs_changedAttrs"),y=Symbol.for("spritejs_attributes"),m=Symbol("resolution"),b=Symbol("animations"),x=Symbol("eventListeners"),M=Symbol("captureEventListeners"),w=Symbol("filters"),A=Symbol("display"),k=Symbol("program"),_=Symbol("shaderAttrs"),S=Symbol("uniforms"),E=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,t),this.attributes=new this.constructor.Attr(this),this[m]={width:300,height:150},Object.assign(this.attributes,e),this[b]=new Set,this[x]={},this[M]={}}return(0,s.default)(t,[{key:"activateAnimations",value:function(){var t=this.layer;if(t){var e=this[b];e.forEach((function(r){r.baseTimeline=t.timeline,r.play(),r.finished.then((function(){e.delete(r)}))}));var r=this.children;r&&r.forEach((function(t){t.activateAnimations&&t.activateAnimations()}))}}},{key:"addEventListener",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"mousewheel"===t&&(t="wheel"),"boolean"==typeof r&&(r={capture:r});var n=r,i=n.capture,a=n.once,o=i?M:x;return this[o][t]=this[o][t]||[],this[o][t].push({listener:e,once:a}),this}},{key:"animate",value:function(t,e){var r=this,n=new c.default(this,t,e);return this.effects&&n.applyEffects(this.effects),this.layer&&(n.baseTimeline=this.layer.timeline,n.play(),n.finished.then((function(){r[b].delete(n)}))),this[b].add(n),n}},{key:"attr",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(0===e.length)return this.attributes[y];if(e.length>1){var n=e[0],i=e[1];return"function"==typeof i&&(i=i(this.attr(n))),this.setAttribute(n,i),this}return"string"==typeof e[0]?this.getAttribute(e[0]):(Object.assign(this.attributes,e[0]),this)}},{key:"cloneNode",value:function(){var t=new this.constructor,e=this.attributes[g];return t.attr(e),t}},{key:"connect",value:function(t,e){Object.defineProperty(this,"parent",{value:t,writable:!1,configurable:!0}),Object.defineProperty(this,"zOrder",{value:e,writable:!1,configurable:!0}),t.timeline&&this.activateAnimations(),this.setResolution(t.getResolution()),this.forceUpdate(),this.dispatchEvent({type:"append",detail:{parent:t,zOrder:e}})}},{key:"contains",value:function(t){for(;t&&this!==t;)t=t.parent;return!!t}},{key:"deactivateAnimations",value:function(){this[b].forEach((function(t){return t.cancel()}));var t=this.children;t&&t.forEach((function(t){t.deactivateAnimations&&t.deactivateAnimations()}))}},{key:"disconnect",value:function(){var t=this.parent,e=this.zOrder;delete this.parent,delete this.zOrder,this.deactivateAnimations(),this.dispatchEvent({type:"remove",detail:{parent:t,zOrder:e}}),t&&t.forceUpdate()}},{key:"dispatchEvent",value:function(t){var e=this;t instanceof d.default||(t=new d.default(t)),t.target=this;var r=t.type;"mousewheel"===r&&(r="wheel");for(var n=[this],i=this.parent;t.bubbles&&i;)n.push(i),i=i.parent;for(var a=n.length-1;a>=0;a--){var o=n[a],s=o[M]&&o[M][r];if(s&&s.length&&(t.currentTarget=o,s.forEach((function(r){var i=r.listener,a=r.once;i.call(e,t),a&&n.removeEventListener(i)})),delete t.currentTarget),!t.bubbles&&t.cancelBubble)break}if(!t.cancelBubble)for(var u=0;u<n.length;u++){var l=n[u],c=l[x]&&l[x][r];if(c&&c.length&&(t.currentTarget=l,c.forEach((function(r){var i=r.listener,a=r.once;i.call(e,t),a&&n.removeEventListener(i)})),delete t.currentTarget),!t.bubbles||t.cancelBubble)break}}},{key:"dispatchPointerEvent",value:function(t){var e=t.layerX,r=t.layerY;return!!this.isPointCollision(e,r)&&(this.dispatchEvent(t),!0)}},{key:"draw",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=this.mesh;if(r){if((0,ds.applyFilters)(r,this.filters),e.push(r),this[k]){r.setProgram(this[k]);var n=this[_];n&&Object.entries(n).forEach((function(t){var e=(0,i.default)(t,2),n=e[0],a=e[1];r.setAttribute(n,a)}));var a=this[S];if(this[S]){var o={};Object.entries(a).forEach((function(e){var r=(0,i.default)(e,2),n=r[0],a=r[1];"function"==typeof a&&(a=a(t,n)),o[n]=a})),r.setUniforms(o)}}(0,p.default)(this,r)}return e}},{key:"forceUpdate",value:function(){this.parent&&this.parent.forceUpdate()}},{key:"getAttribute",value:function(t){return this.attributes[t]}},{key:"getListeners",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.capture,i=void 0!==r&&r,a=i?M:x;return(0,n.default)(this[a][t]||[])}},{key:"getNodeNearBy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.parent)return null;if(0===t)return this;var e=this.parent.children,r=e.indexOf(this);return e[r+t]}},{key:"getWorldPosition",value:function(t,e){var r=this.renderMatrix;return[t*r[0]+e*r[2]+r[4],t*r[1]+e*r[3]+r[5]]}},{key:"getOffsetPosition",value:function(t,e){var r=er.mat2d.invert(Array.of(0,0,0,0,0,0),this.renderMatrix);return[t*r[0]+e*r[2]+r[4],t*r[1]+e*r[3]+r[5]]}},{key:"getResolution",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){(0,u.default)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},this[m])}},{key:"isPointCollision",value:function(t,e){if(!this.mesh)return!1;var r=this.attributes.pointerEvents;if("none"===r)return!1;if("all"!==r&&!this.isVisible)return!1;var n="both";return"visibleFill"===r&&(n="fill"),"visibleStroke"===r&&(n="stroke"),this.mesh.isPointCollision(t,e,n)}},{key:"onPropertyChange",value:function(t,e,r){"id"!==t&&"name"!==t&&"className"!==t&&"pointerEvents"!==t&&"passEvents"!==t&&this.forceUpdate(),"filter"===t&&(this[w]=(0,ds.parseFilterString)(e)),"zIndex"===t&&this.parent&&this.parent.reorder()}},{key:"setAttribute",value:function(t,e){"attrs"===t&&this.attr(e),this.attributes[t]=e}},{key:"setMouseCapture",value:function(){this.layer&&(this.layer.__mouseCapturedTarget=this)}},{key:"setProgram",value:function(t){this[k]=t,this.forceUpdate()}},{key:"setShaderAttribute",value:function(t,e){this[_]=this[_]||{},this[_][t]=e,this.forceUpdate()}},{key:"setUniforms",value:function(t){this[S]=this[S]||{},Object.assign(this[S],t),this.forceUpdate()}},{key:"setResolution",value:function(t){var e=t.width,r=t.height,n=this[m],i=n.width,a=n.height;i===e&&a===r||(this[m]={width:e,height:r},this.forceUpdate(),this.dispatchEvent({type:"resolutionchange",detail:{width:e,height:r}}))}},{key:"show",value:function(){"none"===this.attributes.display&&(this.attributes.display=this[A]||"")}},{key:"hide",value:function(){"none"!==this.attributes.display&&(this[A]=this.attributes.display,this.attributes.display="none")}},{key:"releaseMouseCapture",value:function(){this.layer&&this.layer.__mouseCapturedTarget===this&&(this.layer.__mouseCapturedTarget=null)}},{key:"remove",value:function(){return!(!this.parent||!this.parent.removeChild)&&(this.parent.removeChild(this),!0)}},{key:"removeAllListeners",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof e&&(e={capture:e});var r=e.capture,n=r?M:x;return this[n][t]&&(this[n][t]=[]),this}},{key:"removeAttribute",value:function(t){this.setAttribute(t,null)}},{key:"removeEventListener",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"boolean"==typeof r&&(r={capture:r});var n=r.capture,i=n?M:x;if(this[i][t]){var a=this[i][t];if(a)for(var o=0;o<a.length;o++){var s=a[o].listener;if(s===e){this[i][t].splice(o,1);break}}}return this}},{key:"transition",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"linear",a=this,o=Symbol("animation");n=n||"linear";var s=0;return"object"===(0,r.default)(t)&&(s=t.delay||0,t=t.duration),e={},(0,u.default)(e,o,null),(0,u.default)(e,"cancel",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this[o];e&&e.cancel(t)})),(0,u.default)(e,"end",(function(){var t=this[o];!t||"running"!==t.playState&&"pending"!==t.playState||t.finish()})),(0,u.default)(e,"reverse",(function(){var t=this[o];if(t)if("running"===t.playState||"pending"===t.playState)t.playbackRate=-t.playbackRate;else{var e=t.timing.direction;t.timing.direction="reverse"===e?"normal":"reverse",t.play()}return t.finished})),(0,u.default)(e,"attr",(function(e,r){return this.end(),"string"==typeof e&&(e=(0,u.default)({},e,r)),Object.entries(e).forEach((function(t){var r=(0,i.default)(t,2),n=r[0],o=r[1];"function"==typeof o&&(e[n]=o(a.attr(n)))})),this[o]=a.animate([e],{duration:1e3*t,delay:1e3*s,fill:"forwards",easing:n}),this[o].finished})),e}},{key:"updateContours",value:function(){}},{key:"ancestors",get:function(){for(var t=this.parent,e=[];t;)e.push(t),t=t.parent;return e}},{key:"animations",get:function(){return this[b]}},{key:"filters",get:function(){return this[w]||this.parent&&this.parent.filters}},{key:"isVisible",get:function(){return!1}},{key:"layer",get:function(){return this.parent?this.parent.layer:null}},{key:"localMatrix",get:function(){var t=this.transformMatrix,e=this.attributes,r=e.x,n=e.y;return t[4]+=r,t[5]+=n,t}},{key:"opacity",get:function(){var t=this.attributes.opacity;return this.parent&&null!=this.parent.opacity&&(t*=this.parent.opacity),t}},{key:"parentNode",get:function(){return this.parent}},{key:"nextSibling",get:function(){return this.getNodeNearBy(1)}},{key:"previousSibling",get:function(){return this.getNodeNearBy(-1)}},{key:"program",get:function(){return this[k]}},{key:"renderer",get:function(){return this.parent?this.parent.renderer:null}},{key:"renderMatrix",get:function(){if(this.__cacheRenderMatrix)return this.__cacheRenderMatrix;var t=this.localMatrix,e=this.parent;if(e){var r=e.__cacheRenderMatrix||e.renderMatrix;r&&(t=er.mat2d.multiply(Array.of(0,0,0,0,0,0),r,t))}return t}},{key:"worldScaling",get:function(){var t=this.renderMatrix;return[Math.hypot(t[0],t[1]),Math.hypot(t[2],t[3])]}},{key:"worldRotation",get:function(){var t=this.renderMatrix;return Math.atan2(t[1],t[3])}},{key:"worldPosition",get:function(){var t=this.renderMatrix;return[t[4],t[5]]}},{key:"uniforms",get:function(){return this[S]}},{key:"className",get:function(){return this.attributes.className},set:function(t){this.attributes.className=t}},{key:"id",get:function(){return this.attributes.id},set:function(t){this.attributes.id=t}},{key:"name",get:function(){return this.attributes.name},set:function(t){this.attributes.name=t}},{key:"zIndex",get:function(){return this.attributes.zIndex},set:function(t){this.attributes.zIndex=t}},{key:"mesh",get:function(){return null}},{key:"shaderAttrs",get:function(){return this[_]||{}}}]),t}();e.default=E,(0,u.default)(E,"Attr",l.default),f.default.registerNode(E,"node")}));r(vs);var gs=n((function(t){var e=nr.default;function r(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
t.exports=r=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var n={},i=Object.prototype,a=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),o=new S(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return R()}for(r.method=i,r.arg=a;;){var o=r.delegate;if(o){var s=A(o,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,o),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=f;var d={};function p(){}function v(){}function g(){}var y={};c(y,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(E([])));b&&b!==i&&a.call(b,s)&&(y=b);var x=g.prototype=p.prototype=Object.create(y);function M(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,r){function n(i,o,s,u){var l=h(t[i],t,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==e(f)&&a.call(f,"__await")?r.resolve(f.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):r.resolve(f).then((function(t){c.value=t,s(c)}),(function(t){return n("throw",t,s,u)}))}u(l.arg)}var i;this._invoke=function(t,e){function a(){return new r((function(r,i){n(t,e,r,i)}))}return i=i?i.then(a,a):a()}}function A(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=h(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,d;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function E(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(a.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:R}}function R(){return{value:void 0,done:!0}}return v.prototype=g,c(x,"constructor",g),c(g,"constructor",v),v.displayName=c(g,l,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},n.awrap=function(t){return{__await:t}},M(w.prototype),c(w.prototype,u,(function(){return this})),n.AsyncIterator=w,n.async=function(t,e,r,i,a){void 0===a&&(a=Promise);var o=new w(f(t,e,r,i),a);return n.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},M(x),c(x,l,"Generator"),c(x,s,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},n.values=E,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return o.type="throw",o.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;_(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}));r(gs);var ys=gs(),ms=n((function(t){function e(t,e,r,n,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}t.exports=function(t){return function(){var r=this,n=arguments;return new Promise((function(i,a){var o=t.apply(r,n);function s(t){e(o,i,a,s,u,"next",t)}function u(t){e(o,i,a,s,u,"throw",t)}s(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports}));r(ms);var bs=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.loadTexture=u,e.applyTexture=function(t,e,r){return l.apply(this,arguments)},e.createTexture=f,e.deleteTexture=function(t,e){if(e[c]&&e[c].has(t)){var r=e[c].get(t);return e.deleteTexture(r),e[c].delete(t),!0}return!1},e.drawTexture=function(t,e){var r=t.textureImage instanceof String?String(t.textureImage):t.textureImage,n=t.textureImageRotated,i=e.texture,a=t.renderer;if(r){var o=t.originalContentRect,s=t.attributes.textureRect,u=t.attributes.textureRepeat,l=t.attributes.sourceRect;if(!i||t[d]&&t[d]!==a||i.image!==r||i.options.repeat!==u||!(0,fr.compareValue)(i.options.rect,s)||!(0,fr.compareValue)(i.options.srcRect,l)){var h=f(r,a);s?(s[0]+=o[0],s[1]+=o[1]):s=o;var p=null;!i||a[c].has(i.image)||i.options&&i.options.hidden||(p=e.uniforms.u_texSampler),e.setTexture(h,{rect:s,repeat:u,srcRect:l,rotated:n}),p&&p.delete&&p.delete(),t[d]=a}}else if(i){var v=null;a[c].has(i.image)||i.options&&i.options.hidden||(v=e.uniforms.u_texSampler),e.setTexture(null),v&&v.delete&&v.delete()}},e.loadFrames=function(t,e){return p.apply(this,arguments)};var r=a(h),n=a(ys),i=a(ms);er.glMatrix.setMatrixArrayType(Array);var s={};function u(t,e){if(s[t])return s[t];var r=o.ENV.loadImage(t,{alias:e,useImageBitmap:!1});return null!=r?r:t}function l(){return l=(0,i.default)(n.default.mark((function t(e,r,i){var a,o,s,l,c,f;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r,"string"==typeof r&&(a=u(r)),!a||"function"!=typeof a.then){t.next=6;break}return t.next=5,a;case 5:a=t.sent;case 6:return r===e.attributes.texture&&(a&&a.image&&(a.sourceRect&&(e.attributes.sourceRect=a.sourceRect),e.textureImageRotated=!!a.rotated,a=a.image),o=e.attributes,s=o.width,l=o.height,c=o.textureRect,f=e.textureImage,e.textureImage=a,!i||f===a||c||null!=s&&null!=l||e.updateContours(),e.forceUpdate()),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}var c=Symbol("textureMap");function f(t,e){if(e[c]=e[c]||new Map,e[c].has(t))return e[c].get(t);var r=e.createTexture(t);return/^blob:/.test(t.src)||"function"==typeof t.getContext||e[c].set(t,r),r}var d=Symbol("textureContext");function p(){return p=(0,i.default)(n.default.mark((function t(e,i){var a,o,l;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("string"!=typeof i){t.next=7;break}return t.next=3,fetch(i,{method:"GET",mode:"cors",cache:"default"});case 3:return a=t.sent,t.next=6,a.json();case 6:i=t.sent;case 7:return t.next=9,u(e);case 9:return o=t.sent,l=i.frames,Object.entries(l).forEach((function(t){var e=(0,r.default)(t,2),n=e[0],i=e[1],a=i.frame,u=[a.x,a.y,a.w,a.h],l=i.rotated;l&&(u=[u[0],u[1],u[3],u[2]]),s[n]={image:o,sourceRect:u,rotated:l}})),t.abrupt("return",o);case 13:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}}));r(bs),bs.loadTexture,bs.applyTexture,bs.createTexture,bs.deleteTexture,bs.drawTexture,bs.loadFrames;var xs=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(sr),n=a(h),i=a(ur),s=a(lr),u=a(br),l=a(gr),c=a(mr),f=a(xr),d=a(pr),p=a(vs),v=a(fs);function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,d.default)(t);if(e){var i=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var y=Symbol("amount"),m=Symbol("meshCloud"),b=function(t){(0,c.default)(a,t);var e=g(a);function a(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,i.default)(this,a),(r=e.call(this)).meshNode=t,t.connect((0,u.default)(r)),r[y]=n,r[m]=null,r}return(0,s.default)(a,[{key:"brightness",value:function(t,e){this.meshCloud&&(this.meshCloud.brightness(t,e),this.forceUpdate())}},{key:"contrast",value:function(t,e){this.meshCloud&&(this.meshCloud.contrast(t,e),this.forceUpdate())}},{key:"delete",value:function(t){this.meshCloud&&(this.meshCloud.delete(t),this[y]--,this.forceUpdate())}},{key:"draw",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if((0,l.default)((0,d.default)(a.prototype),"draw",this).call(this,e),this.meshCloud){if(this.program){this.meshCloud.setProgram(this.program);var r=this.shaderAttrs;r&&Object.entries(r).forEach((function(e){var r=(0,n.default)(e,2),i=r[0],a=r[1];t.meshCloud.mesh.setAttribute(i,a)}));var i=this.uniforms;if(this.uniforms){var o={};Object.entries(i).forEach((function(e){var r=(0,n.default)(e,2),i=r[0],a=r[1];"function"==typeof a&&(a=a(t,i)),o[i]=a})),this.meshCloud.mesh.setUniforms(o)}}this.meshNode.textureImage&&(0,bs.drawTexture)(this.meshNode,this.meshNode.mesh),e.push(this.meshCloud)}return e}},{key:"getTransform",value:function(t){if(this.meshCloud)return this.meshCloud.getTransform(t)}},{key:"grayscale",value:function(t,e){this.meshCloud&&(this.meshCloud.grayscale(t,e),this.forceUpdate())}},{key:"hueRotate",value:function(t,e){this.meshCloud&&(this.meshCloud.hueRotate(t,e),this.forceUpdate())}},{key:"invert",value:function(t,e){this.meshCloud&&(this.meshCloud.invert(t,e),this.forceUpdate())}},{key:"isPointCollision",value:function(t,e){if(!this.meshCloud)return!1;var r=this.attributes.pointerEvents;if("none"===r)return!1;if("all"!==r&&!this.isVisible)return!1;var n="both";"visibleFill"===r&&(n="fill"),"visibleStroke"===r&&(n="stroke");for(var i=0;i<this[y];i++)if(!this.meshCloud.isPointCollision(i,[t,e],n))return!1;return!0}},{key:"setOpacity",value:function(t,e){this.meshCloud&&(this.meshCloud.opacity(t,e),this.forceUpdate())}},{key:"rotate",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],i=(0,n.default)(r,2),a=i[0],o=i[1],s=Math.PI*e/180;if(this.meshCloud){var u=this.meshNode.attributes,l=u.x,c=u.y;this.meshCloud.rotate(t,s,[a+l,o+c]),this.forceUpdate()}}},{key:"saturate",value:function(t,e){this.meshCloud&&(this.meshCloud.saturate(t,e),this.forceUpdate())}},{key:"scale",value:function(t,e){var r=(0,n.default)(e,2),i=r[0],a=r[1],o=void 0===a?i:a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],u=(0,n.default)(s,2),l=u[0],c=u[1];if(this.meshCloud){var f=this.meshNode.attributes,h=f.x,d=f.y,p=1e-5;Math.abs(i)<p&&(i=1/i>0?p:-p),Math.abs(o)<p&&(o=1/o>0?p:-p),this.meshCloud.scale(t,[i,o],[l+h,c+d]),this.forceUpdate()}}},{key:"setColorTransform",value:function(t,e){this.meshCloud&&(this.meshCloud.setColorTransform(t,e),this.forceUpdate())}},{key:"setFillColor",value:function(t,e){this.meshCloud&&(Array.isArray(e)&&((e=(0,r.default)(e))[0]/=255,e[1]/=255,e[2]/=255),this.meshCloud.setFillColor(t,e),this.forceUpdate())}},{key:"sepia",value:function(t,e){this.meshCloud&&(this.meshCloud.sepia(t,e),this.forceUpdate())}},{key:"setResolution",value:function(t){var e=t.width,r=t.height;(0,l.default)((0,d.default)(a.prototype),"setResolution",this).call(this,{width:e,height:r}),this.meshNode.setResolution({width:e,height:r})}},{key:"setStrokeColor",value:function(t,e){this.meshCloud&&(Array.isArray(e)&&((e=(0,r.default)(e))[0]/=255,e[1]/=255,e[2]/=255),this.meshCloud.setStrokeColor(t,e),this.forceUpdate())}},{key:"setTransform",value:function(t,e){this.meshCloud&&(this.meshCloud.setTransform(t,e),this.forceUpdate())}},{key:"skew",value:function(t,e){var r=(0,n.default)(e,2),i=r[0],a=r[1],o=void 0===a?i:a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],u=(0,n.default)(s,2),l=u[0],c=u[1];if(this.meshCloud){var f=this.meshNode.attributes,h=f.x,d=f.y;this.meshCloud.skew(t,[i,o],[l+h,c+d]),this.forceUpdate()}}},{key:"transform",value:function(t,e){this.meshCloud&&(this.meshCloud.transform(t,e),this.forceUpdate())}},{key:"transformColor",value:function(t,e){this.meshCloud&&(this.meshCloud.transformColor(t,e),this.forceUpdate())}},{key:"translate",value:function(t,e){var r=(0,n.default)(e,2),i=r[0],a=r[1];this.meshCloud&&(this.meshCloud.translate(t,[i,a]),this.forceUpdate())}},{key:"updateMesh",value:function(){this[m]&&(this[m].mesh=this.meshNode.mesh,this.forceUpdate())}},{key:"meshCloud",get:function(){var t=this.meshNode,e=this[y];return!this[m]&&t.mesh&&(this[m]=new o.MeshCloud(t.mesh,e)),this[m]}},{key:"isVisible",get:function(){return!!this.meshNode&&this.meshNode.isVisible}},{key:"amount",get:function(){return this[y]},set:function(t){this[y]=t,this[m]&&(this[m].amount=t)}}]),a}(p.default);e.default=b,v.default.registerNode(b,"cloud")}));r(xs);var Ms=n((function(t){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")},t.exports.__esModule=!0,t.exports.default=t.exports}));r(Ms);var ws=n((function(t){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports.default=t.exports}));r(ws);var As=n((function(t){function e(r,n,i){return ws()?(t.exports=e=Reflect.construct,t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=e=function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&yr(i,r.prototype),i},t.exports.__esModule=!0,t.exports.default=t.exports),e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}));r(As);var ks=n((function(t){function e(r){var n="function"==typeof Map?new Map:void 0;return t.exports=e=function(t){if(null===t||!Ms(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return As(t,arguments,pr(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),yr(e,t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}));r(ks);var _s=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.isTransparent=function(t){return!(t instanceof p)&&(null==t||0===(0,f.default)(t)[3])},e.parseColor=v,e.setFillColor=function(t,e){var r=e.color,n=e.rule,i=void 0===n?"nonzero":n;g(t,"fill",r),r.vector||t.setFill({color:r,rule:i});return t},e.setStrokeColor=function(t,e){var r=e.color,n=e.lineWidth,i=e.lineCap,a=e.lineJoin,o=e.lineDash,s=e.lineDashOffset,u=e.miterLimit,l=e.roundSegments;g(t,"stroke",r),r.vector&&(r=[0,0,0,1]);t.setStroke({color:r,thickness:n,cap:i,join:a,miterLimit:u,lineDash:o,lineDashOffset:s,roundSegments:l})},e.Color=e.Gradient=void 0;var r=a(h),n=a(br),i=a(mr),o=a(xr),s=a(pr),u=a(ks),l=a(ur),c=a(lr),f=a(ls);function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,s.default)(t);if(e){var i=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,o.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var p=function(){function t(e){var r=e.vector,n=e.colors;if((0,l.default)(this,t),!Array.isArray(r)||4!==r.length&&6!==r.length&&3!==r.length)throw new TypeError("Invalid gradient");this.vector=r,this.colors=n.map((function(t){return{offset:t.offset,color:v(t.color)}}))}return(0,c.default)(t,[{key:"toString",value:function(){return JSON.stringify({vector:this.vector,colors:this.colors})}}]),t}();function v(t){if(null==t)return t;if(t||(t="transparent"),t instanceof p)return t;var e=(0,f.default)(t);if(!e||!e.length)throw new TypeError("Invalid color value.");return"rgba(".concat(e.join(),")")}function g(t,e,r){var n=t.boundingBox[0];if(r.vector){var i=r.vector,a=r.colors;4===i.length?(i=[i[0]+n[0],i[1]+n[1],i[2]+n[0],i[3]+n[1]],t.setLinearGradient({vector:i,colors:a,type:e})):3===i.length?(i=[i[0]+n[0],i[1]+n[1],i[2]],t.setCircularGradient({vector:i,colors:a,type:e})):(i=[i[0]+n[0],i[1]+n[1],i[2],i[3]+n[0],i[4]+n[1],i[5]],t.setRadialGradient({vector:i,colors:a,type:e}))}else t.gradient&&t.gradient[e]&&(delete t.gradient[e],delete t.uniforms.u_radialGradientVector)}e.Gradient=p;var y=function(t){(0,i.default)(a,t);var e=d(a);function a(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if((0,l.default)(this,a),Array.isArray(i)){var h=i,d=(0,r.default)(h,4);i=d[0],s=d[1],u=d[2],c=d[3]}if("string"==typeof i){var p=(0,f.default)(i),v=(0,r.default)(p,4);i=v[0],s=v[1],u=v[2],c=v[3],i/=255,s/=255,u/=255}return t=e.call(this,i,s,u,c),(0,o.default)(t,(0,n.default)(t))}return(0,c.default)(a,[{key:"fromColor",value:function(t){return"string"==typeof t&&((t=(0,f.default)(t))[0]/=255,t[1]/=255,t[2]/=255),this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this}},{key:"r",get:function(){return Math.round(255*this[0])},set:function(t){this[0]=t/255}},{key:"g",get:function(){return Math.round(255*this[1])},set:function(t){this[1]=t/255}},{key:"b",get:function(){return Math.round(255*this[2])},set:function(t){this[2]=t/255}},{key:"a",get:function(){return this[3]},set:function(t){this[3]=t}},{key:"hex",get:function(){var t,e="0".concat(this.r.toString(16)).slice(-2),r="0".concat(this.g.toString(16)).slice(-2),n="0".concat(this.b.toString(16)).slice(-2);return this.a<1&&(t=Math.round(255*this[3]),t="0".concat(t.toString(16)).slice(-2)),"#".concat(e).concat(r).concat(n).concat(t||"")}},{key:"rgba",get:function(){return"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a,")")}}]),a}((0,u.default)(Array));e.Color=y}));r(_s),_s.isTransparent,_s.parseColor,_s.setFillColor,_s.setStrokeColor,_s.Color,_s.Gradient;var Ss=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(sr),n=a(ur),i=a(lr),o=a(mr),s=a(xr),u=a(pr),l=a(hr);function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,u.default)(t);if(e){var i=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var f=Symbol.for("spritejs_setAttribute"),h=Symbol.for("spritejs_getAttribute"),d=Symbol.for("spritejs_setAttributeDefault"),p=Symbol.for("spritejs_declareAlias"),v=function(t){(0,o.default)(a,t);var e=c(a);function a(t){var r;return(0,n.default)(this,a),(r=e.call(this,t))[d]({anchorX:0,anchorY:0,width:void 0,height:void 0,borderWidth:0,borderColor:"rgba(0,0,0,1)",borderDash:void 0,borderDashOffset:0,borderTopLeftRadius:[0,0],borderTopRightRadius:[0,0],borderBottomRightRadius:[0,0],borderBottomLeftRadius:[0,0],bgcolor:"rgba(0,0,0,0)",paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,boxSizing:"content-box",clipPath:void 0}),r[p]("anchor","size","border","borderRadius","padding"),r}return(0,i.default)(a,[{key:"anchorX",get:function(){return this[h]("anchorX")},set:function(t){this[f]("anchorX",(0,fr.toNumber)(t))}},{key:"anchorY",get:function(){return this[h]("anchorY")},set:function(t){this[f]("anchorY",(0,fr.toNumber)(t))}},{key:"anchor",get:function(){return[this.anchorX,this.anchorY]},set:function(t){t=(0,fr.toArray)(t),Array.isArray(t)||(t=[t,t]),this.anchorX=t[0],this.anchorY=t[1]}},{key:"width",get:function(){return this[h]("width")},set:function(t){this[f]("width",(0,fr.toNumber)(t))}},{key:"height",get:function(){return this[h]("height")},set:function(t){this[f]("height",(0,fr.toNumber)(t))}},{key:"size",get:function(){return[this.width,this.height]},set:function(t){t=(0,fr.toArray)(t),Array.isArray(t)||(t=[t,t]),this.width=t[0],this.height=t[1]}},{key:"borderWidth",get:function(){return this[h]("borderWidth")},set:function(t){this[f]("borderWidth",(0,fr.toNumber)(t))}},{key:"borderColor",get:function(){return this[h]("borderColor")},set:function(t){this[f]("borderColor",(0,_s.parseColor)(t))}},{key:"border",get:function(){return[this.borderWidth,this.borderColor]},set:function(t){t=(0,fr.toArray)(t),Array.isArray(t)||(t=[t]),this.borderWidth=t[0],null!=t[1]&&(this.borderColor=t[1])}},{key:"borderDash",get:function(){return this[h]("borderDash")},set:function(t){null==(t=(0,fr.toArray)(t,!0))||Array.isArray(t)||(t=[t]),this[f]("borderDash",t?t.map(fr.toNumber):null)}},{key:"borderDashOffset",get:function(){return this[h]("borderDashOffset")},set:function(t){this[f]("borderDashOffset",(0,fr.toNumber)(t))}},{key:"borderTopLeftRadius",get:function(){return this[h]("borderTopLeftRadius")},set:function(t){t=(0,fr.toArray)(t,!0),Array.isArray(t)||(t=[t,t]),this[f]("borderTopLeftRadius",t.map(fr.toNumber))}},{key:"borderTopRightRadius",get:function(){return this[h]("borderTopRightRadius")},set:function(t){t=(0,fr.toArray)(t,!0),Array.isArray(t)||(t=[t,t]),this[f]("borderTopRightRadius",t.map(fr.toNumber))}},{key:"borderBottomRightRadius",get:function(){return this[h]("borderBottomRightRadius")},set:function(t){t=(0,fr.toArray)(t,!0),Array.isArray(t)||(t=[t,t]),this[f]("borderBottomRightRadius",t.map(fr.toNumber))}},{key:"borderBottomLeftRadius",get:function(){return this[h]("borderBottomLeftRadius")},set:function(t){t=(0,fr.toArray)(t,!0),Array.isArray(t)||(t=[t,t]),this[f]("borderBottomLeftRadius",t.map(fr.toNumber))}},{key:"borderRadius",get:function(){return[].concat((0,r.default)(this.borderTopLeftRadius),(0,r.default)(this.borderTopRightRadius),(0,r.default)(this.borderBottomRightRadius),(0,r.default)(this.borderBottomLeftRadius))},set:function(t){if(t=(0,fr.toArray)(t),Array.isArray(t)){if(2===t.length)t=[t[0],t[1],t[0],t[1],t[0],t[1],t[0],t[1]];else if(4===t.length)t=[t[0],t[1],t[2],t[3],t[0],t[1],t[2],t[3]];else if(6===t.length)t=[t[0],t[1],t[2],t[3],t[4],t[5],t[2],t[3]];else if(8!==t.length)throw new TypeError("Invalid borderRadius value.")}else t=Array(8).fill(t);this.borderTopLeftRadius=[t[0],t[1]],this.borderTopRightRadius=[t[2],t[3]],this.borderBottomRightRadius=[t[4],t[5]],this.borderBottomLeftRadius=[t[6],t[7]]}},{key:"bgcolor",get:function(){return this[h]("bgcolor")},set:function(t){this[f]("bgcolor",(0,_s.parseColor)(t))}},{key:"paddingTop",get:function(){return this[h]("paddingTop")},set:function(t){this[f]("paddingTop",(0,fr.toNumber)(t))}},{key:"paddingRight",get:function(){return this[h]("paddingRight")},set:function(t){this[f]("paddingRight",(0,fr.toNumber)(t))}},{key:"paddingBottom",get:function(){return this[h]("paddingBottom")},set:function(t){this[f]("paddingBottom",(0,fr.toNumber)(t))}},{key:"paddingLeft",get:function(){return this[h]("paddingLeft")},set:function(t){this[f]("paddingLeft",(0,fr.toNumber)(t))}},{key:"padding",get:function(){return[this.paddingTop,this.paddingRight,this.paddingBottom,this.paddingLeft]},set:function(t){t=(0,fr.toArray)(t),Array.isArray(t)?2===t.length?t=[t[0],t[1],t[0],t[1]]:3===t.length&&(t=[t[0],t[1],t[2],t[1]]):t=[t,t,t,t],this.paddingTop=t[0],this.paddingRight=t[1],this.paddingBottom=t[2],this.paddingLeft=t[3]}},{key:"clipPath",get:function(){return this[h]("clipPath")},set:function(t){this[f]("clipPath",t)}},{key:"boxSizing",get:function(){return this[h]("boxSizing")},set:function(t){if(null!=t&&"border-box"!==t&&"content-box"!==t)throw new TypeError("Invalid boxSizing type.");this[f]("boxSizing",t)}}]),a}(l.default);e.default=v}));r(Ss);var Es=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.createRadiusBox=function(t,e,i){var a=(0,r.default)(e,4),o=a[0],s=a[1],u=a[2],l=a[3];if(!i||Array.isArray(i)&&i.every((function(t){return 0===t})))t.beginPath(),t.rect(o,s,u,l);else{"number"==typeof i&&(i=Array(8).fill(i));var c=i.map((function(t,e){return e%2?Math.min(t,l/2):Math.min(t,u/2)})),f=(0,r.default)(c,8),h=f[0],d=f[1],p=f[2],v=f[3],g=f[4],y=f[5],m=f[6],b=f[7];t.beginPath(),t.moveTo(o,s+d),n(t,o,s,2*h,2*d,"leftTop"),t.lineTo(o+u-p,s),n(t,o+u-2*p,s,2*p,2*v,"rightTop"),t.lineTo(o+u,s+l-y),n(t,o+u-2*g,s+l-2*y,2*g,2*y,"rightBottom"),t.lineTo(o+m,s+l),n(t,o,s+l-2*b,2*m,2*b,"leftBottom"),t.closePath()}return t};var r=a(h);function n(t,e,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"leftTop",o=.5522848,s=n/2*o,u=i/2*o,l=e+n,c=r+i,f=e+n/2,h=r+i/2;"leftTop"===a?(t.moveTo(e,h),t.bezierCurveTo(e,h-u,f-s,r,f,r)):"rightTop"===a?t.bezierCurveTo(f+s,r,l,h-u,l,h):"rightBottom"===a?t.bezierCurveTo(l,h+u,f+s,c,f,c):"leftBottom"===a&&t.bezierCurveTo(f-s,c,e,h+u,e,h)}er.glMatrix.setMatrixArrayType(Array)}));r(Es),Es.createRadiusBox;var Rs=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!t)return{x:0,y:0,width:0,height:0,left:0,top:0,right:0,bottom:0};var n=(0,r.default)(t,2),i=(0,r.default)(n[0],2),a=i[0],o=i[1],s=(0,r.default)(n[1],2),u=s[0],l=s[1],c=a*e[0]+o*e[2]+e[4],f=a*e[1]+o*e[3]+e[5],h=u*e[0]+o*e[2]+e[4],d=u*e[1]+o*e[3]+e[5],p=u*e[0]+l*e[2]+e[4],v=u*e[1]+l*e[3]+e[5],g=a*e[0]+l*e[2]+e[4],y=a*e[1]+l*e[3]+e[5],m=Math.min(c,h,p,g),b=Math.min(f,d,v,y),x=Math.max(c,h,p,g),M=Math.max(f,d,v,y);return{x:m,y:b,width:x-m,height:M-b,left:m,top:b,right:x,bottom:M}};var r=a(h);er.glMatrix.setMatrixArrayType(Array)}));r(Rs);var Ts=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(h),n=a(sr),i=a(ur),s=a(lr),u=a(gr),l=a(mr),c=a(xr),f=a(pr),d=a(cr),p=a(vs),v=a(Ss),g=a(fs),y=a(Rs);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,f.default)(t);if(e){var i=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var b=Symbol("mesh"),x=function(t){(0,l.default)(a,t);var e=m(a);function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.default)(this,a),e.call(this,t)}return(0,s.default)(a,[{key:"getBoundingClientRect",value:function(){var t=this.renderMatrix;this.layer&&this.layer.layerTransformInvert&&(t=er.mat2d.multiply(Array.of(0,0,0,0,0,0),this.layer.transformMatrix,t));var e=null;if(this.mesh){e=(0,n.default)(this.mesh.boundingBox);var r=this.attributes.borderWidth;r&&(e[0]=[e[0][0]-r,e[0][1]-r],e[1]=[e[1][0]+r,e[1][1]+r])}return(0,y.default)(e,t)}},{key:"onPropertyChange",value:function(t,e,r){if((0,u.default)((0,f.default)(a.prototype),"onPropertyChange",this).call(this,t,e,r),("anchorX"===t||"anchorY"===t||"boxSizing"===t||"width"===t||"height"===t||"borderWidth"===t||"paddingLeft"===t||"paddingRight"===t||"paddingTop"===t||"paddingBottom"===t||/^border(TopLeft|TopRight|BottomRight|BottomLeft)Radius$/.test(t))&&this.updateContours(),this[b]&&"clipPath"===t&&this[b].setClipPath(e),this[b]&&"bgcolor"===t&&(0,_s.setFillColor)(this[b],{color:e}),this[b]&&("borderColor"===t||"borderWidth"===t||"borderDash"===t||"borderDashOffset"===t)){var n=this.attributes,i=n.borderColor,o=n.borderWidth,s=n.borderDash,l=n.borderDashOffset;(0,_s.setStrokeColor)(this[b],{color:i,lineWidth:o,lineDash:o?s:0,lineDashOffset:l})}}},{key:"updateContours",value:function(){var t=this.attributes,e=t.anchorX,n=t.anchorY,i=t.borderWidth,a=t.borderRadius,s=(0,r.default)(this.borderSize,2),u=s[0],l=s[1],c=this.offsetSize,f=.5*i,h=-e*c[0]+f,d=-n*c[1]+f;this.clientBox=new o.Figure2D,(0,Es.createRadiusBox)(this.clientBox,[h,d,u,l],a)}},{key:"borderSize",get:function(){var t=this.attributes,e=t.paddingTop,n=t.paddingRight,i=t.paddingBottom,a=t.paddingLeft,o=t.borderWidth,s=(0,r.default)(this.contentSize,2);return[a+s[0]+n+o,e+s[1]+i+o]}},{key:"clientSize",get:function(){var t=this.attributes,e=t.paddingTop,n=t.paddingRight,i=t.paddingBottom,a=t.paddingLeft,o=(0,r.default)(this.contentSize,2);return[a+o[0]+n,e+o[1]+i]}},{key:"contentSize",get:function(){var t=this.attributes,e=t.width,r=t.height,n=t.boxSizing,i=t.paddingTop,a=t.paddingRight,o=t.paddingBottom,s=t.paddingLeft;if(e=e||0,r=r||0,"border-box"===n){var u=2*this.attributes.borderWidth;e-=u+a+s,r-=u+i+o,e=Math.max(0,e),r=Math.max(0,r)}return[e,r]}},{key:"hasBorder",get:function(){return this.attributes.borderWidth>0}},{key:"isVisible",get:function(){var t=(0,r.default)(this.borderSize,2),e=t[0],n=t[1];return e>0&&n>0}},{key:"mesh",get:function(){if("none"===this.attributes.display)return null;var t=this.clientBox;if(t){var e,r=this[b];if(r)r.box!==t&&(r.contours=t.contours,r.box=t);else{(r=new o.Mesh2D(t)).box=t;var i=this.attributes.bgcolor;if((0,_s.setFillColor)(r,{color:i}),this.hasBorder){var a=this.attributes,s=a.borderColor,u=a.borderWidth,l=a.borderDash,c=a.borderDashOffset;(0,_s.setStrokeColor)(r,{color:s,lineWidth:u,lineDash:l,lineDashOffset:c})}this[b]=r;var f=this.attributes.clipPath;f&&this[b].setClipPath(f)}var h=this.opacity;return r.getOpacity()!==h&&r.setOpacity(h),(e=r).setTransform.apply(e,(0,n.default)(this.renderMatrix)),r}return null}},{key:"offsetSize",get:function(){var t=this.attributes,e=t.paddingTop,n=t.paddingRight,i=t.paddingBottom,a=t.paddingLeft,o=t.borderWidth,s=(0,r.default)(this.contentSize,2),u=2*o;return[a+s[0]+n+u,e+s[1]+i+u]}},{key:"originalClientRect",get:function(){if(this.mesh){var t=this.mesh.boundingBox;return[t[0][0],t[0][1],t[1][0]-t[0][0],t[1][1]-t[0][1]]}return[0,0,0,0]}},{key:"originalContentRect",get:function(){var t=(0,r.default)(this.originalClientRect,4),e=t[0],n=t[1],i=t[2],a=t[3],o=this.attributes.padding;return[e+o[0],n+o[1],i-o[0]-o[2],a-o[1]-o[3]]}}]),a}(p.default);e.default=x,(0,d.default)(x,"Attr",v.default),g.default.registerNode(x,"block")}));r(Ts);var Os=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(lr),i=a(mr),o=a(xr),s=a(pr),u=a(Ss);function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,s.default)(t);if(e){var i=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,o.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var c=Symbol.for("spritejs_setAttributeDefault"),f=Symbol.for("spritejs_setAttribute"),h=Symbol.for("spritejs_getAttribute"),d=function(t){(0,i.default)(a,t);var e=l(a);function a(t){var n;return(0,r.default)(this,a),(n=e.call(this,t))[c]({texture:void 0,textureRect:void 0,textureRepeat:!1,sourceRect:void 0}),n}return(0,n.default)(a,[{key:"texture",get:function(){return this[h]("texture")},set:function(t){this[f]("texture",t)}},{key:"textureRect",get:function(){return this[h]("textureRect")},set:function(t){this[f]("textureRect",t)}},{key:"sourceRect",get:function(){return this[h]("sourceRect")},set:function(t){this[f]("sourceRect",t)}},{key:"textureRepeat",get:function(){return this[h]("textureRepeat")},set:function(t){this[f]("textureRepeat",!!t)}}]),a}(u.default);e.default=d}));r(Os);var Cs=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(h),n=a(ur),i=a(lr),o=a(gr),s=a(mr),u=a(xr),l=a(pr),c=a(cr),f=a(Ts),d=a(Os),p=a(fs);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,l.default)(t);if(e){var i=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var g=Symbol("textureTask"),y=function(t){(0,s.default)(a,t);var e=v(a);function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.default)(this,a),"string"==typeof t&&(t={texture:t}),e.call(this,t)}return(0,i.default)(a,[{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,o.default)((0,l.default)(a.prototype),"draw",this).call(this,t);var e=this.mesh;return e&&(0,bs.drawTexture)(this,e),t}},{key:"onPropertyChange",value:function(t,e,r){if((0,o.default)((0,l.default)(a.prototype),"onPropertyChange",this).call(this,t,e,r),"texture"===t&&(this[g]=(0,bs.applyTexture)(this,e,!0)),"textureRect"===t){var n=this.attributes,i=n.width,s=n.height;null!=i&&null!=s||this.updateContours()}}},{key:"contentSize",get:function(){var t=(0,o.default)((0,l.default)(a.prototype),"contentSize",this),e=(0,r.default)(t,2),n=e[0],i=e[1],s=this.attributes,u=s.width,c=s.height;if(null==u||null==c){var f=this.textureImage,h=this.attributes.textureRect,d=this.attributes.sourceRect;if(h)null==u&&(n=h[0]+h[2]),null==c&&(i=h[1]+h[3]);else if(d){var p=this.layer?this.layer.displayRatio:1;null==u&&(n=d[2]/p),null==c&&(i=d[3]/p)}else if(f){var v=this.layer?this.layer.displayRatio:1;null==u&&(n=f.width/v),null==c&&(i=f.height/v)}}return[n,i]}},{key:"textureImageReady",get:function(){return this[g]||Promise.resolve()}}]),a}(f.default);e.default=y,(0,c.default)(y,"Attr",d.default),p.default.registerNode(y,"sprite")}));r(Cs);var Ls=n((function(t,e){t.exports=function(){var t=function(){function t(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),e=2*Math.PI,r=function(t,e,r,n,i,a,o){var s=t.x,u=t.y;return{x:n*(s*=e)-i*(u*=r)+a,y:i*s+n*u+o}},n=function(t,e){var r=4/3*Math.tan(e/4),n=Math.cos(t),i=Math.sin(t),a=Math.cos(t+e),o=Math.sin(t+e);return[{x:n-i*r,y:i+n*r},{x:a+o*r,y:o-a*r},{x:a,y:o}]},i=function(t,e,r,n){var i=t*n-e*r<0?-1:1,a=(t*r+e*n)/(Math.sqrt(t*t+e*e)*Math.sqrt(t*t+e*e));return a>1&&(a=1),a<-1&&(a=-1),i*Math.acos(a)},a=function(t,r,n,a,o,s,u,l,c,f,h,d){var p=Math.pow(o,2),v=Math.pow(s,2),g=Math.pow(h,2),y=Math.pow(d,2),m=p*v-p*y-v*g;m<0&&(m=0),m/=p*y+v*g;var b=(m=Math.sqrt(m)*(u===l?-1:1))*o/s*d,x=m*-s/o*h,M=f*b-c*x+(t+n)/2,w=c*b+f*x+(r+a)/2,A=(h-b)/o,k=(d-x)/s,_=(-h-b)/o,S=(-d-x)/s,E=i(1,0,A,k),R=i(A,k,_,S);return 0===l&&R>0&&(R-=e),1===l&&R<0&&(R+=e),[M,w,E,R]},o=function(i){var o=i.px,s=i.py,u=i.cx,l=i.cy,c=i.rx,f=i.ry,h=i.xAxisRotation,d=void 0===h?0:h,p=i.largeArcFlag,v=void 0===p?0:p,g=i.sweepFlag,y=void 0===g?0:g,m=[];if(0===c||0===f)return[];var b=Math.sin(d*e/360),x=Math.cos(d*e/360),M=x*(o-u)/2+b*(s-l)/2,w=-b*(o-u)/2+x*(s-l)/2;if(0===M&&0===w)return[];c=Math.abs(c),f=Math.abs(f);var A=Math.pow(M,2)/Math.pow(c,2)+Math.pow(w,2)/Math.pow(f,2);A>1&&(c*=Math.sqrt(A),f*=Math.sqrt(A));var k=a(o,s,u,l,c,f,v,y,b,x,M,w),_=t(k,4),S=_[0],E=_[1],R=_[2],T=_[3],O=Math.max(Math.ceil(Math.abs(T)/(e/4)),1);T/=O;for(var C=0;C<O;C++)m.push(n(R,T)),R+=T;return m.map((function(t){var e=r(t[0],c,f,x,b,S,E),n=e.x,i=e.y,a=r(t[1],c,f,x,b,S,E),o=a.x,s=a.y,u=r(t[2],c,f,x,b,S,E);return{x1:n,y1:i,x2:o,y2:s,x:u.x,y:u.y}}))},s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},u=/([astvzqmhlc])([^astvzqmhlc]*)/gi;function l(t){var e=[];return t.replace(u,(function(t,r,n){var i=r.toLowerCase();for(n=f(n),"m"==i&&n.length>2&&(e.push([r].concat(n.splice(0,2))),i="l",r="m"==r?"l":"L");;){if(n.length==s[i])return n.unshift(r),e.push(n);if(n.length<s[i])throw new Error("malformed path data");e.push([r].concat(n.splice(0,s[i])))}})),e}var c=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function f(t){var e=t.match(c);return e?e.map(Number):[]}function h(t){var e=t[0][0],r=t[0][1],n=e,i=r;return t.forEach((function(t){var a=t[0],o=t[2],s=t[4],u=t[6],l=t[1],c=t[3],f=t[5],h=t[7];e=Math.min(e,a,o,s,u),r=Math.min(r,l,c,f,h),n=Math.max(n,a,o,s,u),i=Math.max(i,l,c,f,h)})),[e,r,n,i]}function d(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))+Math.sqrt(Math.pow(t[2]-e[2],2)+Math.pow(t[3]-e[3],2))}function p(t,e){var r=t[0],n=t[2],i=t[4],a=t[6],o=t[1],s=t[3],u=t[5],l=t[7],c=e[0],f=e[2],h=e[4],d=e[6],p=e[1],v=e[3],g=e[5],y=e[7];return Math.sqrt(Math.pow(c-r,2)+Math.pow(p-o,2))+Math.sqrt(Math.pow(f-n,2)+Math.pow(v-s,2))+Math.sqrt(Math.pow(h-i,2)+Math.pow(g-u,2))+Math.sqrt(Math.pow(d-a,2)+Math.pow(y-l,2))}function v(t,e){var r=y(t.length),n=[];r.forEach((function(r){var i=0,a=0;r.forEach((function(r){i+=p(t[r],e[a++])})),n.push({index:r,distance:i})})),n.sort((function(t,e){return t.distance-e.distance}));var i=[];return n[0].index.forEach((function(e){i.push(t[e])})),i}function g(t,e){var r=m(t.length),n=[];r.forEach((function(r){var i=0;r.forEach((function(r){i+=d(h(t[r]),h(e[r]))})),n.push({index:r,distance:i})})),n.sort((function(t,e){return t.distance-e.distance}));var i=[];return n[0].index.forEach((function(e){i.push(t[e])})),i}function y(t){for(var e=[],r=0;r<t;r++){for(var n=[],i=0;i<t;i++){var a=i+r;a>t-1&&(a-=t),n[a]=i}e.push(n)}return e}function m(t){for(var e=[],r=0;r<t;r++)e.push(r);return b(e)}function b(t){var e=[],r=[];function n(t){var i,a;for(i=0;i<t.length;i++)a=t.splice(i,1)[0],r.push(a),0==t.length&&e.push(r.slice()),n(t),t.splice(i,0,a),r.pop();return e}return n(t)}var x={};function M(t,e,r,n,i,a,o,s,u){return{left:w(t,e,r,n,i,a,o,s,u),right:w(o,s,i,a,r,n,t,e,1-u,!0)}}function w(t,e,r,n,i,a,o,s,u,l){var c=(r-t)*u+t,f=(n-e)*u+e,h=(i-r)*u+r,d=(a-n)*u+n,p=(h-c)*u+c,v=(d-f)*u+f,g=(((o-i)*u+i-h)*u+h-p)*u+p,y=(((s-a)*u+a-d)*u+d-v)*u+v;return l?[g,y,p,v,c,f,t,e]:[t,e,c,f,p,v,g,y]}function A(t,e){for(var r=function(e){var r=t[t.length-1],n=[];r.forEach((function(t){n.push(t.slice(0))})),t.push(n)},n=0;n<e;n++)r()}return x.parser=l,x.lerpCurve=function(t,e,r){return x.lerpPoints(t[0],t[1],e[0],e[1],r).concat(x.lerpPoints(t[2],t[3],e[2],e[3],r)).concat(x.lerpPoints(t[4],t[5],e[4],e[5],r)).concat(x.lerpPoints(t[6],t[7],e[6],e[7],r))},x.lerpPoints=function(t,e,r,n,i){return[t+(r-t)*i,e+(n-e)*i]},x.q2b=function(t,e,r,n,i,a){return[t,e,(t+2*r)/3,(e+2*n)/3,(i+2*r)/3,(a+2*n)/3,i,a]},x.path2shapes=function(t){for(var e=x.parser(t),r=0,n=0,i=0,a=e.length,s=[],u=null,l=void 0,c=void 0,f=void 0,h=void 0,d=void 0,p=void 0,v=void 0;i<a;i++){var g=e[i],y=g[0],m=e[i-1];switch(y){case"m":s[d=s.length]=[],u=s[d],r+=g[1],n+=g[2];break;case"M":s[d=s.length]=[],u=s[d],r=g[1],n=g[2];break;case"l":u.push([r,n,r,n,r,n,r+g[1],n+g[2]]),r+=g[1],n+=g[2];break;case"L":u.push([r,n,g[1],g[2],g[1],g[2],g[1],g[2]]),r=g[1],n=g[2];break;case"h":u.push([r,n,r,n,r,n,r+g[1],n]),r+=g[1];break;case"H":u.push([r,n,g[1],n,g[1],n,g[1],n]),r=g[1];break;case"v":u.push([r,n,r,n,r,n,r,n+g[1]]),n+=g[1];break;case"V":u.push([r,n,r,g[1],r,g[1],r,g[1]]),n=g[1];break;case"C":u.push([r,n,g[1],g[2],g[3],g[4],g[5],g[6]]),r=g[5],n=g[6];break;case"S":"C"===m[0]||"c"===m[0]?u.push([r,n,r+m[5]-m[3],n+m[6]-m[4],g[1],g[2],g[3],g[4]]):"S"!==m[0]&&"s"!==m[0]||u.push([r,n,r+m[3]-m[1],n+m[4]-m[2],g[1],g[2],g[3],g[4]]),r=g[3],n=g[4];break;case"c":u.push([r,n,r+g[1],n+g[2],r+g[3],n+g[4],r+g[5],n+g[6]]),r+=g[5],n+=g[6];break;case"s":"C"===m[0]||"c"===m[0]?u.push([r,n,r+m[5]-m[3],n+m[6]-m[4],r+g[1],n+g[2],r+g[3],n+g[4]]):"S"!==m[0]&&"s"!==m[0]||u.push([r,n,r+m[3]-m[1],n+m[4]-m[2],r+g[1],n+g[2],r+g[3],n+g[4]]),r+=g[3],n+=g[4];break;case"a":v=(p=o({rx:g[1],ry:g[2],px:r,py:n,xAxisRotation:g[3],largeArcFlag:g[4],sweepFlag:g[5],cx:r+g[6],cy:n+g[7]}))[p.length-1],p.forEach((function(t,e){0===e?u.push([r,n,t.x1,t.y1,t.x2,t.y2,t.x,t.y]):u.push([p[e-1].x,p[e-1].y,t.x1,t.y1,t.x2,t.y2,t.x,t.y])})),r=v.x,n=v.y;break;case"A":v=(p=o({rx:g[1],ry:g[2],px:r,py:n,xAxisRotation:g[3],largeArcFlag:g[4],sweepFlag:g[5],cx:g[6],cy:g[7]}))[p.length-1],p.forEach((function(t,e){0===e?u.push([r,n,t.x1,t.y1,t.x2,t.y2,t.x,t.y]):u.push([p[e-1].x,p[e-1].y,t.x1,t.y1,t.x2,t.y2,t.x,t.y])})),r=v.x,n=v.y;break;case"Q":u.push(x.q2b(r,n,g[1],g[2],g[3],g[4])),r=g[3],n=g[4];break;case"q":u.push(x.q2b(r,n,r+g[1],n+g[2],g[3]+r,g[4]+n)),r+=g[3],n+=g[4];break;case"T":"Q"===m[0]||"q"===m[0]?(f=r+m[3]-m[1],h=n+m[4]-m[2],u.push(x.q2b(r,n,f,h,g[1],g[2]))):"T"!==m[0]&&"t"!==m[0]||(u.push(x.q2b(r,n,r+r-f,n+n-h,g[1],g[2])),f=r+r-f,h=n+n-h),r=g[1],n=g[2];break;case"t":"Q"===m[0]||"q"===m[0]?(f=r+m[3]-m[1],h=n+m[4]-m[2],u.push(x.q2b(r,n,f,h,r+g[1],n+g[2]))):"T"!==m[0]&&"t"!==m[0]||(u.push(x.q2b(r,n,r+r-f,n+n-h,r+g[1],n+g[2])),f=r+r-f,h=n+n-h),r+=g[1],n+=g[2];break;case"Z":case"z":l=u[0][0],c=u[0][1],u.push([r,n,l,c,l,c,l,c])}}return s},x._upCurves=function(t,e){for(var r=0,n=0,i=t.length;r<e;r++)t.push(t[n].slice(0)),++n>i-1&&(n-=i)},x._splitCurves=function(t,e){for(var r=0,n=0;r<e;r++){var i=t[n],a=M(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],.5);t.splice(n,1),t.splice(n,0,a.left,a.right),(n+=2)>=t.length-1&&(n=0)}},x.lerp=function(t,e,r){return x._lerp(x.path2shapes(t),x.path2shapes(e),r)},x.MIM_CURVES_COUNT=100,x._preprocessing=function(t,e){var r=t.length,n=e.length,i=JSON.parse(JSON.stringify(t)),a=JSON.parse(JSON.stringify(e));return r>n?A(a,r-n):r<n&&A(i,n-r),(i=g(i,a)).forEach((function(t,e){var r=t.length,n=a[e].length;r>n?r<x.MIM_CURVES_COUNT?(x._splitCurves(t,x.MIM_CURVES_COUNT-r),x._splitCurves(a[e],x.MIM_CURVES_COUNT-n)):x._splitCurves(a[e],r-n):r<n&&(n<x.MIM_CURVES_COUNT?(x._splitCurves(t,x.MIM_CURVES_COUNT-r),x._splitCurves(a[e],x.MIM_CURVES_COUNT-n)):x._splitCurves(t,n-r))})),i.forEach((function(t,e){i[e]=v(t,a[e])})),[i,a]},x._lerp=function(t,e,r){var n=[];return t.forEach((function(t,i){var a=[];t.forEach((function(t,n){a.push(x.lerpCurve(t,e[i][n],r))})),n.push(a)})),n},x.animate=function(t){var e=x.path2shapes(t.from),r=x.path2shapes(t.to),n=x._preprocessing(e,r),i=new Date,a=t.end||function(){},o=t.progress||function(){},s=t.begin||function(){},u=t.easing||function(t){return t},l=null,c=null,f=t.time;s(e),function t(){var e=new Date-i;if(e>=f)return o(c=r,1),a(c),void cancelAnimationFrame(l);var s=u(e/f);c=x._lerp(n[0],n[1],s),o(c,s),l=requestAnimationFrame(t)}()},x}()})),Ps=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(lr),i=a(mr),o=a(xr),s=a(pr),u=a(hr);function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,s.default)(t);if(e){var i=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,o.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var c=Symbol.for("spritejs_setAttributeDefault"),f=Symbol.for("spritejs_setAttribute"),h=Symbol.for("spritejs_getAttribute"),d=function(t){(0,i.default)(a,t);var e=l(a);function a(t){var n;return(0,r.default)(this,a),(n=e.call(this,t))[c]({d:"",normalize:!1,fillColor:void 0,fillRule:"nonzero",strokeColor:void 0,lineWidth:1,lineJoin:"miter",lineCap:"butt",roundSegments:20,lineDash:void 0,lineDashOffset:0,miterLimit:10,texture:void 0,textureRect:void 0,textureRepeat:!1,sourceRect:void 0,clipPath:void 0}),n}return(0,n.default)(a,[{key:"d",get:function(){return this[h]("d")},set:function(t){this[f]("d",t)}},{key:"normalize",get:function(){return this[h]("normalize")},set:function(t){this[f]("normalize",!!t)}},{key:"fillColor",get:function(){return this[h]("fillColor")},set:function(t){this[f]("fillColor",(0,_s.parseColor)(t))}},{key:"fillRule",get:function(){return this[h]("fillRule")},set:function(t){if(null!=t&&"nonzero"!==t&&"evenodd"!==t)throw new TypeError("Invalid fill rule.");this[f]("fillRule",t)}},{key:"strokeColor",get:function(){return this[h]("strokeColor")},set:function(t){this[f]("strokeColor",(0,_s.parseColor)(t))}},{key:"lineWidth",get:function(){return this[h]("lineWidth")},set:function(t){this[f]("lineWidth",(0,fr.toNumber)(t))}},{key:"lineJoin",get:function(){return this[h]("lineJoin")},set:function(t){if(null!=t&&"miter"!==t&&"bevel"!==t&&"round"!==t)throw new TypeError("Invalid lineJoin type.");this[f]("lineJoin",t)}},{key:"lineCap",get:function(){return this[h]("lineCap")},set:function(t){if(null!=t&&"butt"!==t&&"square"!==t&&"round"!==t)throw new TypeError("Invalid lineCap type.");this[f]("lineCap",t)}},{key:"lineDash",get:function(){return this[h]("lineDash")},set:function(t){null==(t=(0,fr.toArray)(t,!0))||Array.isArray(t)||(t=[t]),this[f]("lineDash",t?t.map(fr.toNumber):null)}},{key:"lineDashOffset",get:function(){return this[h]("lineDashOffset")},set:function(t){this[f]("lineDashOffset",(0,fr.toNumber)(t))}},{key:"miterLimit",get:function(){return this[h]("miterLimit")},set:function(t){this[f]("miterLimit",(0,fr.toNumber)(t))}},{key:"roundSegments",get:function(){return this[h]("roundSegments")},set:function(t){this[f]("roundSegments",t)}},{key:"texture",get:function(){return this[h]("texture")},set:function(t){this[f]("texture",t)}},{key:"textureRect",get:function(){return this[h]("textureRect")},set:function(t){this[f]("textureRect",t)}},{key:"sourceRect",get:function(){return this[h]("sourceRect")},set:function(t){this[f]("sourceRect",t)}},{key:"textureRepeat",get:function(){return this[h]("textureRepeat")},set:function(t){this[f]("textureRepeat",!!t)}},{key:"clipPath",get:function(){return this[h]("clipPath")},set:function(t){this[f]("clipPath",t)}}]),a}(u.default);e.default=d}));r(Ps);var Ds=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(sr),n=a(ur),i=a(lr),s=a(gr),u=a(mr),l=a(xr),c=a(pr),f=a(cr),h=a(Ls),d=a(vs),p=a(Ps),v=a(fs),g=a(Rs);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,c.default)(t);if(e){var i=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var m=Symbol("mesh"),b=function(t){(0,u.default)(a,t);var e=y(a);function a(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.default)(this,a),"string"==typeof i&&(i={d:i}),(t=e.call(this,i)).effects={d:function(t,e,n,i,a){var o=(n-i)/(a-i);if(o<=0)return t;if(o>=1)return e;var s=h.default._preprocessing(h.default.path2shapes(t),h.default.path2shapes(e)),u=h.default._lerp.apply(h.default,(0,r.default)(s).concat([o]))[0],l=u.reduce((function(t,e){return"".concat(t).concat(e.slice(2).join(" ")," ")}),"M".concat(u[0][0]," ").concat(u[0][1],"C")).trim();return l}},t}return(0,i.default)(a,[{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,s.default)((0,c.default)(a.prototype),"draw",this).call(this,t);var e=this.mesh;return e&&(0,bs.drawTexture)(this,e),t}},{key:"getBoundingClientRect",value:function(){var t=null;return this.mesh&&(t=this.mesh.boundingBox),(0,g.default)(t,this.renderMatrix)}},{key:"getPathLength",value:function(){return this.mesh?this.mesh.getTotalLength():0}},{key:"getPointAtLength",value:function(t){if(this.mesh){var e=this.mesh.getPointAtLength(t);if(e)return[e.x,e.y]}return[0,0]}},{key:"onPropertyChange",value:function(t,e,r){if((0,s.default)((0,c.default)(a.prototype),"onPropertyChange",this).call(this,t,e,r),"d"!==t&&"normalize"!==t||this.updateContours(),this[m]&&("fillColor"===t||"fillRule"===t)){var n=this.attributes,i=n.fillColor,o=n.fillRule;(0,_s.setFillColor)(this[m],{color:i,rule:o})}if(this[m]&&("strokeColor"===t||"lineWidth"===t||"lineCap"===t||"lineJoin"===t||"lineDash"===t||"lineDashOffset"===t||"roundSegments"===t)){var u=this.attributes,l=u.strokeColor,f=u.lineWidth;if(l&&f>0){var h=this.attributes,d=h.lineCap,p=h.lineJoin,v=h.lineDash,g=h.lineDashOffset,y=h.miterLimit,b=h.roundSegments;(0,_s.setStrokeColor)(this[m],{color:l,lineCap:d,lineJoin:p,lineWidth:f,lineDash:v,lineDashOffset:g,miterLimit:y,roundSegments:b})}}this[m]&&"clipPath"===t&&this[m].setClipPath(e),"texture"===t&&(0,bs.applyTexture)(this,e)}},{key:"updateContours",value:function(){var t;(this.path=new o.Figure2D,this.path.addPath(this.attributes.d),this.attributes.normalize)&&(t=this.path).normalize.apply(t,(0,r.default)(this.path.boundingCenter))}},{key:"isVisible",get:function(){return!!this.d}},{key:"mesh",get:function(){if("none"===this.attributes.display)return null;var t=this.path;if(t){var e,n=this[m];if(n)n.path!==t&&(n.contours=t.contours,n.path=t);else{(n=new o.Mesh2D(this.path)).path=t;var i=this.attributes.fillColor,a=this.attributes.fillRule;i&&(0,_s.setFillColor)(n,{color:i,rule:a});var s=this.attributes.lineWidth,u=this.attributes.strokeColor;if(u&&s>0){var l=this.attributes,c=l.lineCap,f=l.lineJoin,h=l.miterLimit,d=l.lineDash,p=l.lineDashOffset,v=l.roundSegments;(0,_s.setStrokeColor)(n,{color:u,lineWidth:s,lineCap:c,lineJoin:f,miterLimit:h,lineDash:d,lineDashOffset:p,roundSegments:v})}this[m]=n;var g=this.attributes.clipPath;g&&this[m].setClipPath(g)}var y=this.opacity;return n.getOpacity()!==y&&n.setOpacity(y),(e=n).setTransform.apply(e,(0,r.default)(this.renderMatrix)),n}return null}},{key:"originalContentRect",get:function(){if(this.path){var t=this.path.boundingBox;return[t[0][0],t[0][1],t[1][0]-t[0][0],t[1][1]-t[0][1]]}return[0,0,0,0]}},{key:"originalClientRect",get:function(){if(this.mesh){var t=this.mesh.boundingBox;return[t[0][0],t[0][1],t[1][0]-t[0][0],t[1][1]-t[0][1]]}return[0,0,0,0]}},{key:"originalClientCenter",get:function(){return this.mesh?this.mesh.boundingCenter:[0,0]}},{key:"d",set:function(t){this.attributes.d=t},get:function(){return this.attributes.d}}]),a}(d.default);e.default=b,(0,f.default)(b,"Attr",p.default),v.default.registerNode(b,"path")}));r(Ds);var qs=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(lr),i=a(mr),o=a(xr),s=a(pr),u=a(Ps);function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,s.default)(t);if(e){var i=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,o.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var c=Symbol.for("spritejs_setAttributeDefault"),f=Symbol.for("spritejs_setAttribute"),h=Symbol.for("spritejs_getAttribute"),d=Symbol.for("spritejs_declareAlias");function p(t){var e=t.width,r=t.height;return"M".concat(0," ",0,"L",e," ",0,"L").concat(e," ").concat(r,"L",0," ").concat(r,"Z")}var v=function(t){(0,i.default)(a,t);var e=l(a);function a(t){var n;return(0,r.default)(this,a),(n=e.call(this,t))[c]({width:0,height:0}),n[d]("size"),n}return(0,n.default)(a,[{key:"d",get:function(){return this[h]("d")},set:function(t){}},{key:"width",get:function(){return this[h]("width")},set:function(t){if(t=(0,fr.toNumber)(t),this[f]("width",t)){var e=p(this);this[f]("d",e)}}},{key:"height",get:function(){return this[h]("height")},set:function(t){if(t=(0,fr.toNumber)(t),this[f]("height",t)){var e=p(this);this[f]("d",e)}}},{key:"size",get:function(){return[this.width,this.height]},set:function(t){t=(0,fr.toArray)(t),Array.isArray(t)||(t=[t,t]),this.width=t[0],this.height=t[1]}}]),a}(u.default);e.default=v}));r(qs);var js=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(lr),i=a(gr),o=a(mr),s=a(xr),u=a(pr),l=a(cr),c=a(Ds),f=a(fs),h=a(qs);function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,u.default)(t);if(e){var i=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var p=function(t){(0,o.default)(a,t);var e=d(a);function a(){return(0,r.default)(this,a),e.apply(this,arguments)}return(0,n.default)(a,[{key:"isVisible",get:function(){var t=this.attributes,e=t.width,r=t.height;return e>0&&r>0&&(0,i.default)((0,u.default)(a.prototype),"isVisible",this)}}]),a}(c.default);e.default=p,(0,l.default)(p,"Attr",h.default),f.default.registerNode(p,"rect")}));r(js);var Is=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.makeSmoothCurveLine=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];function n(e){var r,n,i,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.168,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.168;if(t[e].x!==t[e+1].x&&t[e].y!==t[e+1].y||(o=0,s=0),e<1?(r=t[0].x+(t[1].x-t[0].x)*o,n=t[0].y+(t[1].y-t[0].y)*o):(r=t[e].x+(t[e+1].x-t[e-1].x)*o,n=t[e].y+(t[e+1].y-t[e-1].y)*o),e>t.length-3){var u=t.length-1;i=t[u].x-(t[u].x-t[u-1].x)*s,a=t[u].y-(t[u].y-t[u-1].y)*s}else i=t[e+1].x-(t[e+2].x-t[e].x)*s,a=t[e+1].y-(t[e+2].y-t[e].y)*s;return[{x:r,y:n},{x:i,y:a}]}t=t.map((function(t){var e=(0,r.default)(t,2);return{x:e[0],y:e[1]}}));var i="",a=0;return t.forEach((function(t,o){if(0===o)i+="M".concat(t.x," ").concat(t.y);else{for(;o>e[a];)a++;if(a%2){var s=n(o-1),u=(0,r.default)(s,2),l=u[0],c=u[1];i+="C".concat([l.x,l.y,c.x,c.y,t.x,t.y].join(" "))}else i+="L".concat(t.x," ").concat(t.y)}})),i};var r=a(h);er.glMatrix.setMatrixArrayType(Array)}));r(Is),Is.makeSmoothCurveLine;var Ns=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(sr),n=a(ur),i=a(lr),o=a(mr),s=a(xr),u=a(pr),l=a(Ps);function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,u.default)(t);if(e){var i=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var f=Symbol.for("spritejs_setAttributeDefault"),h=Symbol.for("spritejs_setAttribute"),d=Symbol.for("spritejs_getAttribute"),p=Symbol.for("spritejs_declareAlias");function v(t){for(var e=t.points,r=t.smooth,n=t.smoothRange,i=t.close,a=[],o=0;o<e.length;o+=2)a.push([e[o],e[o+1]]);var s="";return r?s=(0,Is.makeSmoothCurveLine)(a,n):a.length&&(s="M".concat(a.map((function(t){return t.join(" ")})).join("L"))),s&&i&&(s+="Z"),s}var g=function(t){(0,o.default)(a,t);var e=c(a);function a(t){var r;return(0,n.default)(this,a),(r=e.call(this,t))[f]({points:[],smooth:!1,smoothRange:[0],closeType:"none"}),r[p]("close"),r}return(0,i.default)(a,[{key:"d",get:function(){return this[d]("d")},set:function(t){}},{key:"close",get:function(){return"none"!==this.closeType},set:function(t){t=t?"normal":"none",this.closeType=t}},{key:"closeType",get:function(){return this[d]("closeType")},set:function(t){if(null!=t&&"none"!==t&&"normal"!==t)throw new TypeError("Invalid closeType type.");if(this[h]("closeType",t)){var e=v(this);this[h]("d",e)}}},{key:"smooth",get:function(){return this[d]("smooth")},set:function(t){if(this[h]("smooth",t)){var e=v(this);this[h]("d",e)}}},{key:"smoothRange",get:function(){return this[d]("smoothRange")},set:function(t){if(t&&!Array.isArray(t)&&(t=[t]),this[h]("smoothRange",t)&&this.smooth){var e=v(this);this[h]("d",e)}}},{key:"points",get:function(){return this[d]("points")},set:function(t){if(t=(0,fr.toArray)(t),Array.isArray(t)&&(t=t.reduce((function(t,e){return Array.isArray(e)?[].concat((0,r.default)(t),(0,r.default)(e.map((function(t){return(0,fr.toNumber)(t)})))):[].concat((0,r.default)(t),[(0,fr.toNumber)(e)])}),[])),this[h]("points",t)){var e=v(this);this[h]("d",e)}}}]),a}(l.default);e.default=g}));r(Ns);var Fs=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(lr),i=a(gr),o=a(mr),s=a(xr),u=a(pr),l=a(cr),c=a(Ds),f=a(fs),h=a(Ns);function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,u.default)(t);if(e){var i=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var p=function(t){(0,o.default)(a,t);var e=d(a);function a(){return(0,r.default)(this,a),e.apply(this,arguments)}return(0,n.default)(a,[{key:"isVisible",get:function(){return this.attributes.points.length>0&&(0,i.default)((0,u.default)(a.prototype),"isVisible",this)}}]),a}(c.default);e.default=p,(0,l.default)(p,"Attr",h.default),f.default.registerNode(p,"polyline")}));r(Fs);var Us=n((function(t){function e(t,r,n,i){return e="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,r,n){var i,a=vr(t,e);if(a){if((i=Object.getOwnPropertyDescriptor(a,e)).set)return i.set.call(n,r),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(n,e)){if(!i.writable)return!1;i.value=r,Object.defineProperty(n,e,i)}else cr(n,e,r);return!0},e(t,r,n,i)}t.exports=function(t,r,n,i,a){if(!e(t,r,n,i||t)&&a)throw new Error("failed to set property");return n},t.exports.__esModule=!0,t.exports.default=t.exports}));r(Us);var Bs=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(lr),i=a(Us),o=a(gr),s=a(mr),u=a(xr),l=a(pr),c=a(h),f=a(Ns);function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,l.default)(t);if(e){var i=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var p=Symbol.for("spritejs_setAttributeDefault"),v=Symbol.for("spritejs_setAttribute"),g=Symbol.for("spritejs_getAttribute");function y(t){var e=(0,c.default)(t.sides,2),r=e[0],n=e[1],i=t.angle%360;return i<0&&(i+=360),i=Math.PI*i/180,[0,0,r,0,n*Math.cos(i),n*Math.sin(i)]}var m=function(t){(0,s.default)(a,t);var e=d(a);function a(t){var n;return(0,r.default)(this,a),(n=e.call(this,t))[p]({sides:[0,0],angle:60,closeType:"normal"}),n}return(0,n.default)(a,[{key:"points",get:function(){return(0,o.default)((0,l.default)(a.prototype),"points",this)},set:function(t){}},{key:"sides",get:function(){return this[g]("sides")},set:function(t){if(null==(t=(0,fr.toArray)(t,!0))||Array.isArray(t)||(t=[t,t]),this[v]("sides",t)){var e=y(this);(0,i.default)((0,l.default)(a.prototype),"points",e,this,!0)}}},{key:"angle",get:function(){return this[g]("angle")},set:function(t){if(t=(0,fr.toNumber)(t),this[v]("angle",t)){var e=y(this);(0,i.default)((0,l.default)(a.prototype),"points",e,this,!0)}}}]),a}(f.default);e.default=m}));r(Bs);var Vs=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(lr),i=a(gr),o=a(mr),s=a(xr),u=a(pr),l=a(cr),c=a(Fs),f=a(fs),h=a(Bs);function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,u.default)(t);if(e){var i=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var p=function(t){(0,o.default)(a,t);var e=d(a);function a(){return(0,r.default)(this,a),e.apply(this,arguments)}return(0,n.default)(a,[{key:"isVisible",get:function(){var t=this.attributes.sides;return t[0]>0&&t[1]>0&&(0,i.default)((0,u.default)(a.prototype),"isVisible",this)}}]),a}(c.default);e.default=p,(0,l.default)(p,"Attr",h.default),f.default.registerNode(p,"triangle")}));r(Vs);var zs=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(lr),i=a(Us),o=a(gr),s=a(mr),u=a(xr),l=a(pr),c=a(h),f=a(Ns);function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,l.default)(t);if(e){var i=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var p=Symbol.for("spritejs_setAttributeDefault"),v=Symbol.for("spritejs_setAttribute"),g=Symbol.for("spritejs_getAttribute");function y(t){var e=(0,c.default)(t.sides,2),r=e[0],n=e[1],i=t.angle%360;i<0&&(i+=360),i=Math.PI*i/180;var a=n*Math.cos(i),o=n*Math.sin(i);return[0,0,r,0,a+r,o,a,o]}var m=function(t){(0,s.default)(a,t);var e=d(a);function a(t){var n;return(0,r.default)(this,a),(n=e.call(this,t))[p]({sides:[0,0],angle:90,closeType:"normal"}),n}return(0,n.default)(a,[{key:"points",get:function(){return(0,o.default)((0,l.default)(a.prototype),"points",this)},set:function(t){}},{key:"sides",get:function(){return this[g]("sides")},set:function(t){if(null==(t=(0,fr.toArray)(t,!0))||Array.isArray(t)||(t=[t,t]),this[v]("sides",t)){var e=y(this);(0,i.default)((0,l.default)(a.prototype),"points",e,this,!0)}}},{key:"angle",get:function(){return this[g]("angle")},set:function(t){if(t=(0,fr.toNumber)(t),this[v]("angle",t)){var e=y(this);(0,i.default)((0,l.default)(a.prototype),"points",e,this,!0)}}}]),a}(f.default);e.default=m}));r(zs);var Gs=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(lr),i=a(gr),o=a(mr),s=a(xr),u=a(pr),l=a(cr),c=a(Fs),f=a(fs),h=a(zs);function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,u.default)(t);if(e){var i=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var p=function(t){(0,o.default)(a,t);var e=d(a);function a(){return(0,r.default)(this,a),e.apply(this,arguments)}return(0,n.default)(a,[{key:"isVisible",get:function(){var t=this.attributes.sides;return t[0]>0&&t[1]>0&&(0,i.default)((0,u.default)(a.prototype),"isVisible",this)}}]),a}(c.default);e.default=p,(0,l.default)(p,"Attr",h.default),f.default.registerNode(p,"parallel")}));r(Gs);var Hs=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(lr),i=a(Us),o=a(gr),s=a(mr),u=a(xr),l=a(pr),c=a(Ns);function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,l.default)(t);if(e){var i=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var h=Symbol.for("spritejs_setAttributeDefault"),d=Symbol.for("spritejs_setAttribute"),p=Symbol.for("spritejs_getAttribute");function v(t){var e=t.edges,r=t.radius,n=t.offsetAngle,i=Math.PI*n/180-.5*Math.PI;if(e<3||r<=0)return[];for(var a=[],o=0;o<e;o++){var s=2*o*Math.PI/e+i,u=r*Math.cos(s),l=r*Math.sin(s);a.push(u,l)}return a}var g=function(t){(0,s.default)(a,t);var e=f(a);function a(t){var n;return(0,r.default)(this,a),(n=e.call(this,t))[h]({edges:3,radius:0,offsetAngle:0,closeType:"normal"}),n}return(0,n.default)(a,[{key:"points",get:function(){return(0,o.default)((0,l.default)(a.prototype),"points",this)},set:function(t){}},{key:"edges",get:function(){return this[p]("edges")},set:function(t){if(t=(0,fr.toNumber)(t),this[d]("edges",t)){var e=v(this);(0,i.default)((0,l.default)(a.prototype),"points",e,this,!0)}}},{key:"radius",get:function(){return this[p]("radius")},set:function(t){if(t=(0,fr.toNumber)(t),this[d]("radius",t)){var e=v(this);(0,i.default)((0,l.default)(a.prototype),"points",e,this,!0)}}},{key:"offsetAngle",get:function(){return this[p]("offsetAngle")},set:function(t){if(t=(0,fr.toNumber)(t),this[d]("offsetAngle",t)){var e=v(this);(0,i.default)((0,l.default)(a.prototype),"points",e,this,!0)}}}]),a}(c.default);e.default=g}));r(Hs);var Ys=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(mr),i=a(xr),o=a(pr),s=a(cr),u=a(Fs),l=a(fs),c=a(Hs);function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,o.default)(t);if(e){var a=(0,o.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var h=function(t){(0,n.default)(i,t);var e=f(i);function i(){return(0,r.default)(this,i),e.apply(this,arguments)}return i}(u.default);e.default=h,(0,s.default)(h,"Attr",c.default),l.default.registerNode(h,"regular")}));r(Ys);var Ws=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(lr),i=a(Us),o=a(gr),s=a(mr),u=a(xr),l=a(pr),c=a(Ns);function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,l.default)(t);if(e){var i=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var h=Symbol.for("spritejs_setAttributeDefault"),d=Symbol.for("spritejs_setAttribute"),p=Symbol.for("spritejs_getAttribute");function v(t){var e=t.angles,r=t.innerRadius,n=t.outerRadius,i=t.offsetAngle,a=Math.PI*i/180-.5*Math.PI;if(e<3||r<=0||n<=0)return[];for(var o=[],s=0;s<2*e;s++){var u=s*Math.PI/e+a,l=s%2?r:n,c=l*Math.cos(u),f=l*Math.sin(u);o.push(c,f)}return o}var g=function(t){(0,s.default)(a,t);var e=f(a);function a(t){var n;return(0,r.default)(this,a),(n=e.call(this,t))[h]({angles:5,innerRadius:0,outerRadius:0,offsetAngle:0,closeType:"normal"}),n}return(0,n.default)(a,[{key:"points",get:function(){return(0,o.default)((0,l.default)(a.prototype),"points",this)},set:function(t){}},{key:"angles",get:function(){return this[p]("angles")},set:function(t){if(t=(0,fr.toNumber)(t),this[d]("angles",t)){var e=v(this);(0,i.default)((0,l.default)(a.prototype),"points",e,this,!0)}}},{key:"innerRadius",get:function(){return this[p]("innerRadius")},set:function(t){if(t=(0,fr.toNumber)(t),this[d]("innerRadius",t)){var e=v(this);(0,i.default)((0,l.default)(a.prototype),"points",e,this,!0)}}},{key:"outerRadius",get:function(){return this[p]("outerRadius")},set:function(t){if(t=(0,fr.toNumber)(t),this[d]("outerRadius",t)){var e=v(this);(0,i.default)((0,l.default)(a.prototype),"points",e,this,!0)}}},{key:"radius",get:function(){return[this.innerRadius,this.outerRadius]},set:function(t){t=(0,fr.toArray)(t,!0),Array.isArray(t)||(t=[t,t]),this.innerRadius=t[0],this.outerRadius=t[1]}},{key:"offsetAngle",get:function(){return this[p]("offsetAngle")},set:function(t){if(t=(0,fr.toNumber)(t),this[d]("offsetAngle",t)){var e=v(this);(0,i.default)((0,l.default)(a.prototype),"points",e,this,!0)}}}]),a}(c.default);e.default=g}));r(Ws);var Xs=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(mr),i=a(xr),o=a(pr),s=a(cr),u=a(Fs),l=a(fs),c=a(Ws);function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,o.default)(t);if(e){var a=(0,o.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var h=function(t){(0,n.default)(i,t);var e=f(i);function i(){return(0,r.default)(this,i),e.apply(this,arguments)}return i}(u.default);e.default=h,(0,s.default)(h,"Attr",c.default),l.default.registerNode(h,"star")}));r(Xs);var Js=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(lr),i=a(mr),s=a(xr),u=a(pr),l=a(Ps);function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,u.default)(t);if(e){var i=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var f=Symbol.for("spritejs_setAttributeDefault"),h=Symbol.for("spritejs_setAttribute"),d=Symbol.for("spritejs_getAttribute"),p=Symbol.for("spritejs_declareAlias");function v(t){var e=t.radiusX,r=t.radiusY,n=t.startAngle,i=t.endAngle,a=t.direction,s=t.closeType,u="anitclockwise"===a,l=new o.Figure2D;return"sector"===s&&l.moveTo(0,0),l.ellipse(0,0,e,r,0,Math.PI*n/180,Math.PI*i/180,u),"none"!==s&&l.closePath(),l.path.reduce((function(t,e){return t+e.join(" ")}),"")}var g=function(t){(0,i.default)(a,t);var e=c(a);function a(t){var n;return(0,r.default)(this,a),(n=e.call(this,t))[f]({radiusX:0,radiusY:0,startAngle:0,endAngle:360,direction:"clockwise",closeType:"none"}),n[p]("radius","angle"),n}return(0,n.default)(a,[{key:"d",get:function(){return this[d]("d")},set:function(t){}},{key:"radiusX",get:function(){return this[d]("radiusX")},set:function(t){if(t=(0,fr.toNumber)(t),this[h]("radiusX",t)){var e=v(this);this[h]("d",e)}}},{key:"radiusY",get:function(){return this[d]("radiusY")},set:function(t){if(t=(0,fr.toNumber)(t),this[h]("radiusY",t)){var e=v(this);this[h]("d",e)}}},{key:"radius",get:function(){return[this.radiusX,this.radiusY]},set:function(t){t=(0,fr.toArray)(t,!0),Array.isArray(t)||(t=[t,t]),this.radiusX=t[0],this.radiusY=t[1]}},{key:"angle",get:function(){return[this.startAngle,this.endAngle]},set:function(t){t=(0,fr.toArray)(t),Array.isArray(t)||(t=[t,t]),this.startAngle=t[0],this.endAngle=t[1]}},{key:"direction",get:function(){return this[d]("direction")},set:function(t){if(null!=t&&"clockwise"!==t&&"anticlockwise"!==t)throw new TypeError("Invalid direction type.");this[h]("direction",t)}},{key:"startAngle",get:function(){return this[d]("startAngle")},set:function(t){if(t=(0,fr.toNumber)(t),this[h]("startAngle",t)){var e=v(this);this[h]("d",e)}}},{key:"endAngle",get:function(){return this[d]("endAngle")},set:function(t){if(t=(0,fr.toNumber)(t),this[h]("endAngle",t)){var e=v(this);this[h]("d",e)}}},{key:"closeType",get:function(){return this[d]("closeType")},set:function(t){if(null!=t&&"none"!==t&&"sector"!==t&&"normal"!==t)throw new TypeError("Invalid closeType type.");if(this[h]("closeType",t)){var e=v(this);this[h]("d",e)}}}]),a}(l.default);e.default=g}));r(Js);var $s=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(lr),i=a(gr),o=a(mr),s=a(xr),u=a(pr),l=a(cr),c=a(Ds),f=a(fs),h=a(Js);function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,u.default)(t);if(e){var i=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var p=function(t){(0,o.default)(a,t);var e=d(a);function a(){return(0,r.default)(this,a),e.apply(this,arguments)}return(0,n.default)(a,[{key:"isVisible",get:function(){var t=this.attributes,e=t.radiusX,r=t.radiusY,n=t.startAngle,o=t.endAngle;return e>0&&r>0&&n!==o&&(0,i.default)((0,u.default)(a.prototype),"isVisible",this)}}]),a}(c.default);e.default=p,(0,l.default)(p,"Attr",h.default),f.default.registerNode(p,"ellipse")}));r($s);var Zs=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(lr),i=a(Us),o=a(gr),s=a(mr),u=a(xr),l=a(pr),c=a(Js);function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,l.default)(t);if(e){var i=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var h=function(t){(0,s.default)(a,t);var e=f(a);function a(){return(0,r.default)(this,a),e.apply(this,arguments)}return(0,n.default)(a,[{key:"radius",get:function(){return(0,o.default)((0,l.default)(a.prototype),"radiusX",this)},set:function(t){t=(0,fr.toNumber)(t),(0,i.default)((0,l.default)(a.prototype),"radiusX",t,this,!0),(0,i.default)((0,l.default)(a.prototype),"radiusY",t,this,!0)}}]),a}(c.default);e.default=h}));r(Zs);var Qs=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(mr),i=a(xr),o=a(pr),s=a(cr),u=a($s),l=a(fs),c=a(Zs);function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,o.default)(t);if(e){var a=(0,o.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var h=function(t){(0,n.default)(i,t);var e=f(i);function i(){return(0,r.default)(this,i),e.apply(this,arguments)}return i}(u.default);e.default=h,(0,s.default)(h,"Attr",c.default),l.default.registerNode(h,"arc")}));r(Qs);var Ks=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(lr),i=a(mr),s=a(xr),u=a(pr),l=a(Ps);function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,u.default)(t);if(e){var i=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var f=Symbol.for("spritejs_setAttributeDefault"),h=Symbol.for("spritejs_setAttribute"),d=Symbol.for("spritejs_getAttribute"),p=Symbol.for("spritejs_declareAlias");function v(t){var e=t.innerRadius,r=t.outerRadius,n=t.startAngle,i=t.endAngle,a=new o.Figure2D;if(n=Math.PI*n/180,i=Math.PI*i/180,e>r){var s=[r,e];e=s[0],r=s[1]}if(e<=0&&a.moveTo(0,0),a.arc(0,0,r,n,i,!1),e>0){var u=2*Math.PI;i<n&&(i=n+u+(i-n)%u),i-n>=u&&(i=n+u-1e-6),a.arc(0,0,e,i,n,!0)}return a.closePath(),a.path.reduce((function(t,e){return t+e.join(" ")}),"")}var g=function(t){(0,i.default)(a,t);var e=c(a);function a(t){var n;return(0,r.default)(this,a),(n=e.call(this,t))[f]({innerRadius:0,outerRadius:0,startAngle:0,endAngle:360}),n[p]("radius","angle"),n}return(0,n.default)(a,[{key:"d",get:function(){return this[d]("d")},set:function(t){}},{key:"innerRadius",get:function(){return this[d]("innerRadius")},set:function(t){if(t=(0,fr.toNumber)(t),this[h]("innerRadius",t)){var e=v(this);this[h]("d",e)}}},{key:"outerRadius",get:function(){return this[d]("outerRadius")},set:function(t){if(t=(0,fr.toNumber)(t),this[h]("outerRadius",t)){var e=v(this);this[h]("d",e)}}},{key:"radius",get:function(){return[this.innerRadius,this.outerRadius]},set:function(t){t=(0,fr.toArray)(t,!0),Array.isArray(t)||(t=[t,t]),this.innerRadius=t[0],this.outerRadius=t[1]}},{key:"startAngle",get:function(){return this[d]("startAngle")},set:function(t){if(t=(0,fr.toNumber)(t),this[h]("startAngle",t)){var e=v(this);this[h]("d",e)}}},{key:"endAngle",get:function(){return this[d]("endAngle")},set:function(t){if(t=(0,fr.toNumber)(t),this[h]("endAngle",t)){var e=v(this);this[h]("d",e)}}},{key:"angle",get:function(){return[this.startAngle,this.endAngle]},set:function(t){t=(0,fr.toArray)(t),Array.isArray(t)||(t=[t,t]),this.startAngle=t[0],this.endAngle=t[1]}}]),a}(l.default);e.default=g}));r(Ks);var tu=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(lr),i=a(gr),o=a(mr),s=a(xr),u=a(pr),l=a(cr),c=a(Ds),f=a(fs),h=a(Ks);function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,u.default)(t);if(e){var i=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var p=function(t){(0,o.default)(a,t);var e=d(a);function a(){return(0,r.default)(this,a),e.apply(this,arguments)}return(0,n.default)(a,[{key:"isVisible",get:function(){var t=this.attributes,e=t.innerRadius,r=t.outerRadius,n=t.startAngle,o=t.endAngle;return(e>0||r>0)&&n!==o&&(0,i.default)((0,u.default)(a.prototype),"isVisible",this)}}]),a}(c.default);e.default=p,(0,l.default)(p,"Attr",h.default),f.default.registerNode(p,"ring")}));r(tu);var eu=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(lr),i=a(mr),s=a(xr),u=a(pr),l=a(Ss);function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,u.default)(t);if(e){var i=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var f=Symbol.for("spritejs_setAttributeDefault"),h=Symbol.for("spritejs_setAttribute"),d=Symbol.for("spritejs_getAttribute"),p=Symbol.for("spritejs_declareAlias"),v=function(t){(0,i.default)(a,t);var e=c(a);function a(t){var n;return(0,r.default)(this,a),(n=e.call(this,t))[f]({text:"",fontSize:16,fontFamily:"Helvetica,Arial,sans-serif",fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",fontStretch:"normal",lineHeight:"",textAlign:"left",strokeColor:void 0,strokeWidth:1,fillColor:void 0,verticalAlign:"middle"}),n[p]("font"),n}return(0,n.default)(a,[{key:"text",get:function(){return this[d]("text")||" "},set:function(t){this[h]("text",t)}},{key:"fontSize",get:function(){return this[d]("fontSize")},set:function(t){this[h]("fontSize",(0,fr.toNumber)(t))}},{key:"fontFamily",get:function(){return this[d]("fontFamily")},set:function(t){this[h]("fontFamily",t)}},{key:"fontStyle",get:function(){return this[d]("fontStyle")},set:function(t){this[h]("fontStyle",t)}},{key:"fontVariant",get:function(){return this[d]("fontVariant")},set:function(t){this[h]("fontVariant",t)}},{key:"fontWeight",get:function(){return this[d]("fontWeight")},set:function(t){this[h]("fontWeight",t)}},{key:"fontStretch",get:function(){return this[d]("fontStretch")},set:function(t){this[h]("fontStretch",t)}},{key:"lineHeight",get:function(){return this[d]("lineHeight")||this.fontSize},set:function(t){this[h]("lineHeight",(0,fr.toNumber)(t))}},{key:"textAlign",get:function(){return this[d]("textAlign")},set:function(t){this[h]("textAlign",t)}},{key:"strokeColor",get:function(){return this[d]("strokeColor")},set:function(t){this[h]("strokeColor",(0,_s.parseColor)(t))}},{key:"strokeWidth",get:function(){return this[d]("strokeWidth")},set:function(t){this[h]("strokeWidth",(0,fr.toNumber)(t))}},{key:"verticalAlign",get:function(){return this[d]("verticalAlign")},set:function(t){this[h]("verticalAlign",t)}},{key:"fillColor",get:function(){return this[d]("fillColor")},set:function(t){this[h]("fillColor",(0,_s.parseColor)(t))}},{key:"font",get:function(){var t=this.fontStyle,e=this.fontVariant,r=this.fontWeight,n=this.fontStretch,i=this.fontSize,a=this.lineHeight,o=this.fontFamily;return"".concat(t," ").concat(e," ").concat(r," ").concat(n," ").concat(i,"px/").concat(a,"px ").concat(o)},set:function(t){if(null==t)this.fontStyle=null,this.fontVariant=null,this.fontWeight=null,this.fontStretch=null,this.fontSize=null,this.lineHeight=null,this.fontFamily=null;else{var e=(0,o.parseFont)(t);this.fontStyle=e.style,this.fontVariant=e.variant,this.fontWeight=e.weight,this.fontStretch=e.stretch,this.fontSize=(0,fr.toNumber)("".concat(e.size).concat(e.unit)),e.lineHeight&&(this.lineHeight=e.pxLineHeight),this.fontFamily=e.family}}}]),a}(l.default);e.default=v}));r(eu);var ru=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(h),n=a(ur),i=a(lr),s=a(gr),u=a(mr),l=a(xr),c=a(pr),f=a(cr),d=a(Ts),p=a(eu),v=a(fs);function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,c.default)(t);if(e){var i=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var y=Symbol("textImage"),m=Symbol("textImageTask"),b=Symbol("textureContext"),x=Symbol("updateTextureRect"),M=Symbol("textCanvas"),w=function(t){(0,u.default)(a,t);var e=g(a);function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.default)(this,a),"string"==typeof t&&(t={text:t}),e.call(this,t)}return(0,i.default)(a,[{key:"draw",value:function(t){(0,s.default)((0,c.default)(a.prototype),"draw",this).call(this,t);var e=this.mesh;if(e){var n=this[y];if(n){var i=e.texture;if(!i||this[b]&&this[b]!==this.renderer||n.needsUpdate?(n.needsUpdate=!1,(0,bs.deleteTexture)(n.image,this.renderer),i=(0,bs.createTexture)(n.image,this.renderer),this[x]=!0):i=e.uniforms.u_texSampler,this[x]){var o=n.rect.slice(2),u=(0,r.default)(o,2),l=u[0],f=u[1],h=(0,r.default)(this.contentSize,2),d=h[0];h[1];var p=this.attributes.textAlign,v=this.attributes.verticalAlign,g=0;"center"===p?g=(d-l)/2:"right"!==p&&"end"!==p||(g=d-l);var m=this.attributes.fontSize,M=this.attributes.lineHeight,w=0;"top"===v?w=(m-M)/2:"bottom"===v&&(w=(M-m)/2);var A=this.attributes,k=A.paddingLeft,_=A.paddingTop,S=this.attributes.borderWidth;g+=k+S,w+=_+S;var E=this.attributes,R=E.anchorX,T=E.anchorY;g-=this.clientSize[0]*R,w-=this.clientSize[1]*T,e.setTexture(i,{rect:[g,w,l,f]}),this[x]=!1,this[b]=this.renderer}}}return t}},{key:"onPropertyChange",value:function(t,e,r){"text"===t||"fontSize"===t||"fontFamily"===t||"fontStyle"===t||"fontVariant"===t||"fontWeight"===t||"fontStretch"===t||"lineHeight"===t||"strokeColor"===t||"fillColor"===t||"strokeWidth"===t?this.updateText():("textAlign"!==t&&"verticalAlign"!==t||(this[x]=!0),(0,s.default)((0,c.default)(a.prototype),"onPropertyChange",this).call(this,t,e,r))}},{key:"updateContours",value:function(){(0,s.default)((0,c.default)(a.prototype),"updateContours",this).call(this),this[x]=!0}},{key:"updateText",value:function(){var t=this;this[m]||(this[m]=Promise.resolve().then((function(){t[m]=null;var e=t.attributes,r=e.text,n=e.font,i=e.fillColor,a=e.strokeColor,s=e.strokeWidth,u=t.layer?t.layer.displayRatio:1;return t[M]=t[M]||o.ENV.createCanvas(1,1),t[y]=o.ENV.createText(r,{font:n,fillColor:i,strokeColor:a,strokeWidth:s,parseFont:o.parseFont,ratio:u,textCanvas:t[M]}),t[y].needsUpdate=!0,t.updateContours(),t.forceUpdate(),t[y]})))}},{key:"contentSize",get:function(){var t=(0,s.default)((0,c.default)(a.prototype),"contentSize",this),e=(0,r.default)(t,2),n=e[0],i=e[1],o=this.attributes,u=o.width,l=o.height;if(null==u||null==l){var f=this[y];f&&(null==u&&(n=f.rect[2]),null==l&&(i=f.rect[3]))}return[n,i]}},{key:"text",get:function(){return this.attributes.text},set:function(t){this.attributes.text=t}},{key:"textContent",get:function(){return this.attributes.text},set:function(t){this.attributes.text=t}},{key:"textImage",get:function(){return this[y]||{}}},{key:"textImageReady",get:function(){return this[m]||Promise.resolve()}}]),a}(d.default);e.default=w,(0,f.default)(w,"Attr",p.default),v.default.registerNode(w,"label")}));r(ru);var nu=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(mr),i=a(xr),o=a(pr),s=a(Ss);function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,o.default)(t);if(e){var a=(0,o.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var l=function(t){(0,n.default)(i,t);var e=u(i);function i(){return(0,r.default)(this,i),e.apply(this,arguments)}return i}(s.default);e.default=l}));r(nu);var iu,au="text",ou="cdata",su=function(t){return"tag"===t.type||"script"===t.type||"style"===t.type};!function(t){t.Root="root",t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"}(iu||(iu={}));const uu=iu.Root,lu=iu.Text,cu=iu.Directive,fu=iu.Comment,hu=iu.Script,du=iu.Style,pu=iu.Tag,vu=iu.CDATA,gu=iu.Doctype;var yu=Object.freeze({__proto__:null,get ElementType(){return iu},isTag:function(t){return t.type===iu.Tag||t.type===iu.Script||t.type===iu.Style},Root:uu,Text:lu,Directive:cu,Comment:fu,Script:hu,Style:du,Tag:pu,CDATA:vu,Doctype:gu}),mu={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"",in:"",infin:"",infintie:"",inodot:"",intcal:"",int:"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""},bu=Object.freeze({__proto__:null,Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"",infin:"",infintie:"",inodot:"",intcal:"",int:"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:"",default:mu}),xu={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",amp:"&",AMP:"&",Aring:"",aring:"",Atilde:"",atilde:"",Auml:"",auml:"",brvbar:"",Ccedil:"",ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",ETH:"",eth:"",Euml:"",euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",iquest:"",Iuml:"",iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",Ntilde:"",ntilde:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",Ograve:"",ograve:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",Ouml:"",ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",THORN:"",thorn:"",times:"",Uacute:"",uacute:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",Uuml:"",uuml:"",Yacute:"",yacute:"",yen:"",yuml:""},Mu=Object.freeze({__proto__:null,Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",amp:"&",AMP:"&",Aring:"",aring:"",Atilde:"",atilde:"",Auml:"",auml:"",brvbar:"",Ccedil:"",ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",ETH:"",eth:"",Euml:"",euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",iquest:"",Iuml:"",iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",Ntilde:"",ntilde:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",Ograve:"",ograve:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",Ouml:"",ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",THORN:"",thorn:"",times:"",Uacute:"",uacute:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",Uuml:"",uuml:"",Yacute:"",yacute:"",yen:"",yuml:"",default:xu}),wu={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'},Au=Object.freeze({__proto__:null,amp:"&",apos:"'",gt:">",lt:"<",quot:'"',default:wu}),ku=i(Object.freeze({__proto__:null,default:{0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}})),_u=n((function(t,r){var n=e&&e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var i=n(ku),a=String.fromCodePoint||function(t){var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t)};r.default=function(t){return t>=55296&&t<=57343||t>1114111?"":(t in i.default&&(t=i.default[t]),a(t))}}));r(_u);var Su=i(bu),Eu=i(Mu),Ru=i(Au),Tu=_u,Ou=n((function(t,r){var n=e&&e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.decodeHTML=r.decodeHTMLStrict=r.decodeXML=void 0;var i=n(Su),a=n(Eu),o=n(Ru),s=n(Tu),u=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function l(t){var e=f(t);return function(t){return String(t).replace(u,e)}}r.decodeXML=l(o.default),r.decodeHTMLStrict=l(i.default);var c=function(t,e){return t<e?1:-1};function f(t){return function(e){if("#"===e.charAt(1)){var r=e.charAt(2);return"X"===r||"x"===r?s.default(parseInt(e.substr(3),16)):s.default(parseInt(e.substr(2),10))}return t[e.slice(1,-1)]||e}}r.decodeHTML=function(){for(var t=Object.keys(a.default).sort(c),e=Object.keys(i.default).sort(c),r=0,n=0;r<e.length;r++)t[n]===e[r]?(e[r]+=";?",n++):e[r]+=";";var o=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=f(i.default);function u(t){return";"!==t.substr(-1)&&(t+=";"),s(t)}return function(t){return String(t).replace(o,u)}}()}));r(Ou),Ou.decodeHTML,Ou.decodeHTMLStrict,Ou.decodeXML;var Cu=n((function(t,r){var n=e&&e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.escapeUTF8=r.escape=r.encodeNonAsciiHTML=r.encodeHTML=r.encodeXML=void 0;var i=u(n(Ru).default),a=l(i);r.encodeXML=p(i);var o=u(n(Su).default),s=l(o);function u(t){return Object.keys(t).sort().reduce((function(e,r){return e[t[r]]="&"+r+";",e}),{})}function l(t){for(var e=[],r=[],n=0,i=Object.keys(t);n<i.length;n++){var a=i[n];1===a.length?e.push("\\"+a):r.push(a)}e.sort();for(var o=0;o<e.length-1;o++){for(var s=o;s<e.length-1&&e[s].charCodeAt(1)+1===e[s+1].charCodeAt(1);)s+=1;var u=1+s-o;u<3||e.splice(o,u,e[o]+"-"+e[s])}return r.unshift("["+e.join("")+"]"),new RegExp(r.join("|"),"g")}r.encodeHTML=function(t,e){return function(r){return r.replace(e,(function(e){return t[e]})).replace(c,h)}}(o,s),r.encodeNonAsciiHTML=p(o);var c=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,f=null!=String.prototype.codePointAt?function(t){return t.codePointAt(0)}:function(t){return 1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)-56320+65536};function h(t){return"&#x"+(t.length>1?f(t):t.charCodeAt(0)).toString(16).toUpperCase()+";"}var d=new RegExp(a.source+"|"+c.source,"g");function p(t){return function(e){return e.replace(d,(function(e){return t[e]||h(e)}))}}r.escape=function(t){return t.replace(d,h)},r.escapeUTF8=function(t){return t.replace(a,h)}}));r(Cu),Cu.escapeUTF8,Cu.escape,Cu.encodeNonAsciiHTML,Cu.encodeHTML,Cu.encodeXML;var Lu=Ou,Pu=Cu,Du=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.decodeXMLStrict=e.decodeHTML5Strict=e.decodeHTML4Strict=e.decodeHTML5=e.decodeHTML4=e.decodeHTMLStrict=e.decodeHTML=e.decodeXML=e.encodeHTML5=e.encodeHTML4=e.escapeUTF8=e.escape=e.encodeNonAsciiHTML=e.encodeHTML=e.encodeXML=e.encode=e.decodeStrict=e.decode=void 0,e.decode=function(t,e){return(!e||e<=0?Lu.decodeXML:Lu.decodeHTML)(t)},e.decodeStrict=function(t,e){return(!e||e<=0?Lu.decodeXML:Lu.decodeHTMLStrict)(t)},e.encode=function(t,e){return(!e||e<=0?Pu.encodeXML:Pu.encodeHTML)(t)};var r=Pu;Object.defineProperty(e,"encodeXML",{enumerable:!0,get:function(){return r.encodeXML}}),Object.defineProperty(e,"encodeHTML",{enumerable:!0,get:function(){return r.encodeHTML}}),Object.defineProperty(e,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return r.encodeNonAsciiHTML}}),Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return r.escape}}),Object.defineProperty(e,"escapeUTF8",{enumerable:!0,get:function(){return r.escapeUTF8}}),Object.defineProperty(e,"encodeHTML4",{enumerable:!0,get:function(){return r.encodeHTML}}),Object.defineProperty(e,"encodeHTML5",{enumerable:!0,get:function(){return r.encodeHTML}});var n=Lu;Object.defineProperty(e,"decodeXML",{enumerable:!0,get:function(){return n.decodeXML}}),Object.defineProperty(e,"decodeHTML",{enumerable:!0,get:function(){return n.decodeHTML}}),Object.defineProperty(e,"decodeHTMLStrict",{enumerable:!0,get:function(){return n.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML4",{enumerable:!0,get:function(){return n.decodeHTML}}),Object.defineProperty(e,"decodeHTML5",{enumerable:!0,get:function(){return n.decodeHTML}}),Object.defineProperty(e,"decodeHTML4Strict",{enumerable:!0,get:function(){return n.decodeHTMLStrict}}),Object.defineProperty(e,"decodeHTML5Strict",{enumerable:!0,get:function(){return n.decodeHTMLStrict}}),Object.defineProperty(e,"decodeXMLStrict",{enumerable:!0,get:function(){return n.decodeXML}})}));r(Du),Du.decodeXMLStrict,Du.decodeHTML5Strict,Du.decodeHTML4Strict,Du.decodeHTML5,Du.decodeHTML4,Du.decodeHTMLStrict,Du.decodeHTML,Du.decodeXML,Du.encodeHTML5,Du.encodeHTML4,Du.escapeUTF8,Du.escape,Du.encodeNonAsciiHTML,Du.encodeHTML,Du.encodeXML,Du.encode,Du.decodeStrict,Du.decode;var qu={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},ju={definitionurl:"definitionURL",attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},Iu={elementNames:qu,attributeNames:ju},Nu=Du,Fu=i(Object.freeze({__proto__:null,elementNames:qu,attributeNames:ju,default:Iu})),Uu=n((function(t){Fu.elementNames.__proto__=null,Fu.attributeNames.__proto__=null;var e={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};var r={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},n=t.exports=function(t,e){Array.isArray(t)||t.cheerio||(t=[t]),e=e||{};for(var r="",i=0;i<t.length;i++){var c=t[i];"root"===c.type?r+=n(c.children,e):yu.isTag(c)?r+=a(c,e):c.type===yu.Directive?r+=o(c):c.type===yu.Comment?r+=l(c):c.type===yu.CDATA?r+=u(c):r+=s(c,e)}return r},i=["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"];function a(t,e){"foreign"===e.xmlMode&&(t.name=Fu.elementNames[t.name]||t.name,t.parent&&i.indexOf(t.parent.name)>=0&&(e=Object.assign({},e,{xmlMode:!1}))),!e.xmlMode&&["svg","math"].indexOf(t.name)>=0&&(e=Object.assign({},e,{xmlMode:"foreign"}));var a="<"+t.name,o=function(t,e){if(t){var r,n="";for(var i in t)r=t[i],n&&(n+=" "),"foreign"===e.xmlMode&&(i=Fu.attributeNames[i]||i),n+=i,(null!==r&&""!==r||e.xmlMode)&&(n+='="'+(e.decodeEntities?Nu.encodeXML(r):r.replace(/\"/g,"&quot;"))+'"');return n}}(t.attribs,e);return o&&(a+=" "+o),!e.xmlMode||t.children&&0!==t.children.length?(a+=">",t.children&&(a+=n(t.children,e)),r[t.name]&&!e.xmlMode||(a+="</"+t.name+">")):a+="/>",a}function o(t){return"<"+t.data+">"}function s(t,r){var n=t.data||"";return!r.decodeEntities||t.parent&&t.parent.name in e||(n=Nu.encodeXML(n)),n}function u(t){return"<![CDATA["+t.children[0].data+"]]>"}function l(t){return"\x3c!--"+t.data+"--\x3e"}})),Bu=su,Vu={getInnerHTML:function(t,e){return t.children?t.children.map((function(t){return Uu(t,e)})).join(""):""},getOuterHTML:Uu,getText:function t(e){return Array.isArray(e)?e.map(t).join(""):Bu(e)?"br"===e.name?"\n":t(e.children):e.type===ou?t(e.children):e.type===au?e.data:""}};Vu.getInnerHTML,Vu.getOuterHTML,Vu.getText;var zu=n((function(t,e){var r=e.getChildren=function(t){return t.children},n=e.getParent=function(t){return t.parent};e.getSiblings=function(t){var e=n(t);return e?r(e):[t]},e.getAttributeValue=function(t,e){return t.attribs&&t.attribs[e]},e.hasAttrib=function(t,e){return!!t.attribs&&hasOwnProperty.call(t.attribs,e)},e.getName=function(t){return t.name}}));zu.getChildren,zu.getParent,zu.getSiblings,zu.getAttributeValue,zu.hasAttrib,zu.getName;var Gu={removeElement:function(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children;e.splice(e.lastIndexOf(t),1)}},replaceElement:function(t,e){var r=e.prev=t.prev;r&&(r.next=e);var n=e.next=t.next;n&&(n.prev=e);var i=e.parent=t.parent;if(i){var a=i.children;a[a.lastIndexOf(t)]=e}},appendChild:function(t,e){if(e.parent=t,1!==t.children.push(e)){var r=t.children[t.children.length-2];r.next=e,e.prev=r,e.next=null}},append:function(t,e){var r=t.parent,n=t.next;if(e.next=n,e.prev=t,t.next=e,e.parent=r,n){if(n.prev=e,r){var i=r.children;i.splice(i.lastIndexOf(n),0,e)}}else r&&r.children.push(e)},prepend:function(t,e){var r=t.parent;if(r){var n=r.children;n.splice(n.lastIndexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=r,e.prev=t.prev,e.next=t,t.prev=e}},Hu=su,Yu={filter:function(t,e,r,n){Array.isArray(e)||(e=[e]);"number"==typeof n&&isFinite(n)||(n=1/0);return Wu(t,e,!1!==r,n)},find:Wu,findOneChild:function(t,e){for(var r=0,n=e.length;r<n;r++)if(t(e[r]))return e[r];return null},findOne:function t(e,r){for(var n=null,i=0,a=r.length;i<a&&!n;i++)Hu(r[i])&&(e(r[i])?n=r[i]:r[i].children.length>0&&(n=t(e,r[i].children)));return n},existsOne:function t(e,r){for(var n=0,i=r.length;n<i;n++)if(Hu(r[n])&&(e(r[n])||r[n].children.length>0&&t(e,r[n].children)))return!0;return!1},findAll:function(t,e){var r=[],n=e.slice();for(;n.length;){var i=n.shift();Hu(i)&&(i.children&&i.children.length>0&&n.unshift.apply(n,i.children),t(i)&&r.push(i))}return r}};function Wu(t,e,r,n){for(var i,a=[],o=0,s=e.length;o<s&&!(t(e[o])&&(a.push(e[o]),--n<=0))&&(i=e[o].children,!(r&&i&&i.length>0&&(i=Wu(t,i,r,n),a=a.concat(i),(n-=i.length)<=0)));o++);return a}Yu.filter,Yu.find,Yu.findOneChild,Yu.findOne,Yu.existsOne,Yu.findAll;var Xu=n((function(t,e){var r=e.isTag=su;e.testElement=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){if("tag_name"===n){if(!r(e)||!t.tag_name(e.name))return!1}else if("tag_type"===n){if(!t.tag_type(e.type))return!1}else if("tag_contains"===n){if(r(e)||!t.tag_contains(e.data))return!1}else if(!e.attribs||!t[n](e.attribs[n]))return!1}else;return!0};var n={tag_name:function(t){return"function"==typeof t?function(e){return r(e)&&t(e.name)}:"*"===t?r:function(e){return r(e)&&e.name===t}},tag_type:function(t){return"function"==typeof t?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return"function"==typeof t?function(e){return!r(e)&&t(e.data)}:function(e){return!r(e)&&e.data===t}}};function i(t,e){return"function"==typeof e?function(r){return r.attribs&&e(r.attribs[t])}:function(r){return r.attribs&&r.attribs[t]===e}}function a(t,e){return function(r){return t(r)||e(r)}}e.getElements=function(t,e,r,o){var s=Object.keys(t).map((function(e){var r=t[e];return e in n?n[e](r):i(e,r)}));return 0===s.length?[]:this.filter(s.reduce(a),e,r,o)},e.getElementById=function(t,e,r){return Array.isArray(e)||(e=[e]),this.findOne(i("id",t),e,!1!==r)},e.getElementsByTagName=function(t,e,r,i){return this.filter(n.tag_name(t),e,r,i)},e.getElementsByTagType=function(t,e,r,i){return this.filter(n.tag_type(t),e,r,i)}}));Xu.isTag,Xu.testElement,Xu.getElements,Xu.getElementById,Xu.getElementsByTagName,Xu.getElementsByTagType;var Ju=n((function(t,e){e.removeSubsets=function(t){for(var e,r,n,i=t.length;--i>-1;){for(e=r=t[i],t[i]=null,n=!0;r;){if(t.indexOf(r)>-1){n=!1,t.splice(i,1);break}r=r.parent}n&&(t[i]=e)}return t};var r=1,n=2,i=4,a=8,o=16,s=e.compareDocumentPosition=function(t,e){var s,u,l,c,f,h,d=[],p=[];if(t===e)return 0;for(s=t;s;)d.unshift(s),s=s.parent;for(s=e;s;)p.unshift(s),s=s.parent;for(h=0;d[h]===p[h];)h++;return 0===h?r:(l=(u=d[h-1]).children,c=d[h],f=p[h],l.indexOf(c)>l.indexOf(f)?u===e?i|o:i:u===t?n|a:n)};e.uniqueSort=function(t){var e,r,a=t.length;for(t=t.slice();--a>-1;)e=t[a],(r=t.indexOf(e))>-1&&r<a&&t.splice(a,1);return t.sort((function(t,e){var r=s(t,e);return r&n?-1:r&i?1:0})),t}}));Ju.removeSubsets,Ju.compareDocumentPosition,Ju.uniqueSort;var $u=n((function(t){var e=t.exports;[Vu,zu,Gu,Yu,Xu,Ju].forEach((function(t){Object.keys(t).forEach((function(r){e[r]=t[r].bind(e)}))}))})),Zu=function(){return!0},Qu=function(){return!1},Ku=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var r=[];if(""!==(t=p(r,""+t,e)))throw new Error("Unmatched selector: "+t);return r};var r=/^[^\\]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,n=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,i=/^\s*((?:\\.|[\w\u00b0-\uFFFF-])+)\s*(?:(\S?)=\s*(?:(['"])((?:[^\\]|\\[^])*?)\3|(#?(?:\\.|[\w\u00b0-\uFFFF-])*)|)|)\s*(i)?\]/,a={undefined:"exists","":"equals","~":"element","^":"start",$:"end","*":"any","!":"not","|":"hyphen"},o={">":"child","<":"parent","~":"sibling","+":"adjacent"},s={"#":["id","equals"],".":["class","element"]},u=new Set(["has","not","matches","is","host","host-context"]),l=new Set(["contains","icontains"]),c=new Set(['"',"'"]);function f(t,e,r){var n=parseInt(e,16)-65536;return n!=n||r?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)}function h(t){return t.replace(n,f)}function d(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function p(t,e,n){var f,g;void 0===n&&(n={});var y=[],m=!1;function b(){var t=e.match(r);if(!t)throw new Error("Expected name, found "+e);var n=t[0];return e=e.substr(n.length),h(n)}function x(t){for(;d(e.charAt(t));)t++;e=e.substr(t)}function M(t){for(var r=0;"\\"===e.charAt(--t);)r++;return 1==(1&r)}for(x(0);""!==e;){var w=e.charAt(0);if(d(w))m=!0,x(1);else if(w in o)y.push({type:o[w]}),m=!1,x(1);else if(","===w){if(0===y.length)throw new Error("Empty sub-selector");t.push(y),y=[],m=!1,x(1)}else if(m&&(y.length>0&&y.push({type:"descendant"}),m=!1),"*"===w)e=e.substr(1),y.push({type:"universal"});else if(w in s){var A=s[w],k=A[0],_=A[1];e=e.substr(1),y.push({type:"attribute",name:k,action:_,value:b(),ignoreCase:!1})}else if("["===w){var S=(e=e.substr(1)).match(i);if(!S)throw new Error("Malformed attribute selector: "+e);var E=S[0],R=S[1],T=S[2],O=S[4],C=void 0===O?"":O,L=S[5],P=void 0===L?C:L,D=S[6];e=e.substr(E.length);var q=h(R);(null!==(f=n.lowerCaseAttributeNames)&&void 0!==f?f:!n.xmlMode)&&(q=q.toLowerCase()),y.push({type:"attribute",name:q,action:a[T],value:h(P),ignoreCase:!!D})}else if(":"===w){if(":"===e.charAt(1)){e=e.substr(2),y.push({type:"pseudo-element",name:b().toLowerCase()});continue}e=e.substr(1);var j=b().toLowerCase(),I=null;if(e.startsWith("("))if(u.has(j)){var N=e.charAt(1),F=c.has(N);if(e=p(I=[],e=e.substr(F?2:1),n),F){if(!e.startsWith(N))throw new Error("Unmatched quotes in :"+j);e=e.substr(1)}if(!e.startsWith(")"))throw new Error("Missing closing parenthesis in :"+j+" ("+e+")");e=e.substr(1)}else{for(var U=1,B=1;B>0&&U<e.length;U++)"("!==e.charAt(U)||M(U)?")"!==e.charAt(U)||M(U)||B--:B++;if(B)throw new Error("Parenthesis not matched");if(I=e.substr(1,U-2),e=e.substr(U),l.has(j))(N=I.charAt(0))===I.slice(-1)&&c.has(N)&&(I=I.slice(1,-1)),I=h(I)}y.push({type:"pseudo",name:j,data:I})}else{if(!r.test(e))return y.length&&"descendant"===y[y.length-1].type&&y.pop(),v(t,y),e;var V=b();(null!==(g=n.lowerCaseTags)&&void 0!==g?g:!n.xmlMode)&&(V=V.toLowerCase()),y.push({type:"tag",name:V})}}return v(t,y),e}function v(t,e){if(t.length>0&&0===e.length)throw new Error("Empty sub-selector");t.push(e)}}));r(Ku);var tl=n((function(t,r){var n=e&&e.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n};Object.defineProperty(r,"__esModule",{value:!0});var i={equals:"",element:"~",start:"^",end:"$",any:"*",not:"!",hyphen:"|"},a=new Set(n(Object.keys(i).map((function(t){return i[t]})).filter(Boolean),[":","[","]"," ","\\"]));function o(t){return t.map(s).join(", ")}function s(t){return t.map(u).join("")}function u(t){switch(t.type){case"child":return" > ";case"parent":return" < ";case"sibling":return" ~ ";case"adjacent":return" + ";case"descendant":return" ";case"universal":return"*";case"tag":return l(t.name);case"pseudo-element":return"::"+l(t.name);case"pseudo":return null===t.data?":"+l(t.name):"string"==typeof t.data?":"+l(t.name)+"("+t.data+")":":"+l(t.name)+"("+o(t.data)+")";case"attribute":return"exists"===t.action?"["+l(t.name)+"]":"id"!==t.name||"equals"!==t.action||t.ignoreCase?"class"!==t.name||"element"!==t.action||t.ignoreCase?"["+l(t.name)+i[t.action]+"='"+l(t.value)+"'"+(t.ignoreCase?"i":"")+"]":"."+l(t.value):"#"+l(t.value)}}function l(t){return t.split("").map((function(t){return a.has(t)?"\\"+t:t})).join("")}r.default=o}));r(tl);var el=n((function(t,r){var n=e&&e.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=e&&e.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)},a=e&&e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.stringify=r.parse=void 0,i(Ku,r);var o=Ku;Object.defineProperty(r,"parse",{enumerable:!0,get:function(){return a(o).default}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return a(tl).default}})}));r(el),el.stringify,el.parse;var rl={universal:50,tag:30,attribute:1,pseudo:0,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1},nl=i(Object.freeze({__proto__:null,universal:50,tag:30,attribute:1,pseudo:0,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1,default:rl})),il=function(t){for(var e=t.map(ol),r=1;r<t.length;r++){var n=e[r];if(!(n<0))for(var i=r-1;i>=0&&n<e[i];i--){var a=t[i+1];t[i+1]=t[i],t[i]=a,e[i+1]=e[i],e[i]=n}}},al={__proto__:null,exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function ol(t){var e=nl[t.type];if(e===nl.attribute)(e=al[t.action])===al.equals&&"id"===t.name&&(e=9),t.ignoreCase&&(e>>=1);else if(e===nl.pseudo)if(t.data)if("has"===t.name||"contains"===t.name)e=0;else if("matches"===t.name||"not"===t.name){e=0;for(var r=0;r<t.data.length;r++)if(1===t.data[r].length){var n=ol(t.data[r][0]);if(0===n){e=0;break}n>e&&(e=n)}t.data.length>1&&e>0&&(e-=1)}else e=1;else e=3;return e}var sl=Qu,ul=/[-[\]{}()*+?.,\\^$|#\s]/g,ll={__proto__:null,equals:function(t,e,r){var n=e.name,i=e.value,a=r.adapter;return e.ignoreCase?(i=i.toLowerCase(),function(e){var r=a.getAttributeValue(e,n);return null!=r&&r.toLowerCase()===i&&t(e)}):function(e){return a.getAttributeValue(e,n)===i&&t(e)}},hyphen:function(t,e,r){var n=e.name,i=e.value,a=i.length,o=r.adapter;return e.ignoreCase?(i=i.toLowerCase(),function(e){var r=o.getAttributeValue(e,n);return null!=r&&(r.length===a||"-"===r.charAt(a))&&r.substr(0,a).toLowerCase()===i&&t(e)}):function(e){var r=o.getAttributeValue(e,n);return null!=r&&r.substr(0,a)===i&&(r.length===a||"-"===r.charAt(a))&&t(e)}},element:function(t,e,r){var n=e.name,i=e.value,a=r.adapter;if(/\s/.test(i))return sl;var o="(?:^|\\s)"+(i=i.replace(ul,"\\$&"))+"(?:$|\\s)",s=e.ignoreCase?"i":"",u=new RegExp(o,s);return function(e){var r=a.getAttributeValue(e,n);return null!=r&&u.test(r)&&t(e)}},exists:function(t,e,r){var n=e.name,i=r.adapter;return function(e){return i.hasAttrib(e,n)&&t(e)}},start:function(t,e,r){var n=e.name,i=e.value,a=i.length,o=r.adapter;return 0===a?sl:e.ignoreCase?(i=i.toLowerCase(),function(e){var r=o.getAttributeValue(e,n);return null!=r&&r.substr(0,a).toLowerCase()===i&&t(e)}):function(e){var r=o.getAttributeValue(e,n);return null!=r&&r.substr(0,a)===i&&t(e)}},end:function(t,e,r){var n=e.name,i=e.value,a=-i.length,o=r.adapter;return 0===a?sl:e.ignoreCase?(i=i.toLowerCase(),function(e){var r=o.getAttributeValue(e,n);return null!=r&&r.substr(a).toLowerCase()===i&&t(e)}):function(e){var r=o.getAttributeValue(e,n);return null!=r&&r.substr(a)===i&&t(e)}},any:function(t,e,r){var n=e.name,i=e.value,a=r.adapter;if(""===i)return sl;if(e.ignoreCase){var o=new RegExp(i.replace(ul,"\\$&"),"i");return function(e){var r=a.getAttributeValue(e,n);return null!=r&&o.test(r)&&t(e)}}return function(e){var r=a.getAttributeValue(e,n);return null!=r&&r.indexOf(i)>=0&&t(e)}},not:function(t,e,r){var n=e.name,i=e.value,a=r.adapter;return""===i?function(e){return!!a.getAttributeValue(e,n)&&t(e)}:e.ignoreCase?(i=i.toLowerCase(),function(e){var r=a.getAttributeValue(e,n);return null!=r&&r.toLowerCase()!==i&&t(e)}):function(e){return a.getAttributeValue(e,n)!==i&&t(e)}}},cl={compile:function(t,e,r){if(r&&r.strict&&(e.ignoreCase||"not"===e.action))throw new Error("Unsupported attribute selector");return ll[e.action](t,e,r)},rules:ll},fl=function(t){if("even"===(t=t.trim().toLowerCase()))return[2,0];if("odd"===t)return[2,1];var e,r=t.match(hl);if(!r)throw new SyntaxError("n-th rule couldn't be parsed ('"+t+"')");return r[1]?(e=parseInt(r[1],10),isNaN(e)&&(e="-"===r[1].charAt(0)?-1:1)):e=0,[e,r[3]?parseInt((r[2]||"")+r[3],10):0]},hl=/^([+\-]?\d*n)?\s*(?:([+\-]?)\s*(\d+))?$/;var dl=function(t){var e=t[0],r=t[1]-1;if(r<0&&e<=0)return vl;if(-1===e)return function(t){return t<=r};if(0===e)return function(t){return t===r};if(1===e)return r<0?pl:function(t){return t>=r};var n=r%e;n<0&&(n+=e);if(e>1)return function(t){return t>=r&&t%e===n};return e*=-1,function(t){return t<=r&&t%e===n}},pl=Zu,vl=Qu;var gl=function(t){return dl(fl(t))},yl=dl;gl.parse=fl,gl.compile=yl;var ml=Zu,bl=Qu,xl=cl.rules.equals;function Ml(t,e){var r={name:t,value:e};return function(t,e,n){return xl(t,r,n)}}function wl(t,e){return function(r){return!!e.getParent(r)&&t(r)}}var Al={contains:function(t,e,r){var n=r.adapter;return function(r){return t(r)&&n.getText(r).indexOf(e)>=0}},icontains:function(t,e,r){var n=e.toLowerCase(),i=r.adapter;return function(e){return t(e)&&i.getText(e).toLowerCase().indexOf(n)>=0}},"nth-child":function(t,e,r){var n=gl(e),i=r.adapter;return n===bl?n:n===ml?wl(t,i):function(e){for(var r=i.getSiblings(e),a=0,o=0;a<r.length;a++)if(i.isTag(r[a])){if(r[a]===e)break;o++}return n(o)&&t(e)}},"nth-last-child":function(t,e,r){var n=gl(e),i=r.adapter;return n===bl?n:n===ml?wl(t,i):function(e){for(var r=i.getSiblings(e),a=0,o=r.length-1;o>=0;o--)if(i.isTag(r[o])){if(r[o]===e)break;a++}return n(a)&&t(e)}},"nth-of-type":function(t,e,r){var n=gl(e),i=r.adapter;return n===bl?n:n===ml?wl(t,i):function(e){for(var r=i.getSiblings(e),a=0,o=0;o<r.length;o++)if(i.isTag(r[o])){if(r[o]===e)break;i.getName(r[o])===i.getName(e)&&a++}return n(a)&&t(e)}},"nth-last-of-type":function(t,e,r){var n=gl(e),i=r.adapter;return n===bl?n:n===ml?wl(t,i):function(e){for(var r=i.getSiblings(e),a=0,o=r.length-1;o>=0;o--)if(i.isTag(r[o])){if(r[o]===e)break;i.getName(r[o])===i.getName(e)&&a++}return n(a)&&t(e)}},root:function(t,e,r){var n=r.adapter;return function(e){return!n.getParent(e)&&t(e)}},scope:function(t,e,r,n){var i=r.adapter;if(!n||0===n.length)return Al.root(t,e,r);return 1===n.length?function(e){return r=n[0],a=e,("function"==typeof i.equals?i.equals(r,a):r===a)&&t(e);var r,a}:function(e){return n.indexOf(e)>=0&&t(e)}},checkbox:Ml("type","checkbox"),file:Ml("type","file"),password:Ml("type","password"),radio:Ml("type","radio"),reset:Ml("type","reset"),image:Ml("type","image"),submit:Ml("type","submit"),hover:function(t,e,r){var n=r.adapter;return"function"==typeof n.isHovered?function(e){return t(e)&&n.isHovered(e)}:bl},visited:function(t,e,r){var n=r.adapter;return"function"==typeof n.isVisited?function(e){return t(e)&&n.isVisited(e)}:bl},active:function(t,e,r){var n=r.adapter;return"function"==typeof n.isActive?function(e){return t(e)&&n.isActive(e)}:bl}};var kl={empty:function(t,e){return!e.getChildren(t).some((function(t){return e.isTag(t)||"text"===t.type}))},"first-child":function(t,e){return function(t,e){for(var r=0;t&&r<t.length;r++)if(e.isTag(t[r]))return t[r]}(e.getSiblings(t),e)===t},"last-child":function(t,e){for(var r=e.getSiblings(t),n=r.length-1;n>=0;n--){if(r[n]===t)return!0;if(e.isTag(r[n]))break}return!1},"first-of-type":function(t,e){for(var r=e.getSiblings(t),n=0;n<r.length;n++)if(e.isTag(r[n])){if(r[n]===t)return!0;if(e.getName(r[n])===e.getName(t))break}return!1},"last-of-type":function(t,e){for(var r=e.getSiblings(t),n=r.length-1;n>=0;n--)if(e.isTag(r[n])){if(r[n]===t)return!0;if(e.getName(r[n])===e.getName(t))break}return!1},"only-of-type":function(t,e){for(var r=e.getSiblings(t),n=0,i=r.length;n<i;n++)if(e.isTag(r[n])){if(r[n]===t)continue;if(e.getName(r[n])===e.getName(t))return!1}return!0},"only-child":function(t,e){for(var r=e.getSiblings(t),n=0;n<r.length;n++)if(e.isTag(r[n])&&r[n]!==t)return!1;return!0},link:function(t,e){return e.hasAttrib(t,"href")},selected:function(t,e){if(e.hasAttrib(t,"selected"))return!0;if("option"!==e.getName(t))return!1;var r=e.getParent(t);if(!r||"select"!==e.getName(r)||e.hasAttrib(r,"multiple"))return!1;for(var n=e.getChildren(r),i=!1,a=0;a<n.length;a++)if(e.isTag(n[a]))if(n[a]===t)i=!0;else{if(!i)return!1;if(e.hasAttrib(n[a],"selected"))return!1}return i},disabled:function(t,e){return e.hasAttrib(t,"disabled")},enabled:function(t,e){return!e.hasAttrib(t,"disabled")},checked:function(t,e){return e.hasAttrib(t,"checked")||kl.selected(t,e)},required:function(t,e){return e.hasAttrib(t,"required")},optional:function(t,e){return!e.hasAttrib(t,"required")},parent:function(t,e){return!kl.empty(t,e)},header:_l(["h1","h2","h3","h4","h5","h6"]),button:function(t,e){var r=e.getName(t);return"button"===r||"input"===r&&"button"===e.getAttributeValue(t,"type")},input:_l(["input","textarea","select","button"]),text:function(t,e){var r;return"input"===e.getName(t)&&(!(r=e.getAttributeValue(t,"type"))||"text"===r.toLowerCase())}};function _l(t){if("undefined"!=typeof Set){var e=new Set(t);return function(t,r){return e.has(r.getName(t))}}return function(e,r){return t.indexOf(r.getName(e))>=0}}var Sl=/^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/,El={compile:function(t,e,r,n){var i=e.name,a=e.data,o=r.adapter;if(r&&r.strict&&!Sl.test(i))throw new Error(":"+i+" isn't part of CSS3");if("function"==typeof Al[i])return Al[i](t,a,r,n);if("function"==typeof kl[i]){var s=kl[i];return function(t,e,r){if(null===r){if(t.length>2&&"scope"!==e)throw new Error("pseudo-selector :"+e+" requires an argument")}else if(2===t.length)throw new Error("pseudo-selector :"+e+" doesn't have any arguments")}(s,i,a),s===bl?s:t===ml?function(t){return s(t,o,a)}:function(e){return s(e,o,a)&&t(e)}}throw new Error("unmatched pseudo-class :"+i)},filters:Al,pseudos:kl},Rl={__proto__:null,attribute:cl.compile,pseudo:El.compile,tag:function(t,e,r){var n=e.name,i=r.adapter;return function(e){return i.getName(e)===n&&t(e)}},descendant:function(t,e,r){var n="undefined"!=typeof WeakSet?new WeakSet:null,i=r.adapter;return function(e){for(var r=!1;!r&&(e=i.getParent(e));)n&&n.has(e)||!(r=t(e))&&n&&n.add(e);return r}},_flexibleDescendant:function(t,e,r){var n=r.adapter;return function(e){for(var r=t(e);!r&&(e=n.getParent(e));)r=t(e);return r}},parent:function(t,e,r){if(r&&r.strict)throw new Error("Parent selector isn't part of CSS3");var n=r.adapter;return function(t){return n.getChildren(t).some(i)};function i(e){return n.isTag(e)&&t(e)}},child:function(t,e,r){var n=r.adapter;return function(e){var r=n.getParent(e);return!!r&&t(r)}},sibling:function(t,e,r){var n=r.adapter;return function(e){for(var r=n.getSiblings(e),i=0;i<r.length;i++)if(n.isTag(r[i])){if(r[i]===e)break;if(t(r[i]))return!0}return!1}},adjacent:function(t,e,r){var n=r.adapter;return function(e){for(var r,i=n.getSiblings(e),a=0;a<i.length;a++)if(n.isTag(i[a])){if(i[a]===e)break;r=i[a]}return!!r&&t(r)}},universal:function(t){return t}};Rl.attribute,Rl.pseudo,Rl.tag,Rl.descendant,Rl._flexibleDescendant,Rl.parent,Rl.child,Rl.sibling,Rl.adjacent,Rl.universal;var Tl=Dl,Ol=el.parse,Cl=Zu,Ll=Qu,Pl=El.filters;function Dl(t,e,r){return ql(jl(t,e,r),e)}function ql(t,e){var r=e.adapter;return function(e){return r.isTag(e)&&t(e)}}function jl(t,e,r){return Vl(Ol(t,e),e,r)}function Il(t){return"pseudo"===t.type&&("scope"===t.name||Array.isArray(t.data)&&t.data.some((function(t){return t.some(Il)})))}var Nl={type:"descendant"},Fl={type:"_flexibleDescendant"},Ul={type:"pseudo",name:"scope"},Bl={};function Vl(t,e,r){(t=t.filter((function(t){return t.length>0}))).forEach(il);var n=Array.isArray(r);(r=e&&e.context||r)&&!n&&(r=[r]),function(t,e,r){var n=e.adapter,i=!!r&&!!r.length&&r.every((function(t){return t===Bl||!!n.getParent(t)}));t.forEach((function(t){if(t.length>0&&zl(t[0])&&"descendant"!==t[0].type);else{if(!i||(Array.isArray(t)?t.some(Il):Il(t)))return;t.unshift(Nl)}t.unshift(Ul)}))}(t,e,r);var i=!1,a=t.map((function(t){if(t[0]&&t[1]&&"scope"===t[0].name){var a=t[1].type;n&&"descendant"===a?t[1]=Fl:"adjacent"!==a&&"sibling"!==a||(i=!0)}return function(t,e,r){return t.reduce((function(t,n){if(t===Ll)return t;if(!(n.type in Rl))throw new Error("Rule type "+n.type+" is not supported by css-select");return Rl[n.type](t,n,e,r)}),e&&e.rootFunc||Cl)}(t,e,r)})).reduce(Gl,Ll);return a.shouldTestNextSiblings=i,a}function zl(t){return nl[t.type]<0}function Gl(t,e){return e===Ll||t===Cl?t:t===Ll||e===Cl?e:function(r){return t(r)||e(r)}}function Hl(t){return t.some(zl)}Pl.not=function(t,e,r,n){var i={xmlMode:!(!r||!r.xmlMode),strict:!(!r||!r.strict),adapter:r.adapter};if(i.strict&&(e.length>1||e.some(Hl)))throw new Error("complex selectors in :not aren't allowed in strict mode");var a=Vl(e,i,n);return a===Ll?t:a===Cl?Ll:function(e){return!a(e)&&t(e)}},Pl.has=function(t,e,r){var n=r.adapter,i={xmlMode:!(!r||!r.xmlMode),strict:!(!r||!r.strict),adapter:n},a=e.some(Hl)?[Bl]:null,o=Vl(e,i,a);return o===Ll?Ll:o===Cl?function(e){return n.getChildren(e).some(n.isTag)&&t(e)}:(o=ql(o,r),a?function(e){return t(e)&&(a[0]=e,n.existsOne(o,n.getChildren(e)))}:function(e){return t(e)&&n.existsOne(o,n.getChildren(e))})},Pl.matches=function(t,e,r,n){return Vl(e,{xmlMode:!(!r||!r.xmlMode),strict:!(!r||!r.strict),rootFunc:t,adapter:r.adapter},n)},Dl.compileToken=Vl,Dl.compileUnsafe=jl,Dl.Pseudos=El;var Yl=ec,Wl=Qu;function Xl(t){return function(e,r,n){return(r=r||{}).adapter=r.adapter||$u,t(e,r,n)}}var Jl=Xl(Tl),$l=Xl(Tl.compileUnsafe);function Zl(t){return function(e,r,n){return(n=n||{}).adapter=n.adapter||$u,"function"!=typeof e&&(e=$l(e,n,r)),e.shouldTestNextSiblings&&(r=function(t,e){Array.isArray(t)||(t=[t]);for(var r=t.slice(0),n=0,i=t.length;n<i;n++){var a=Ql(r[n],e);r.push.apply(r,a)}return r}(n&&n.context||r,n.adapter)),r=Array.isArray(r)?n.adapter.removeSubsets(r):n.adapter.getChildren(r),t(e,r,n)}}function Ql(t,e){var r=e.getSiblings(t);if(!Array.isArray(r))return[];for(r=r.slice(0);r.shift()!==t;);return r}var Kl=Zl((function(t,e,r){return t!==Wl&&e&&0!==e.length?r.adapter.findAll(t,e):[]})),tc=Zl((function(t,e,r){return t!==Wl&&e&&0!==e.length?r.adapter.findOne(t,e):null}));function ec(t,e,r){return Kl(t,e,r)}ec.compile=Jl,ec.filters=Tl.Pseudos.filters,ec.pseudos=Tl.Pseudos.pseudos,ec.selectAll=Kl,ec.selectOne=tc,ec.is=function(t,e,r){return(r=r||{}).adapter=r.adapter||$u,("function"==typeof e?e:Jl(e,r))(t)},ec.parse=Jl,ec.iterate=Kl,ec._compileUnsafe=$l,ec._compileToken=Tl.compileToken;var rc=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.querySelectorAll=function(t,e){return Yl.selectAll(l(t),e,{adapter:u})},e.querySelector=function(t,e){return Yl.selectOne(l(t),e,{adapter:u})},e.isMatched=function(t,e){return Yl.is(t,l(e),{adapter:u})},e.compile=function(t){return Yl.compile(l(t),{adapter:u})};var r=a(h),n=a(fs);function i(t){return 1===t.nodeType||n.default.isSpriteNode(t.nodeName)}function o(t){return Array.from(t.childNodes||[])}function s(t){return n.default.isSpriteNode(t.nodeName)?t.parent||t.canvas||t.container:t.parentElement}er.glMatrix.setMatrixArrayType(Array);var u={isTag:i,existsOne:function(t,e){return e.some((function(e){return!!i(e)&&(t(e)||u.existsOne(t,o(e)))}))},getSiblings:function(t){var e=s(t);return e&&o(e)},getChildren:o,getParent:s,getAttributeValue:function(t,e){if(1===t.nodeType&&"class"===e||"id"===e)return t[e];if(this.hasAttrib(t,e)){var r=t.attributes[e];return Array.isArray(r)&&(r="[".concat(r.join(),"]")),String(r)}},hasAttrib:function(t,e){return null!=t.attributes[e]},removeSubsets:function(t){for(var e,r,n,i=t.length;--i>-1;){for(e=r=t[i],t[i]=null,n=!0;r;){if(t.indexOf(r)>-1){n=!1,t.splice(i,1);break}r=s(r)}n&&(t[i]=e)}return t},getName:function(t){return t.tagName?t.tagName.toLowerCase():null},findOne:function t(e,r){for(var n=null,i=0,a=r.length;i<a&&!n;i++)if(e(r[i]))n=r[i];else{var s=o(r[i]);s&&s.length>0&&(n=t(e,s))}return n},findAll:function t(e,r){for(var n=[],a=0,s=r.length;a<s;a++)if(i(r[a])){e(r[a])&&n.push(r[a]);var u=o(r[a]);u&&(n=n.concat(t(e,u)))}return n},getText:function t(e){return Array.isArray(e)?e.map(t).join(""):i(e)?t(o(e)):3===e.nodeType?e.nodeValue:n.default.isSpriteNode(e.nodeName)?e.text:""}};function l(t){if("string"!=typeof t)return t;var e=t.match(/\[(bgcolor|fillColor|strokeColor|color)\s*=\s*['"]?\w+['"]?\]/g);return e&&(e=e.map((function(t){var e=t.slice(1,-1).split("="),r=(0,_s.parseColor)(e[1].replace(/['"]/g,""));return[t,"[".concat(e[0],'="').concat(r,'"]')]}))).forEach((function(e){var n=(0,r.default)(e,2),i=n[0],a=n[1];t=t.replace(i,a)})),(e=t.match(/\[\w+\s*=\s*['"]\[.+?\]['"]\]/g))&&(e=e.map((function(t){var e=t.slice(1,-1).split("="),r=e[1].slice(2,-2).split(/,/g).map((function(t){return t.trim()}));return[t,"[".concat(e[0],'="[').concat(r,']"]')]})),e.forEach((function(e){var n=(0,r.default)(e,2),i=n[0],a=n[1];t=t.replace(i,a)}))),t}}));r(rc),rc.querySelectorAll,rc.querySelector,rc.isMatched,rc.compile;var nc=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(sr),n=a(ur),i=a(lr),s=a(gr),u=a(mr),l=a(xr),c=a(pr),f=a(cr),h=a(Ts),d=a(nu),p=a(fs);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,c.default)(t);if(e){var i=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var g=Symbol("zOrder"),y=Symbol("ordered"),m=Symbol("children"),b=Symbol("sealed"),x=function(t){(0,u.default)(a,t);var e=v(a);function a(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.default)(this,a),(t=e.call(this,r))[m]=[],t[y]=null,t[g]=0,t}return(0,i.default)(a,[{key:"append",value:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.map((function(e){return t.appendChild(e)}))}},{key:"appendChild",value:function(t){return t.remove(),this[m].push(t),t.connect(this,this[g]++),this[y]&&(this[y].length&&t.zIndex<this[y][this[y].length-1].zIndex?this.reorder():this[y].push(t)),t}},{key:"cloneNode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=(0,s.default)((0,c.default)(a.prototype),"cloneNode",this).call(this);return t&&this[m].forEach((function(r){var n=r.cloneNode(t);e.appendChild(n)})),e}},{key:"dispatchPointerEvent",value:function(t){for(var e=this.orderedChildren,r=e.length-1;r>=0;r--){if(e[r].dispatchPointerEvent(t))return!0}return(0,s.default)((0,c.default)(a.prototype),"dispatchPointerEvent",this).call(this,t)}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(this.__cacheRenderMatrix=this.renderMatrix,(0,s.default)((0,c.default)(a.prototype),"draw",this).call(this,t),!this[b]&&"none"!==this.attributes.display)for(var e=this.orderedChildren,r=0;r<e.length;r++){var n=e[r];n.draw(t)}return this.__cacheRenderMatrix=null,t}},{key:"getElementById",value:function(t){return(0,rc.querySelector)("#".concat(t),this)}},{key:"getElementsByClassName",value:function(t){return(0,rc.querySelectorAll)(".".concat(t),this)}},{key:"getElementsByName",value:function(t){return(0,rc.querySelectorAll)('[name="'.concat(t,'"]'),this)}},{key:"getElementsByTagName",value:function(t){return(0,rc.querySelectorAll)(t,this)}},{key:"insertBefore",value:function(t,e){if(null==e)return this.appendChild(t);t.remove();var r=this[m].indexOf(e);if(r<0)throw new Error("Invalid reference node.");for(var n=e.zOrder,i=r;i<this[m].length;i++){var a=this[m][i].zOrder,o=this[m][i];delete o.zOrder,Object.defineProperty(o,"zOrder",{value:a+1,writable:!1,configurable:!0})}if(this[m].splice(r,0,t),t.connect(this,n),this[y])if(t.zIndex!==e.zIndex)this.reorder();else{var s=this[y].indexOf(e);this[y].splice(s,0,t)}return t}},{key:"querySelector",value:function(t){return(0,rc.querySelector)(t,this)}},{key:"querySelectorAll",value:function(t){return(0,rc.querySelectorAll)(t,this)}},{key:"replaceChild",value:function(t,e){t.remove();var r=this[m].indexOf(e);if(r<0)throw new Error("Invalid reference node.");if(this[m][r]=t,t.connect(this,e.zOrder),this[y])if(t.zIndex!==e.zIndex)this.reorder();else{var n=this[y].indexOf(e);this[y][n]=t}return e.disconnect(this),t}},{key:"removeAllChildren",value:function(){for(var t=this[m],e=t.length-1;e>=0;e--)t[e].remove()}},{key:"removeChild",value:function(t){var e=this[m].indexOf(t);if(e>=0){if(this[m].splice(e,1),this[y]){var r=this[y].indexOf(t);this[y].splice(r,1)}return t.disconnect(this),t}return null}},{key:"reorder",value:function(){this[y]=null}},{key:"seal",value:function(){function t(t,e){for(var n=[],i=0;i<t.length;i++){for(var a=(0,r.default)(t[i]),o=1;o<a.length;o+=2){var s=a[o],u=a[o+1];a[o]=s*e[0]+u*e[2]+e[4],a[o+1]=s*e[1]+u*e[3]+e[5]}n.push(a)}return n}for(var e=this.orderedChildren,n=new o.Figure2D,i=this.localMatrix,s=0;s<e.length;s++){var u=e[s];if(u instanceof a&&(u=u.seal()),u.clientBox){var l=u.clientBox.contours.path;l=t(l,u.localMatrix),n.addPath(l)}if(u.path){var c=u.path.contours.path;c=t(c,u.localMatrix),n.addPath(c)}}return this[b]=!0,this.clientBox=n,{clientBox:n,localMatrix:i}}},{key:"setResolution",value:function(t){var e=t.width,r=t.height;(0,s.default)((0,c.default)(a.prototype),"setResolution",this).call(this,{width:e,height:r}),this[m].forEach((function(t){t.setResolution({width:e,height:r})}))}},{key:"updateContours",value:function(){this[b]||(0,s.default)((0,c.default)(a.prototype),"updateContours",this).call(this)}},{key:"childNodes",get:function(){return this[m]}},{key:"children",get:function(){return this[m]}},{key:"orderedChildren",get:function(){return this[y]||(this[y]=(0,r.default)(this[m]),this[y].sort((function(t,e){return t.zIndex-e.zIndex||t.zOrder-e.zOrder}))),this[y]}}]),a}(h.default);e.default=x,(0,f.default)(x,"Attr",d.default),p.default.registerNode(x,"group")}));r(nc);var ic=n((function(t){t.exports=function(t,e){if(null==t)return{};var r,n,i={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(i[r]=t[r]);return i},t.exports.__esModule=!0,t.exports.default=t.exports}));r(ic);var ac=n((function(t){t.exports=function(t,e){if(null==t)return{};var r,n,i=ic(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i},t.exports.__esModule=!0,t.exports.default=t.exports}));r(ac);var oc=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ac),n=a(h),i=a(sr),s=a(ur),u=a(lr),l=a(gr),c=a(mr),f=a(xr),d=a(pr),p=a(nc),v=a(fs);function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,d.default)(t);if(e){var i=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var y={antialias:!0,autoRender:!0,alpha:!0},m=Symbol("autoRender"),b=Symbol("renderer"),x=Symbol("timeline"),M=Symbol("prepareRender"),w=Symbol("tickRender"),A=Symbol("pass"),k=Symbol("fbo"),_=Symbol("tickers"),S=Symbol("layerTransformInvert"),E=function(t){(0,c.default)(a,t);var e=g(a);function a(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,s.default)(this,a),t=e.call(this),!r.canvas){var n=t.getResolution(),i=n.width,u=n.height,l=o.ENV.createCanvas(i,u,{offscreen:!!r.offscreen,id:r.id,extra:r.extra});l.style&&(l.style.position="absolute"),l.dataset&&(l.dataset.layerId=r.id),l.contextType&&(r.contextType=l.contextType),r.canvas=l}var c=r.canvas,f=Object.assign({},y,r);t[m]=f.autoRender,delete r.autoRender;var h=f.Renderer||o.Renderer;return t[b]=new h(c,f),t.options=r,t.id=r.id,t[A]=[],t.setResolution(c),t.canvas=c,t[x]=new rs.Timeline,t.__mouseCapturedTarget=null,t[S]=null,t}return(0,u.default)(a,[{key:"forceContextLoss",value:function(){var t=this.renderer.glRenderer;if(t){var e=t.getExtension("WEBGL_lose_context");if(e)return e.loseContext(),!0}return!1}},{key:"addPass",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.vertex,r=t.fragment,n=t.options,i=t.uniforms;if(this.renderer.glRenderer){var a=this.getResolution(),s=a.width,u=a.height,l=this.renderer.createPassProgram({vertex:e,fragment:r,options:n}),c=new o.Figure2D;c.rect(0,0,s/this.displayRatio,u/this.displayRatio);var f=new o.Mesh2D(c);return f.setUniforms(i),f.setProgram(l),this[A].push(f),this.forceUpdate(),f}return null}},{key:"deleteTexture",value:function(t){return(0,bs.deleteTexture)(t,this.renderer)}},{key:"dispatchPointerEvent",value:function(t){var e,r,n=t.type;if("mousedown"===n||"mouseup"===n||"mousemove"===n){var i=this.__mouseCapturedTarget;if(i){if(i.layer===this)return i.dispatchEvent(t),!0;this.__mouseCapturedTarget=null}}var o=this.layerTransformInvert;if(o){e=t.x,r=t.y;var s=o,u=s[0]*e+s[2]*r+s[4],c=s[1]*e+s[3]*r+s[5];delete t.x,delete t.y,delete t.layerX,delete t.layerY,Object.defineProperties(t,{layerX:{value:u,configurable:!0},layerY:{value:c,configurable:!0},x:{value:u,configurable:!0},y:{value:c,configurable:!0}})}var f=(0,l.default)((0,d.default)(a.prototype),"dispatchPointerEvent",this).call(this,t);return o&&Object.defineProperties(t,{layerX:{value:e,configurable:!0},layerY:{value:r,configurable:!0},x:{value:e,configurable:!0},y:{value:r,configurable:!0}}),f}},{key:"forceUpdate",value:function(){var t=this;if(!this[M])if(this.parent&&this.parent.hasOffscreenCanvas){this.parent.forceUpdate();var e=null,r=new Promise((function(t){e=t}));r._resolve=e,this[M]=r}else{var n=null,i=null,a=new Promise((function(e){n=e,t[m]&&(i=(0,rr.requestAnimationFrame)((function(){delete a._requestID,t.render()})))}));a._resolve=n,a._requestID=i,this[M]=a}}},{key:"getFBO",value:function(){var t=this.renderer.glRenderer,e=this.getResolution(),r=e.width,n=e.height;return!t||this[k]&&this[k].width===r&&this[k].height===n?this[k]?this[k]:null:(this[k]={width:r,height:n,target:t.createFBO(),buffer:t.createFBO(),swap:function(){var t=[this.buffer,this.target];this.target=t[0],this.buffer=t[1]}},this[k])}},{key:"updateGlobalTransform",value:function(){if(this.layerTransformInvert){var t=this.renderer,e=t.__globalTransformMatrix||t.globalTransformMatrix;t.__globalTransformMatrix=e;var r=er.mat2d.fromValues(1,0,0,1,0,0);t.setGlobalTransform.apply(t,(0,i.default)(er.mat2d.multiply(r,e,this.transformMatrix)))}}},{key:"onPropertyChange",value:function(t,e,r){if((0,l.default)((0,d.default)(a.prototype),"onPropertyChange",this).call(this,t,e,r),"zIndex"===t&&(this.canvas.style.zIndex=e),"transform"===t||"translate"===t||"rotate"===t||"scale"===t||"skew"===t){var n=this[S];if(this[S]=null,this.updateGlobalTransform(),n&&!this.layerTransformInvert){var o=this.renderer,s=o.__globalTransformMatrix||o.globalTransformMatrix;o.setGlobalTransform.apply(o,(0,i.default)(s))}}}},{key:"_prepareRenderFinished",value:function(){this[M]&&(this[M]._requestID&&(0,rr.cancelAnimationFrame)(this[M]._requestID),this[M]._resolve(),delete this[M])}},{key:"render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.clear,n=void 0===r||r,i=this[A].length?this.getFBO():null;i&&this.renderer.glRenderer.bindFBO(i.target),n&&this[b].clear();var a=this.draw();if(a&&a.length&&(this.renderer.drawMeshes(a),this.canvas.draw&&this.canvas.draw()),i){var o=this.renderer.glRenderer,s=this[A].length,u=this.getResolution(),l=u.width,c=u.height,f=[0,0,l/this.displayRatio,c/this.displayRatio];this[A].forEach((function(e,r){e.blend=!0,e.setTexture(i.target.texture,{rect:f}),r===s-1?o.bindFBO(null):(i.swap(),o.bindFBO(i.target)),t[b].clear(),t.renderer.drawMeshes([e])}))}this._prepareRenderFinished()}},{key:"setResolution",value:function(t){var e=this,r=t.width,i=t.height,s=this.renderer,u=s.__globalTransformMatrix||s.globalTransformMatrix,c=u[4],f=u[5],h=u[0],p=this.getResolution(),v=p.width,g=p.height;v===r&&g===i||((0,l.default)((0,d.default)(a.prototype),"setResolution",this).call(this,{width:r,height:i}),this.canvas&&(this.canvas.width=r,this.canvas.height=i,s.updateResolution&&s.updateResolution()),this.attributes.size=[r,i],this[A].length&&this[A].forEach((function(t){var n=new o.Figure2D;n.rect(0,0,r/e.displayRatio,i/e.displayRatio),t.contours=n.contours})));var y=(0,n.default)(this.renderOffset,2),m=y[0],b=y[1],x=this.displayRatio;c===m&&f===b&&h===x||(s.setGlobalTransform(x,0,0,x,m,b),s.__globalTransformMatrix=null,this[S]=null,this.updateGlobalTransform(),this.forceUpdate())}},{key:"tick",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.duration,a=void 0===i?1/0:i,o=(0,r.default)(n,["duration"]),s=this.timeline.fork(o),u=this;this[_]=this[_]||[],this[_].push({handler:e,duration:a});var l=function e(){var r=null,n=null,i=function(){var r=t[_].map((function(t){var e=t.handler,r=t.duration,n=Math.min(1,s.currentTime/r);return{value:e?e(s.currentTime,n):null,p:n}}));u[m]&&!u[w]&&(u[w]=Promise.resolve().then((function(){u.render(),delete u[w];for(var n=r.length-1;n>=0;n--){var i=r[n],a=i.value,o=i.p;(!1===a||o>=1)&&t[_].splice(n,1)}t[_].length>0&&e()})))};if(t[M]&&"ticker"!==t[M]._type&&((0,rr.cancelAnimationFrame)(t[M]._requestID),delete t[M]),!t[M]){var a=new Promise((function(t){r=t,n=(0,rr.requestAnimationFrame)(i)}));a._resolve=r,a._requestID=n,a._type="ticker",t[M]=a}};l()}},{key:"toGlobalPos",value:function(t,e){if(this.layerTransformInvert){var r=this.transformMatrix;t=r[0]*t+r[2]*e+r[4],e=r[1]*t+r[3]*e+r[5]}var n=this.getResolution(),i=n.width,a=n.height,o=this.renderOffset,s=[this.canvas.clientWidth,this.canvas.clientHeight];t=t*s[0]/i+o[0],e=e*s[1]/a+o[1];var u=this.displayRatio;return[t*=u,e*=u]}},{key:"toLocalPos",value:function(t,e){var r=this.getResolution(),n=r.width,i=r.height,a=this.renderOffset,o=[this.canvas.clientWidth,this.canvas.clientHeight];t=t*n/o[0]-a[0],e=e*i/o[1]-a[1];var s=this.displayRatio;t/=s,e/=s;var u=this.layerTransformInvert;return u&&(t=u[0]*t+u[2]*e+u[4],e=u[1]*t+u[3]*e+u[5]),[t,e]}},{key:"autoRender",get:function(){return this[m]}},{key:"displayRatio",get:function(){return this.parent&&this.parent.options?this.parent.options.displayRatio:1}},{key:"height",get:function(){return this.getResolution().height/this.displayRatio}},{key:"gl",get:function(){return this.renderer.glRenderer?this.renderer.glRenderer.gl:null}},{key:"layer",get:function(){return this}},{key:"offscreen",get:function(){return!!this.options.offscreen||this.canvas._offscreen}},{key:"pass",get:function(){return this[A]}},{key:"prepareRender",get:function(){return this[M]?this[M]:Promise.resolve()}},{key:"renderer",get:function(){return this[b]}},{key:"renderOffset",get:function(){if(this.parent&&this.parent.options){var t=this.parent.options;return[t.left,t.top]}return[0|this.options.left,0|this.options.top]}},{key:"timeline",get:function(){return this[x]}},{key:"width",get:function(){return this.getResolution().width/this.displayRatio}},{key:"localMatrix",get:function(){var t=this.attributes;return[1,0,0,1,t.x,t.y]}},{key:"layerTransformInvert",get:function(){if(this[S])return this[S];var t=this.transformMatrix;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]?null:(this[S]=er.mat2d.invert(Array.of(0,0,0,0,0,0),t),this[S])}}]),a}(p.default);e.default=E,v.default.registerNode(E,"layer")}));r(oc);var sc=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(ur),n=a(lr),i=a(mr),o=a(xr),s=a(pr),u=a(Os);function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,s.default)(t);if(e){var i=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,o.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var c=Symbol.for("spritejs_getAttribute"),f=Symbol.for("spritejs_setAttribute"),h=Symbol.for("spritejs_setAttributeDefault"),d=function(t){(0,i.default)(a,t);var e=l(a);function a(t){var n;return(0,r.default)(this,a),(n=e.call(this,t))[h]({passEvents:!1,flexible:!1}),n}return(0,n.default)(a,[{key:"texture",get:function(){return this[c]("texture")},set:function(t){}},{key:"passEvents",get:function(){return this[c]("passEvents")},set:function(t){return this[f]("passEvents",t)}},{key:"flexible",get:function(){return this[c]("flexible")},set:function(t){return this[f]("flexible",t)}}]),a}(u.default);e.default=d}));r(sc);var uc=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(h),n=a(ac),i=a(ur),o=a(lr),s=a(br),u=a(gr),l=a(mr),c=a(xr),f=a(pr),d=a(cr),p=a(Cs),v=a(sc),g=a(fs);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,f.default)(t);if(e){var i=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var m="http://www.w3.org/2000/svg",b=Symbol.for("spritejs_setAttribute"),x=Symbol("root"),M=Symbol("task");function w(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t[x];if(r&&r.children[0]){var n=t.svg,i=t.layer?t.layer.displayRatio:1;if(!n.hasAttribute("data-original-width")){var a=n.getAttribute("width");a=a?(0,fr.sizeToPixel)(a):300;var o=n.getAttribute("height");o=o?(0,fr.sizeToPixel)(o):150,n.hasAttribute("viewBox")||n.setAttribute("viewBox","0 0 ".concat(Math.round(a)," ").concat(Math.round(o))),n.setAttribute("data-original-width",a),n.setAttribute("data-original-height",o)}var s=t.attributes.width||Number(n.getAttribute("data-original-width")),u=t.attributes.height||Number(n.getAttribute("data-original-height"));if(s*=i,u*=i,e&&t.attributes.flexible){var l=t.attributes.scale[0];if(s*=l,u*=l,n.setAttribute("width",s),n.setAttribute("height",u),s&&u&&t.textureImage){var c=t.textureImage.width,f=t.textureImage.height,h=t.clientSize;t.attributes.textureRect=[0,0,Math.round(h[0]*c/s),Math.round(h[1]*f/u)]}}else t[M]||(n.setAttribute("width",s),n.setAttribute("height",u),t[M]=Promise.resolve().then((function(){delete t[M];var e=r.innerHTML,n=new Blob([e],{type:"image/svg+xml"}),i=URL.createObjectURL(n),a=new Image;a.onload=function(){a.width&&a.height?(t.attributes[b]("texture",a),t.attributes.flexible&&(t.attributes.textureRect=null)):t.attributes[b]("texture",null)},a.src=i})))}}var A=function(t){(0,l.default)(a,t);var e=y(a);function a(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,a),"string"==typeof r&&(r={svgText:r});var o=r,u=o.svgText,l=(0,n.default)(o,["svgText"]);if((t=e.call(this,l))[x]=document.createElement("div"),u){t[x].innerHTML=u;var c=t[x].children[0];c?c.setAttribute("xmlns",m):(fetch(u).then((function(t){return t.text()})).then((function(e){t[x].innerHTML=e,t.observer&&!t.attributes.flexible||w((0,s.default)(t))})),u=null)}if(!u){var f=document.createElementNS(m,"svg");f.setAttribute("xmlns",m),t[x].appendChild(f)}if("function"==typeof MutationObserver){var h=new MutationObserver((function(e){w((0,s.default)(t),!1)}));h.observe(t[x],{attributes:!0,subtree:!0,characterData:!0,childList:!0}),t.observer=h}return t}return(0,o.default)(a,[{key:"setResolution",value:function(t){var e=t.width,r=t.height;(0,u.default)((0,f.default)(a.prototype),"setResolution",this).call(this,{width:e,height:r}),w(this)}},{key:"dispatchPointerEvent",value:function(t){var e=(0,u.default)((0,f.default)(a.prototype),"dispatchPointerEvent",this).call(this,t);if(e&&this.attributes.passEvents&&"function"==typeof MouseEvent){var n=t.x,i=t.y,o=this.getOffsetPosition(n,i),s=(0,r.default)(o,2),l=s[0],c=s[1],h=t.originalEvent,d=this.attributes.anchor,p=this.clientSize;l=(l+d[0]*p[0])/2,c=(c+d[1]*p[1])/2;var v=t.type;if(v===h.type){var g=null;if(h instanceof MouseEvent)g=new MouseEvent(v,{screenX:l,screenY:c,clientX:l,clientY:c,bubbles:h.bubbles,button:h.button,buttons:h.buttons,cancelBubble:h.cancelBubble,cancelable:h.cancelable,currentTarget:h.currentTarget,fromElement:h.fromElement,relatedTarget:h.relatedTarget,returnValue:h.returnValue,srcElement:h.srcElement,target:h.target,toElement:h.toElement,which:h.witch});else if(h instanceof TouchEvent){for(var y=null,m=h.changedTouches||[h],b=0;b<m.length;b++){var x=m[b];if(t.identifier===x.identifier){y=x;break}}if(y){var M=new Touch({identifier:y.identifier,target:y.target,clientX:l,clientY:c,screenX:l,screenY:c,pageX:l,pageY:c,radiusX:y.radiusX,radiusY:y.radiusY,rotationAngle:y.rotationAngle,force:y.force});g=new TouchEvent(v,{cancelable:h.cancelable,bubbles:h.bubbles,composed:h.composed,touches:[M],targetTouches:[M],changedTouches:[M]})}}else g=h;g&&this.svg.dispatchEvent(g)}}return e}},{key:"getElementById",value:function(t){return(0,rc.querySelector)("#".concat(t),this)}},{key:"getElementsByClassName",value:function(t){return(0,rc.querySelectorAll)(".".concat(t),this)}},{key:"getElementsByName",value:function(t){return(0,rc.querySelectorAll)('[name="'.concat(t,'"]'),this)}},{key:"getElementsByTagName",value:function(t){return(0,rc.querySelectorAll)(t,this)}},{key:"querySelector",value:function(t){return(0,rc.querySelector)(t,this)}},{key:"querySelectorAll",value:function(t){return(0,rc.querySelectorAll)(t,this)}},{key:"onPropertyChange",value:function(t,e,r){(0,u.default)((0,f.default)(a.prototype),"onPropertyChange",this).call(this,t,e,r),"flexible"===t&&w(this),!this.attributes.flexible||"width"!==t&&"height"!==t&&"scale"!==t&&"transform"!==t||w(this)}},{key:"children",get:function(){return[this.svg]}},{key:"childNodes",get:function(){return[this.svg]}},{key:"svg",get:function(){return this[x]?this[x].children[0]:null}}]),a}(p.default);e.default=A,(0,d.default)(A,"Attr",v.default),g.default.registerNode(A,"spritesvg")}));r(uc);var lc=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(cr),n=a(ur),i=a(lr),s=a(mr),u=a(xr),l=a(pr),c=a(ks);function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,l.default)(t);if(e){var i=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var d=Symbol("inited"),p=null;"function"==typeof Worker&&(p=function(t){(0,s.default)(a,t);var e=h(a);function a(t){var r;if((0,n.default)(this,a),!0===t.worker&&(t.worker="./".concat(t.id,".worker.js")),(r=e.call(this,t.worker)).options=t,!t.canvas){var i=r.getResolution(),s=i.width,u=i.height,l=o.ENV.createCanvas(s,u,{offscreen:!1});l.style&&(l.style.position="absolute"),l.dataset&&(l.dataset.layerId=t.id),t.canvas=l}return r.canvas=t.canvas,r}return(0,i.default)(a,[{key:"setResolution",value:function(t){var e=t.width,n=t.height;if(this[d])this.postMessage({type:"resolution_change",width:e,height:n});else{this.canvas.width=e,this.canvas.height=n;var i=this.options,a=i.canvas.transferControlToOffscreen(),o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){(0,r.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},i);delete o.container,o.canvas=a,this.postMessage({type:"create",options:o},[a]),this[d]=!0}}},{key:"getResolution",value:function(){if(this.canvas){var t=this.canvas;return{width:t.width,height:t.height}}return{width:300,height:150}}},{key:"remove",value:function(){return!(!this.parent||!this.parent.removeChild)&&(this.parent.removeChild(this),!0)}},{key:"connect",value:function(t,e){Object.defineProperty(this,"parent",{value:t,writable:!1,configurable:!0}),Object.defineProperty(this,"zOrder",{value:e,writable:!1,configurable:!0})}},{key:"disconnect",value:function(){delete this.parent,delete this.zOrder}},{key:"dispatchPointerEvent",value:function(t){this.postMessage({type:"event",event:{cancelBubble:t.cancelBubble,bubbles:t.bubbles,detail:t.detail,identifier:t.identifier,layerX:t.layerX,layerY:t.layerY,originalX:t.originalX,originalY:t.originalY,type:t.type,x:t.x,y:t.y}})}},{key:"id",get:function(){return this.options.id}}]),a}((0,c.default)(Worker)));var v=p;e.default=v}));r(lc);var cc=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){for(var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.offsetTop,o=void 0===a?0:a,s=i.offsetLeft,u=void 0===s?0:s,l=i.displayRatio,c=void 0===l?1:l,f=[],h=t.target.getBoundingClientRect(),d=h.left,p=h.top,v=h.width,g=h.height,y=t.target.width,m=t.target.height,b=t.changedTouches||[t],x=0;x<b.length;x++){var M=b[x],w=M.identifier,A=M.clientX,k=M.clientY;null!=A&&null!=k&&f.push({x:Math.round((0|A)-d),y:Math.round((0|k)-p),identifier:w})}f.length<=0&&f.push({x:e,y:n});var _=[];return f.forEach((function(i){null!=i.x&&null!=i.y&&(e=(i.x*y/v-u)/c,n=(i.y*m/g-o)/c);var a=new r.default(t);Object.defineProperties(a,{layerX:{value:e,configurable:!0},layerY:{value:n,configurable:!0},originalX:{value:i.x},originalY:{value:i.y},x:{value:e,configurable:!0},y:{value:n,configurable:!0},identifier:{value:i.identifier}}),_.push(a)})),_};var r=a(hs);er.glMatrix.setMatrixArrayType(Array)}));r(cc);var fc=n((function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=a(ys),i=a(ms),s=a(ur),u=a(lr),l=a(br),c=a(gr),f=a(mr),d=a(xr),p=a(pr),v=a(sr),g=a(h),y=a(vs),m=a(oc),b=a(lc),x=a(nc),M=a(cc),w=a(hs),A=a(fs);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,p.default)(t);if(e){var i=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}er.glMatrix.setMatrixArrayType(Array);var _=Symbol("enteredTargets");function S(t){return t.id=t.id||"_layer".concat(Math.random().toString(36).slice(2,12)),t.dataset||(t.dataset={}),t.dataset.layerId=t.id,t.connect=function(e,r){t.parent=e,Object.defineProperty(t,"zOrder",{value:r,writable:!1,configurable:!0})},t.disconnect=function(e){delete t.zOrder},t.canvas=t,t.getResolution=function(){return{width:0,height:0}},t.setResolution=function(){return!1},t.options={handleEvent:!1},t}function E(t,e){for(var r=t.children,n=null,i=0;i<r.length;i++){var a=r[i];if(e!==a&&null==n||(n=a),n&&n!==e&&!n.offscreen)return n.canvas}return null}function R(t,e){var r=(0,g.default)(t.renderOffset,2),n=r[0],i=r[1],a=t.getResolution(),o=a.width,s=a.height,u=t.displayRatio;t.renderer.drawImage(e.canvas,-n/u,-i/u,o/u,s/u)}var T={};function O(t){var e=t.container;e.addEventListener("mouseleave",(function(e){var r=t[_];if(r.size){var n=new w.default("mouseleave");n.setOriginalEvent(e),(0,v.default)(r).forEach((function(t){t.dispatchEvent(n)})),t[_].clear()}}),{passive:!0}),["mousedown","mouseup","mousemove","mousewheel","wheel","touchstart","touchend","touchmove","touchcancel","click","dblclick","longpress","tap","contextmenu"].forEach((function(r){e.addEventListener(r,(function(e){var r=t.options,n=r.left,i=r.top,a=r.displayRatio,o=t.orderedChildren;(0,M.default)(e,{offsetLeft:n,offsetTop:i,displayRatio:a}).forEach((function(r){var n=r.identifier;if("touchmove"===r.type||"touchend"===r.type){var i=T[n];i&&i.dispatchEvent(r),"touchend"===r.type&&delete T[n]}else{for(var a=o.length-1;a>=0;a--){var s=o[a];if(!1!==s.options.handleEvent){if(s.dispatchPointerEvent(r)&&r.target!==s)break;r.cancelBubble=!1}}if(r.target===o[0])for(var u=o.length-1;u>=0;u--){var l=o[u];if(!1!==l.options.handleEvent){r.target=l;break}}}var c=r.target;if("touchstart"===r.type&&(T[n]=r.target),"mousemove"===r.type){var f,h=t[_];if(c){var d=c.ancestors||[];f=new Set([c].concat((0,v.default)(d)))}else f=new Set;var p=Object.entries(e);if(!h.has(c)&&c){var m=new w.default("mouseenter");m.setOriginalEvent(e),p.forEach((function(t){var e=(0,g.default)(t,2),r=e[0],n=e[1];m[r]=n})),h.add(c),c.dispatchEvent(m);var b=c.ancestors;b&&b.forEach((function(t){t instanceof y.default&&!h.has(t)&&(h.add(t),t.dispatchEvent(m))}))}var x=new w.default("mouseleave");x.setOriginalEvent(e),p.forEach((function(t){var e=(0,g.default)(t,2),r=e[0],n=e[1];x[r]=n})),(0,v.default)(h).forEach((function(t){f.has(t)||(h.delete(t),t.dispatchEvent(x))}))}}))}),{passive:"contextmenu"!==r})}))}function C(t,e){if(e&&e.style){var r=t.width,n=t.height,i=t.mode,a=t.container,o=a.clientWidth,s=a.clientHeight;r=r||o,n=n||s,"static"===i?(e.style.width="".concat(r,"px"),e.style.height="".concat(n,"px")):(e.style.top="0",e.style.left="0",e.style.width="".concat(o,"px"),e.style.height="".concat(s,"px"),e.style.transform="",e.style.webkitTransform="")}}var L=Symbol("offscreenLayerCount"),P=function(t){(0,f.default)(h,t);var r,a=k(h);function h(){var t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,s.default)(this,h),t=a.call(this),!n.container){if("function"!=typeof o.ENV.Container)throw new Error("No container specified.");n.container=new o.ENV.Container(n.width||300,n.height||150)}if((t.container=n.container,t.container.style&&(t.container.style.overflow||(t.container.style.overflow="hidden"),t.container.style.position||(t.container.style.position="relative")),t.options=n,n.displayRatio=n.displayRatio||1,n.mode=n.mode||"scale",n.left=0,n.top=0,n.autoResize=!1!==n.autoResize,n.autoResize)&&(r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:e).addEventListener){var i=(0,l.default)(t);r.addEventListener("resize",(function t(){"undefined"!=typeof document&&document.contains(i.container)?i.resize():r.removeEventListener("resize",t)}))}return t[_]=new Set,t.setResolution(n),O((0,l.default)(t)),t[L]=0,t}return(0,u.default)(h,[{key:"appendChild",value:function(t){t instanceof m.default||t instanceof b.default||S(t);var e=(0,c.default)((0,p.default)(h.prototype),"appendChild",this).call(this,t),r=t.canvas;return t.offscreen?this[L]++:this.container.appendChild(r),C(this.options,r),t.setResolution(this.getResolution()),e}},{key:"forceUpdate",value:function(){var t=this;this.hasOffscreenCanvas&&!this._requestID&&(this._requestID=(0,rr.requestAnimationFrame)((function(){delete t._requestID,t.render()})))}},{key:"insertBefore",value:function(t,e){t instanceof m.default||t instanceof b.default||S(t);var r=(0,c.default)((0,p.default)(h.prototype),"insertBefore",this).call(this,t,e),n=t.canvas;if(!t.offscreen){var i=E(this,t);this.container.insertBefore(n,i)}return C(this.options,n),t.setResolution(this.getResolution()),r}},{key:"layer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(e=Object.assign({},this.options,e)).id=t;for(var r=this.orderedChildren,n=0;n<r.length;n++)if(r[n].id===t)return r[n];var i,a=e.worker;return i=a?new b.default(e):new m.default(e),this.appendChild(i),i}},{key:"preload",value:(r=(0,i.default)(n.default.mark((function t(){var e,r,i,a,o,s,u,l,c=this,f=arguments;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=f.length,r=new Array(e),i=0;i<e;i++)r[i]=f[i];for(a=[],o=[],s=[],u=function(t){var e=r[t],n=void 0;if("string"==typeof e)n=(0,bs.loadTexture)(e);else if(Array.isArray(e))n=bs.loadFrames.apply(void 0,(0,v.default)(e));else{var i=e.id,u=e.src;n=(0,bs.loadTexture)(u,i)}n instanceof Promise||(n=Promise.resolve(n)),o.push(n.then((function(e){a.push(e),s[t]=e;var n=new w.default({type:"preload",detail:{current:e,loaded:a,resources:r}});c.dispatchEvent(n)})))},l=0;l<r.length;l++)u(l);return t.next=6,Promise.all(o);case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})},{key:"removeChild",value:function(t){var e=(0,c.default)((0,p.default)(h.prototype),"removeChild",this).call(this,t);if(e){t._prepareRenderFinished&&t._prepareRenderFinished();var r=t.canvas;r&&r.remove&&r.remove(),t.offscreen&&this[L]--}return e}},{key:"render",value:function(){for(var t=this.orderedChildren,e=null,r=[],n=0;n<t.length;n++){var i=t[n],a=r.length>0;if(i instanceof m.default&&!i.offscreen)if(i.autoRender)if(e=i,a){i.renderer.clear();for(var o=0;o<r.length;o++){var s=r[o];s.render(),R(i,s)}r.length=0,i.render({clear:!1})}else i.prepareRender&&i.render();else a&&(console.warn("Some offscreen canvas will not be rendered."),r.length=0);else i.offscreen?e?(i.prepareRender&&i.render(),R(e,i)):r.push(i):i instanceof b.default&&a&&(console.warn("Some offscreen canvas will not be rendered."),r.length=0)}}},{key:"replaceChild",value:function(t,e){var r=(0,c.default)((0,p.default)(h.prototype),"replaceChild",this).call(this,t,e);e.canvas.remove&&e.canvas.remove(),e.offscreen&&this[L]--;var n=t.canvas;if(!t.offscreen){var i=E(this,t);this.container.insertBefore(n,i)}return C(this.options,n),t.setResolution(this.getResolution()),r}},{key:"resize",value:function(){var t=this.options;this.children.forEach((function(e){C(t,e.canvas)})),this.setResolution(t),this.dispatchEvent({type:"resize"})}},{key:"setResolution",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.width,r=t.height,n=this.container,i=n.clientWidth,a=n.clientHeight;null!=e&&null!=r||(e=null==e?i:e,r=null==r?a:r);var o=this.options,s=o.mode,u=o.displayRatio;if(e*=u,r*=u,this.options.left=0,this.options.top=0,"stickyHeight"===s||"stickyLeft"===s||"stickyRight"===s){var l=e;e=i*r/a,"stickyHeight"===s&&(this.options.left=.5*(e-l)),"stickyRight"===s&&(this.options.left=e-l)}else if("stickyWidth"===s||"stickyTop"===s||"stickyBottom"===s){var f=r;r=a*e/i,"stickyWidth"===s&&(this.options.top=.5*(r-f)),"stickyBottom"===s&&(this.options.top=r-f)}(0,c.default)((0,p.default)(h.prototype),"setResolution",this).call(this,{width:e,height:r})}},{key:"snapshot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.offscreen,r=void 0!==e&&e,n=t.layers,i=r?"snapshotOffScreenCanvas":"snapshotCanvas",a=this.getResolution(),s=a.width,u=a.height;this[i]=this[i]||o.ENV.createCanvas(s,u,{offscreen:r});var l=this[i].getContext("2d");n=n||this.orderedChildren,this[i].width=s,this[i].height=u;for(var c=0;c<n.length;c++){var f=n[c];if(!f.options.ignoreSnapshot){f.render&&f.render();var h=f.canvas;h&&h!==f&&l.drawImage(h,0,0,s,u)}}return this[i]}},{key:"hasOffscreenCanvas",get:function(){return this[L]>0}},{key:"displayRatio",set:function(t){this.options.displayRatio!==t&&(this.options.displayRatio=t,this.resize())},get:function(){return this.options.displayRatio}},{key:"height",set:function(t){this.options.height!==t&&(this.options.height=t,this.resize())},get:function(){return this.options.height}},{key:"mode",set:function(t){this.options.mode!==t&&(this.options.mode=t,this.resize())},get:function(){return this.options.mode}},{key:"width",set:function(t){this.options.width!==t&&(this.options.width=t,this.resize())},get:function(){return this.options.width}}]),h}(x.default);r.default=P,"undefined"!=typeof document&&(P.prototype.layer3d=function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.url||"https://unpkg.com/sprite-extend-3d/dist/sprite-extend-3d.min.js";return new Promise((function(i,a){var o=document.createElement("script");o.async=!1,o.src=n,o.onload=function(){try{i(e.layer3d(t,r))}catch(t){a(t)}},document.documentElement.appendChild(o)}))}),A.default.registerNode(P,"scene")}));r(fc);var hc="A cross platform high-performance graphics system.",dc="dist/spritejs.js",pc={test:"jest --coverage","test:build":"jest --updateSnapshot --coverage","test:coveralls":"jest --coverage --coverageReporters=text-lcov | coveralls",start:"webpack-dev-server --env.server=examples --watch-poll",compile:"rm -rf lib/* && babel src -d lib",doc:"docsify serve ./docs",build:"rm -rf dist/* && webpack --env.mode=none & webpack --env.mode=none --env.esnext & webpack --env.mode=none --env.esnext --env.module & webpack --env.mode=production & webpack --env.mode=production --env.esnext","demo:dev":"demosify --serve","demo:prod":"demosify --prod",benchmark:"webpack-dev-server --watch-poll --env.server=benchmark",prepublishOnly:"npm run compile && npm run build && npm run demo:prod"},vc={type:"git",url:"https://github.com/spritejs/spritejs"},gc=["webgl","webgl2","3d","2d","rendering","canvas"],yc={"@babel/cli":"^7.14.8","@babel/core":"^7.4.5","@babel/plugin-proposal-class-properties":"^7.4.4","@babel/plugin-transform-runtime":"^7.4.4","@babel/preset-env":"^7.4.5","@babel/register":"^7.8.6","@demosify/core":"^0.6.0","@purtuga/esm-webpack-plugin":"^1.2.1","babel-eslint":"^10.0.1","babel-loader":"^8.0.6","babel-plugin-transform-gl-matrix":"^0.6.0",colors:"^1.4.0",coveralls:"^3.0.9",docsify:"^4.12.1",eslint:"^5.16.0","eslint-config-sprite":"^1.0.6","eslint-plugin-html":"^5.0.5",gl:"^4.4.0",jest:"^25.1.0","node-canvas-webgl":"^0.2.6","raw-loader":"^3.1.0",request:"^2.88.0",webpack:"^4.33.0","webpack-cli":"^3.3.4","webpack-dev-server":"^3.11.0"},mc={"@babel/runtime":"^7.4.5","@mesh.js/core":"^1.1.23","color-rgba":"^2.1.1","css-select":"^2.0.2","gl-matrix":"^3.1.0",pasition:"^1.0.2","sprite-animator":"^1.11.5"},bc={testRegex:"/test/.*.test.js$",testEnvironmentOptions:{pretendToBeVisual:!0},moduleNameMapper:{},setupFiles:["./src/platform/jest-jsdom"]},xc={name:"spritejs",version:"3.8.0",description:hc,main:dc,typings:"typings/spritejs.d.ts",module:"lib/index.js",scripts:pc,homepage:"https://spritejs.com",repository:vc,keywords:gc,author:"akira-cn",license:"MIT",devDependencies:yc,dependencies:mc,jest:bc},Mc=i(Object.freeze({__proto__:null,name:"spritejs",version:"3.8.0",description:hc,main:dc,typings:"typings/spritejs.d.ts",module:"lib/index.js",scripts:pc,homepage:"https://spritejs.com",repository:vc,keywords:gc,author:"akira-cn",license:"MIT",devDependencies:yc,dependencies:mc,jest:bc,default:xc})),wc=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ENV",{enumerable:!0,get:function(){return o.ENV}}),Object.defineProperty(e,"requestAnimationFrame",{enumerable:!0,get:function(){return rr.requestAnimationFrame}}),Object.defineProperty(e,"cancelAnimationFrame",{enumerable:!0,get:function(){return rr.cancelAnimationFrame}}),Object.defineProperty(e,"Node",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Cloud",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"Block",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Rect",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Triangle",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"Parallel",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"Regular",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"Star",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"Arc",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"Ring",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"Polyline",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"Label",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"Group",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"Layer",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(e,"SpriteSvg",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(e,"LayerWorker",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(e,"Scene",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(e,"Gradient",{enumerable:!0,get:function(){return _s.Gradient}}),Object.defineProperty(e,"Color",{enumerable:!0,get:function(){return _s.Color}}),e.registerNode=e.isSpriteNode=e.createElement=e.helpers=e.version=void 0;var r=a(vs),n=a(xs),i=a(Ts),s=a(Cs),u=a(Ds),l=a(js),c=a(Vs),f=a(Gs),h=a(Ys),d=a(Xs),p=a($s),v=a(Qs),g=a(tu),y=a(Fs),m=a(ru),b=a(nc),x=a(oc),M=a(uc),w=a(lc),A=a(fc),k=a(fs);er.glMatrix.setMatrixArrayType(Array);var _=k.default.createElement;e.createElement=_;var S=k.default.isSpriteNode;e.isSpriteNode=S;var E=k.default.registerNode;e.registerNode=E;var R={parseColor:_s.parseColor,sizeToPixel:fr.sizeToPixel,toArray:fr.toArray,toString:fr.toString,toNumber:fr.toNumber};e.helpers=R;var T="string"==typeof __SPRITEVER__?__SPRITEVER__:Mc.version;e.version=T})),Ac=r(wc),kc=wc.registerNode,_c=wc.isSpriteNode,Sc=wc.createElement,Ec=wc.helpers,Rc=wc.version,Tc=Object.freeze({__proto__:null,default:Ac,__moduleExports:wc,registerNode:kc,isSpriteNode:_c,createElement:Sc,helpers:Ec,version:Rc}),Oc={layout:"normal",margin:{left:40,top:20,right:20,bottom:40},itemLabel:{textAlign:"left",textBaseline:"middle",font:"12px Arial",fill:"#000"},markLine:{x:!0,y:!0,stroke:"#EB792A",fill:"#CCC",lineWidth:1,radius:5,zIndex:20},legend:{stroke:"transparent",lineWidth:0,margin:{left:10,top:10,right:20,bottom:10},width:200,height:0,item:{shape:{width:20,height:15},label:{textAlign:"left",textBaseline:"middle",font:"12px Arial",fill:"#000"},normal:{fill:"transparent",cursor:"default"},hover:{fill:"#ccc",cursor:"pointer"}}},chartArea:{stroke:"rgb(229,229,229)",zIndex:5},axis:{stroke:"#05468E",lineWidth:1,zIndex:1,grid:{x:!0,y:!1,stroke:"rgb(229,229,229)",lineType:"dotted",dashLength:6,lineWidth:1,zIndex:0},align:"normal",xLabel:{count:5,length:5,fill:"#000",stroke:"#000",margin:{left:0,top:10,right:6,bottom:0},textAlign:"center",textBaseline:"top",font:"12px Arial",zIndex:20,rotation:{angle:0,point:{x:0,y:0}}},yLabel:{count:5,length:1,fill:"#000",margin:{left:2,top:6,right:8,bottom:0},textAlign:"right",textBaseline:"middle",font:"12px Arial",zIndex:20,rotation:{angle:0,point:{x:0,y:0}}}},chartColors:["#249FDA","#EA3B7C","#8EBC00","#309B46","#4B507E","#D8E404","#EB792A","#A00DA0"],line:{normal:{lineWidth:1,zIndex:18,cursor:"default"},hover:{lineWidth:4,cursor:"pointer"},lineWidth:1,zIndex:18,cursor:"default",radius:3,fill:null,showItem:!1,item:{fill:"#fff",zIndex:19},area:!1},stackLine:{normal:{lineWidth:1,zIndex:18,cursor:"default"},hover:{lineWidth:4,cursor:"pointer"},lineWidth:1,zIndex:18,cursor:"default",radius:3,fill:null,showItem:!0,item:{fill:"#fff",zIndex:19},area:!1},bar:{normal:{lineWidth:1,zIndex:17,cursor:"default",opacity:.8},hover:{lineWidth:4,opacity:1,cursor:"pointer"},lineWidth:1,perWidth:.5,zIndex:17,cursor:"default",close:!0,opacity:.8,shadow:{x:1,y:1,blur:2,color:"#000"}},pie:{normal:{zIndex:11,cursor:"default",opacity:.8},hover:{opacity:1,cursor:"pointer"},margin:{left:10,top:10,right:10,bottom:10},lineWidth:1,zIndex:11,cursor:"default",close:!0,opacity:.8,shadow:{x:1,y:1,blur:2,color:"#ccc"}},candlestick:{normal:{lineWidth:1,zIndex:18,cursor:"default"},hover:{cursor:"pointer"},perWidth:.5,negativeColor:"green",masculineColor:"red",lineWidth:1}};class Cc{constructor(e,r){t(this,"type","x"),t(this,"field",""),t(this,"labelStart",0),t(this,"zeroBase",!1),t(this,"labelCount",1),t(this,"scalePoints",[]),this.chart=e,this.arrowVisible=!!r.arrowVisible,this.zeroBase=r.zeroBase||!1,this.labelCount=r.labelCount||5,this.type=r.type||"x","x"==this.type?this.dataType=r.dataType||"string":this.dataType=r.dataType||"number",this.field=r.field||"",this.index=r.index||0,this.init(r)}init(t){(t=t||{}).style&&this.graph.utils.clone(t.style,this.style,!0),"x"==this.type?(void 0!==t.maxXValue&&(this.maxValue=t.maxXValue),void 0!==t.minXValue&&(this.minValue=t.minXValue)):(void 0!==t.maxYValue&&(t.maxYValue>this.maxValue||void 0===this.maxValue)&&(this.maxValue=t.maxYValue),void 0!==t.minYValue&&(t.minYValue<this.minValue||void 0===this.minValue)&&(this.minValue=t.minYValue))}get data(){return this.graph.data}set data(t){this.graph.data=t}reset(){const t=this.graph.chartArea.getBounds();switch(this.type){case"x":if(this.labelCount=this.style.xLabel.count||5,this.start.x=t.left,this.start.y=t.bottom,this.end.x=t.right,this.end.y=t.bottom,0===this.graph.baseY){const t=this.graph.yAxises[1];if(!t)return;this.value=0;const e=this.start.y+t.min()*t.step();this.start.y=this.end.y=e}break;case"y":{const e=this.index||1;let r=t.left;this.labelCount=this.style.yLabel.count||5,2==e?r=t.right:e>2&&(r=this.graph.yAxises[e-1].start.x+this.graph.yAxises[e-1].width+10),this.start.x=r,this.start.y=t.bottom,this.end.x=this.start.x,this.end.y=t.top;break}}this.createLabel()}draw(){this.points.push(...this.scalePoints),super.draw()}createLabel(){this.children.each((function(t,e){e.remove()}),!0),this.labels=[],"x"==this.type?this.createXLabel():"y"==this.type&&this.createYLabel()}createXLabel(){const t=this.step();this.scalePoints=[];const e=this.option.format||this.format,r=(this.style.xLabel.margin.top||0)*this.graph.devicePixelRatio;for(let n=0;n<this.data.length;n++){const i=this.data[n],a=i[this.field],o=e.call(this,a,i,n);if(!o)continue;const s=n*t,u=this.graph.createShape("label",{style:this.style.xLabel});u.data=i,u.text=o,this.labels.push(u),this.children.add(u),u.width=u.testSize().width+2,u.height=15;const l={x:this.labelStart+s,y:r};if(this.style.grid&&this.style.grid.y){const t=this.graph.createShape("line",{start:{x:l.x,y:0},end:{x:l.x,y:-this.graph.chartArea.height},style:this.style.grid});this.children.add(t)}this.scalePoints.push({x:l.x+this.start.x,y:this.start.y,m:!0}),this.scalePoints.push({x:l.x+this.start.x,y:this.start.y+(this.style.length||5)});const c=u.style.rotation;c&&c.angle?(c.point=l,u.position={x:-this.graph.chartArea.position.x,y:-this.graph.chartArea.position.y}):("center"===this.style.align&&this.data.length>1&&(0===n||n===this.data.length-1)?n===this.data.length-1&&(l.x-=u.width):l.x-=u.width/2,u.position=l)}}createYLabel(){const t=this.max(),e=this.min(),r=this.step(),n=this.index||1;this.scalePoints=[];let i=this.labelCount;let a=(t-e)/i||1;const o=this.option.format||this.format,s=this.style.yLabel.margin.left*this.graph.devicePixelRatio||0,u=this.style.yLabel.margin.right*this.graph.devicePixelRatio||0;let l=0;for(let c=0;c<i+1;c++){l=e+a*c,(l>t||c===i)&&(l=t);const f=(l-e)*r,h=this.graph.graph.createShape("label",{style:this.style.yLabel});h.text=o.call(this,l,h),this.labels.push(h),this.children.add(h);const d=h.testSize().width,p=this.height-f,v={x:0,y:0},g=s+u+d;if(this.width=Math.max(g,this.width),n<=1){if(v.x=-d-u,v.y=p-h.height/2,this.scalePoints.push({x:this.start.x,y:p+this.end.y,m:!0}),this.scalePoints.push({x:this.start.x,y:p+this.end.y}),this.style.grid&&this.style.grid.x){const t=this.graph.createShape("line",{start:{x:0,y:p},end:{x:this.graph.chartArea.width,y:p},style:this.style.grid});this.children.add(t)}}else v.x=s,v.y=p-h.height/2,this.scalePoints.push({x:this.start.x,y:p+this.end.y,m:!0}),this.scalePoints.push({x:this.start.x,y:p+this.end.y});switch(this.style.yLabel.textAlign){case"center":v.x=v.x/2-d/2;break;case"right":v.x=n<=1?-g:g-d}const y=h.style.rotation;y&&y.angle?(h.translate=v,h.position={x:-d/2,y:0}):h.position=v}}get width(){return this._width?this._width:Math.abs(this.end.x-this.start.x)}set width(t){this._width=t}get height(){return Math.abs(this.end.y-this.start.y)}set height(t){}max(t){return void 0!==t&&("number"==this.dataType&&t<0&&this.zeroBase&&(t=0),this._max=null!=this._max&&void 0!==this._max?Math.max(t,this._max):t,void 0!==this.maxValue&&(this._max=Math.max(this.maxValue,this._max))),"string"==this.dataType&&this.data?this.data.length:"number"==this.dataType?(t=this._max,void 0!==this.maxValue&&t<=this.maxValue?this.maxValue:t=t<=0?t>=-10?0:-10:t>500?100*(t=Math.ceil(t/100))+100:t>100?50*(t=Math.ceil(t/50))+50:t>10?10*(t=Math.ceil(t/10))+10:Math.ceil(t)):this._max}min(t){return void 0!==t&&("number"==this.dataType&&t>0&&this.zeroBase&&(t=0),this._min=null!=this._min&&void 0!==this._min?Math.min(t,this._min):t,void 0!==this.minValue&&(this._min=Math.min(this.minValue,this._min))),"number"==this.dataType?(t=this._min,void 0!==this.minValue?void 0!==t?Math.min(this.minValue,t):this.minValue:t=t>=0?t<=10?0:10*Math.floor(t/10)-10:t<-500?100*(t=Math.floor(t/100))-100:t<-100?50*(t=Math.floor(t/50))-50:t<-10?10*(t=Math.floor(t/10))-10:Math.floor(t)):"string"==this.dataType?0:this._min}clear(){this._min=null,this._max=null}step(){if("x"==this.type){const t=this.width;if("inside"==this.graph.style.layout){const e=t/this.max();return this.labelStart=e/2,e}this.labelStart=0;let e=this.max()-1;return 0===e&&(e=2),t/e}if("y"==this.type){const t=this.height;if("string"===this.dataType)return t/this.max();{let e=Math.abs(this.max()-this.min());return e=e||1,t/e}}}format(t,e){return t+""}}class Lc{constructor(e,r){t(this,"legendPosition",""),this.chart=e,r.position=r.position||{x:0,y:0}}}Lc.prototype.append=function(t,e,r={}){if(!1===this.visible)return;const n=this.graph.createShape("rect",{style:this.graph.utils.clone(this.style.item),position:{x:0,y:0}});this.children.add(n),n.children.add(e),e.width=n.style.shape.width,e.height=n.style.shape.height;let i=r.name||t.legendLabel;if(i=t.option.legendFormat?t.option.legendFormat.call(t,r):i,i){const t=this.graph.createShape("label",{style:n.style.label,text:i||""});t.height=e.height,t.position={x:e.width+4,y:0},n.children.add(t),n.width=e.width+t.testSize().width}else n.width=e.width;n.height=e.height;const a=this.legendPosition||this.style.legendPosition||"right";"top"==a||"bottom"==a?(n.position.x=this.width+15*this.graph.devicePixelRatio,this.width=n.position.x+n.width,this.height=Math.max(n.height,this.height)):(n.position.y+=this.height+5*this.graph.devicePixelRatio,this.height=n.position.y+n.height,this.width=Math.max(n.width,this.width)),this.needUpdate=!0},Lc.prototype.init=function(){this.position.x=0,this.position.y=0,this.width=0,this.height=0,this.style.lineWidth=0,this.children.clear()},Lc.prototype.reset=function(){if(!1!==this.visible)switch(this.position.x=this.graph.chartArea.position.x,this.position.y=this.graph.chartArea.position.y,this.legendPosition||this.style.legendPosition){case"left":this.graph.chartArea.width=this.graph.chartArea.width-this.width,this.graph.chartArea.position.x=this.position.x+this.width+this.style.margin.right*this.graph.devicePixelRatio;break;case"top":this.graph.chartArea.height=this.graph.chartArea.height-this.height,this.graph.chartArea.position.y=this.position.y+this.height+this.style.margin.bottom*this.graph.devicePixelRatio;break;case"bottom":this.graph.chartArea.height=this.graph.chartArea.height-this.height,this.position.y=this.graph.chartArea.position.y+this.graph.chartArea.height+this.style.margin.top*this.graph.devicePixelRatio;break;default:this.graph.chartArea.width=this.graph.chartArea.width-this.width,this.position.x=this.graph.chartArea.position.x+this.graph.chartArea.width+this.style.margin.left*this.graph.devicePixelRatio}};var Pc={arrayIsChange(t,e,r){if(!t||!e)return!0;if(t.length!==e.length)return!0;if("function"==typeof r){for(let n=0;n<t.length;n++)if(!r(t[n],e[n]))return!0;return!1}return t==e}};class Dc{constructor(e,r){t(this,"legendLabel",""),t(this,"shapes",new jmList),t(this,"keyPoints",[]),t(this,"labels",[]),t(this,"field",""),t(this,"baseYHeight",0),t(this,"baseY",0),t(this,"baseYValue",0),this.chart=e,this.option=r,this.field=r.field||r.fields||"",this.index=r.index||1,this.legendLabel=r.legendLabel||"",this.___animateCounter=0,this.xAxis=this.chart.createXAxis(),this.yAxis=this.yAxis||this.chart.createYAxis({index:this.index,format:r.yLabelFormat||this.graph.option.yLabelFormat}),this.yAxis.init({field:this.field,minYValue:r.minYValue,maxYValue:r.maxYValue})}get data(){return this.graph.data}set data(t){this.graph.data=t}get enableAnimate(){return void 0!==this.option.enableAnimate?!!this.option.enableAnimate:this.graph.enableAnimate}set enableAnimate(t){this.option.enableAnimate=t}initDataPoint(...t){let e=!1;return this.enableAnimate?(this.lastPoints=this.graph.utils.clone(this.dataPoints,null,!0,(t=>{if(t instanceof jmControl)return t})),this.dataPoints=this.createPoints(...t),e=Pc.arrayIsChange(this.lastPoints,this.dataPoints,((t,e)=>t.x===e.x&&t.y===e.y)),e&&(this.___animateCounter=0)):this.dataPoints=this.createPoints(...t),{dataChanged:e,points:this.dataPoints}}getDataPointByX(t){if(!this.dataPoints)return null;let e;for(let r=0;r<this.dataPoints.length;r++){const n=this.dataPoints[r];if(n.x==t)return n;if(n.x<t){if(r===this.dataPoints.length-1)return n;e=n}if(n.x>t)return e&&t-e.x<n.x-t?e:n}return null}getDataPointByXValue(t){if(!this.dataPoints)return null;for(let e=0;e<this.dataPoints.length;e++){const r=this.dataPoints[e];if(r.xValue==t)return r}return null}reset(){for(var t;t=this.shapes.shift();)t&&t.remove();return this.createLegend(),this.initAxisValue(),this.chartInfo={xAxis:this.xAxis,yAxis:this.yAxis}}initAxisValue(){for(var t=0;t<this.data.length;t++){if(Array.isArray(this.field))this.field.forEach((e=>{const r=this.data[t][e];this.yAxis.max(r),this.yAxis.min(r)}));else{const e=this.data[t][this.field];this.yAxis.max(e),this.yAxis.min(e)}const e=this.data[t][this.xAxis.field];this.xAxis.max(e),this.xAxis.min(e)}}createPoints(t){if(!(t=t||this.data))return;const e=this.xAxis.step(),r=this.yAxis.min(),n=this.yAxis.step();this.baseYValue=void 0===this.graph.baseY?r:this.graph.baseY||0,this.baseYHeight=(this.baseYValue-r)*n,this.baseY=this.graph.chartArea.height-this.baseYHeight;const i=Array.isArray(this.field)?this.field:[this.field];this.dataPoints=[];for(let r=0;r<t.length;r++){const a=t[r],o=a[this.xAxis.field],s={data:a,index:r,xValue:o,xLabel:o,points:[],style:this.graph.utils.clone(this.style)};s.x=e*r+this.xAxis.labelStart;for(const t of i){const e=a[t];s.yLabel=s.yValue=e,s.height=(e-this.baseYValue)*n;const i={x:s.x,height:s.height,yValue:e,field:t};null==e||void 0===e?i.m=s.m=!0:("number"!=this.yAxis.dataType&&(e=r),i.y=s.y=this.baseY-i.height),s.points.push(i)}"function"==typeof this.option.initItemHandler&&this.option.initItem.call(this,s),this.dataPoints.push(s)}return this.dataPoints}getColor(t){return"function"==typeof this.style.color?this.style.color.call(this,t):this.style.color}createLegend(){const t=this.graph.utils.clone(this.style);t.fill=this.getColor();const e=this.graph.createShape("rect",{style:t});this.graph.legend.append(this,e)}createItemLabel(t,e){if(!this.style.label||!0!==this.style.label.show)return;const r=this.option.itemLabelFormat?this.option.itemLabelFormat.call(this,t):t.yValue;if(!r)return;if(r instanceof jmControl)return this.addShape(r),r;const n=this.graph.utils.clone(this.graph.style.itemLabel,{zIndex:21,...this.style.label});"function"==typeof n.fill&&(n.fill=n.fill.call(this,t));const i=(this.barTotalWidth||0)/2-(this.barWidth||0)*(this.barIndex||0)-(this.barWidth||0)/2,a=t.y-this.baseY,o=this.graph.createShape("label",{style:n,text:r,data:t,position:function(){const e=n.offset||5,r=this.testSize();return{x:t.x-r.width/2-i,y:a>0?t.y+e:t.y-r.height-e}}});this.addShape(o)}addShape(t){return this.graph.chartArea.children.add(t),this.shapes.add(t),t}getEvent(t){const e=this.option?this.option[t]:null;if(e){const r=new jmList;r.add(e);const n=super.getEvent(t);return n&&r.concat(n),r}return super.getEvent(t)}}class qc extends Dc{constructor(t,e){super(t,e)}init(){const{points:t,dataChanged:e}=this.initDataPoint(),r=t.length;this.initWidth(r);const n=this.enableAnimate&&(e||this.___animateCounter>0)&&r<100;let i=!0;const a=this.style.aniCount||10;for(let e=0;e<r;e++){const r=t[e];if(void 0===r.y||null===r.y)continue;r.style.fill=this.getColor(r);const o=this.addShape(this.graph.createPath(null,r.style)),s={x:r.x-this.barTotalWidth/2+this.barWidth*this.barIndex,y:this.baseY},u={x:s.x+this.barWidth,y:s.y},l={x:s.x,y:s.y},c={x:u.x,y:s.y};if(n){const t=r.height/a,e=t*this.___animateCounter;l.y=s.y-e,t>=0&&l.y<=r.y||t<0&&l.y>=r.y?l.y=r.y:i=!1,c.y=l.y}else l.y=r.y,c.y=r.y;o.points.push(s),o.points.push(l),o.points.push(c),o.points.push(u),this.createItemLabel(r),this.emit("onPointCreated",r)}i?this.___animateCounter=0:(this.___animateCounter++,setTimeout((()=>{this.needUpdate=!0})))}initWidth(t){const e=this.xAxis.width/t/this.graph.barSeriesCount;this.style.barWidth>0?(this.barWidth=Number(this.style.barWidth),this.barTotalWidth=this.barWidth*this.graph.barSeriesCount):(this.barTotalWidth=this.xAxis.width/t*(this.style.perWidth||.4),this.barWidth=this.barTotalWidth/this.graph.barSeriesCount),this.barWidth>e&&(this.barWidth=e,this.barTotalWidth=e*this.graph.barSeriesCount)}addShape(t){return this.children.add(t),this.shapes.add(t),t}}class jc extends qc{constructor(t,e){super(t,e)}init(){const{points:t,dataChanged:e}=this.initDataPoint(),r=t.length;this.initWidth(r);const n=this.enableAnimate&&(e||this.___animateCounter>0)&&r<100;let i=!0;const a=this.style.aniCount||10;for(let e=0;e<r;e++){const r=t[e];let o=this.baseY,s=this.baseY;for(let t=0;t<r.points.length;t++){const e=this.graph.utils.clone(this.style);e.color&&"function"==typeof e.color?e.fill=e.color.call(this,this,t):e.fill=this.graph.getColor(t);const u=this.addShape(this.graph.createPath(null,e)),l=r.points[t];let c=o;l.yValue<this.baseYValue&&(c=s);const f={x:l.x-this.barTotalWidth/2,y:c},h={x:f.x+this.barWidth,y:f.y},d={x:f.x,y:f.y},p={x:h.x,y:f.y};if(n){const t=l.height/a,e=t*this.___animateCounter;d.y=c-e,t>=0&&e>=l.height||t<0&&e<=l.height?d.y=c-l.height:i=!1,l.y=p.y=d.y}else d.y=c-l.height,l.y=p.y=d.y;l.yValue<this.baseYValue?s=d.y:o=d.y,u.points.push(f),u.points.push(d),u.points.push(p),u.points.push(h)}this.emit("onPointCreated",r)}i?this.___animateCounter=0:(this.___animateCounter++,setTimeout((()=>{this.needUpdate=!0})))}initAxisValue(){const t=Array.isArray(this.field)?this.field:[this.field];for(const e of this.data){let r,n;for(const i of t){const t=Number(e[i]);void 0===r?r=t:t<0||r<0?r=Math.max(r,t):r+=t,void 0===n?n=t:t>=0||n>=0?n=Math.min(n,t):n+=t}this.yAxis.max(r),this.yAxis.min(n);const i=e[this.xAxis.field];this.xAxis.max(i),this.xAxis.min(i)}}}class Ic extends Dc{constructor(t,e){super(t,e),this.xAxis.visible=!1,this.yAxis.visible=!1}init(){if(this.totalValue=0,this.data)for(const t in this.data){const e=this.data[t][this.field];e&&(this.totalValue+=Math.abs(e))}const t={x:this.graph.chartArea.width/2,y:this.graph.chartArea.height/2},e=Math.min(t.x-this.style.margin.left-this.style.margin.right*this.graph.devicePixelRatio,t.y-this.style.margin.top*this.graph.devicePixelRatio-this.style.margin.bottom*this.graph.devicePixelRatio),{points:r,dataChanged:n}=this.initDataPoint(t,e);if(this.enableAnimate&&(n||this.___animateCounter>0)){const t=this.style.aniCount||20;let e=!0;const n=r.length;for(let i=0;i<n;i++){const n=r[i],a=(n.y-n.shape.startAngle)/t;n.shape.endAngle=n.shape.startAngle+this.___animateCounter*a,n.shape.endAngle>=n.y?n.shape.endAngle=n.y:e=!1}e?this.___animateCounter=0:(this.___animateCounter++,setTimeout((()=>{this.needUpdate=!0})))}}get startAngle(){return this.option.startAngle||0}set startAngle(t){this.option.startAngle=t}createPoints(t,e){if(!this.data)return[];const r=[];let n=0,i=this.startAngle;"function"==typeof i&&(i=i.call(this,this.data));let a=2*Math.PI;const o=this.option.anticlockwise||!1,s=Number(this.style.marginAngle)||0;for(var u=0;u<this.data.length;u++){const l=this.data[u],c=l[this.field];if(null!=c&&void 0!==c){const f={data:l,x:u,yValue:c,yLabel:c,step:Math.abs(c/this.totalValue),style:this.graph.utils.clone(this.style),anticlockwise:o};f.style.color&&"function"==typeof f.style.color?f.style.fill=f.style.color.call(this,f):f.style.fill=this.graph.getColor(n);const h=i;if(f.y=i+f.step*a,i=f.y,f.startAngle=h+s,f.endAngle=f.y,t&&e){const r=this.style.arcWidth||.2*e;f.radius=e,"function"==typeof this.option.radius&&(f.radius=this.option.radius.call(this,f,e,u)),f.maxRadius=f.radius,"function"==typeof this.option.maxRadius&&(f.maxRadius=this.option.maxRadius.call(this,f,f.maxRadius,u)),f.minRadius=f.radius-r,"function"==typeof this.option.minRadius&&(f.minRadius=this.option.minRadius.call(this,f,f.minRadius,u)),f.center=t,"function"==typeof this.option.center&&(f.center=this.option.center.call(this,f,f.center,u)),f.shape=this.graph.createShape(this.style.isHollow?"harc":"arc",{style:f.style,startAngle:f.startAngle,endAngle:f.endAngle,anticlockwise:o,isFan:!0,center:f.center,radius:f.radius,maxRadius:f.maxRadius,minRadius:f.minRadius}),f.shape.getLocation=function(){const t=this.location={left:0,top:0,width:0,height:0,center:this.center,radius:f.radius};return t.left=this.center.x-f.radius,t.top=this.center.y-f.radius,t.width=t.height=2*f.radius,t},f.shape.getBounds=function(){return this.getLocation()},this.addShape(f.shape),this.option.onClick&&f.shape.on("click",(t=>{this.option.onClick.call(this,f,t)})),this.option.onOver&&f.shape.on("mouseover touchover",(t=>{this.option.onOver.call(this,f,t)})),this.option.onLeave&&f.shape.on("mouseleave touchleave",(t=>{this.option.onLeave.call(this,f,t)})),this.createLabel(f)}r.push(f),n++,this.emit("onPointCreated",f)}}return r}createLabel(t){if(this.style.label&&!1===this.style.label.show)return;const e=this.option.itemLabelFormat?this.option.itemLabelFormat.call(this,t):t.step;if(!e)return;if(e instanceof jmControl)return t.shape.children.add(e),e;const r=this,n=this.graph.createShape("label",{style:this.style.label,text:e,position:function(){if(!this.parent||!this.parent.points||!this.parent.points.length)return{x:0,y:0};const t=this.parent.getBounds();let e=this.parent.points[Math.floor(this.parent.points.length/2)],n=this.parent.center;r.style.isHollow&&(e=this.parent.points[Math.floor(.25*this.parent.points.length)],n=this.parent.points[Math.floor(.75*this.parent.points.length)]);const i=Math.min(e.x,n.x),a=Math.max(e.x,n.x),o=Math.min(e.y,n.y),s=(a-i)/2+i,u=(Math.max(e.y,n.y)-o)/2+o,l=this.testSize();return{x:s-t.left-l.width/2,y:u-t.top-l.height/2}}});t.shape.children.add(n)}}Ic.prototype.createLegend=function(){const t=this.createPoints();if(t&&t.length)for(let e in t){const r=t[e];if(!r)continue;const n=this.graph.utils.clone(r.style);n.fill=n.fill;const i=this.graph.createShape("rect",{style:n,position:{x:0,y:0}});this.graph.legend.append(this,i,{name:this.legendLabel,hover:function(){Object.assign(this.targetShape.style,this.targetShape.style.hover),Object.assign(this.style,this.style.hover)},leave:function(){Object.assign(this.targetShape.style,this.targetShape.style.normal),Object.assign(this.style,this.style.normal)},data:this.data[e]})}};class Nc extends Dc{constructor(t,e){e.style=e.style||e.graph.style.line,super(t,e)}init(){const{points:t,dataChanged:e}=this.initDataPoint(),r=t.length;this.style.stroke=this.style.color,this.style.item.stroke=this.style.color;const n=this.enableAnimate&&(e||this.___animateCounter>0);let i=[];const a=this.style.aniCount||10,o=Math.floor(r/a)||1;for(let e=0;e<r;e++){const r=t[e];if(void 0!==r.y&&null!==r.y){if(n&&e>this.___animateCounter)break;this.style.showItem&&this.createPointItem(r),this.style.curve?i=this.createCurePoints(i,r):"dotted"===this.style.lineType&&(i=this.createDotLine(i,r)),i.push(r),this.createItemLabel(r),this.emit("onPointCreated",r)}}this.___animateCounter>=r-1?this.___animateCounter=0:n&&(this.___animateCounter+=o,setTimeout((()=>{this.needUpdate=!0}))),this.points=i,this.createArea(i)}createPointItem(t){const e=this.graph.createShape("circle",{style:this.style.item,center:t,radius:this.style.radius||3});return e.zIndex=(e.style.zIndex||1)+1,this.addShape(e)}createCurePoints(t,e){const r=t[t.length-1];if(r&&null!=r.y&&null!=r.y){const n={x:r.x+(e.x-r.x)/5,y:r.y},i={x:r.x+(e.x-r.x)/2,y:e.y-(e.y-r.y)/2},a={x:e.x-(e.x-r.x)/5,y:e.y};this.__bezier=this.__bezier||this.graph.createShape("bezier"),this.__bezier.cpoints=[r,n,i,a,e];const o=this.__bezier.initPoints();t=t.concat(o)}return t}createDotLine(t,e){const r=t[t.length-1];if(r&&null!=r.y&&null!=r.y){this.__line=this.__line||this.graph.createShape("line",{style:this.style}),this.__line.start=r,this.__line.end=e;const n=this.__line.initPoints();t=t.concat(n)}return t}createLegend(){var t=this.graph.utils.clone(this.style);t.stroke=t.color;var e=this.graph.createShape("path",{style:t});if(this.curve||this.style.curve){var r={x:0,y:this.graph.style.legend.item.shape.height},n={x:this.graph.style.legend.item.shape.width/3,y:this.graph.style.legend.item.shape.height/3},i={x:this.graph.style.legend.item.shape.width/3*2,y:this.graph.style.legend.item.shape.height/3*2},a={x:this.graph.style.legend.item.shape.width,y:0};this.__bezier=this.__bezier||this.graph.createShape("bezier"),this.__bezier.cpoints=[r,n,i,a],e.points=this.__bezier.initPoints()}else e.points=[{x:0,y:this.graph.style.legend.item.shape.height/2},{x:this.graph.style.legend.item.shape.width,y:this.graph.style.legend.item.shape.height/2}];this.graph.legend.append(this,e)}createArea(t,e=!0){if(!this.style.area||t.length<2)return;const r=t[0],n=t[t.length-1],i=this.graph.utils.clone(this.style.area,{},!0);if(i.stroke=i.stroke||"transparent",i.fill)"function"==typeof i.fill&&(i.fill=i.fill.call(this,i));else{const t=this.graph.utils.hexToRGBA(this.style.stroke);i.fill=`linear-gradient(50% 0 50% 100%, \n\t\t\t\trgba(${t.r},${t.g},${t.b}, 0) 1,\n\t\t\t\trgba(${t.r},${t.g},${t.b}, 0.1) 0.7, \n\t\t\t\trgba(${t.r},${t.g},${t.b}, 0.3) 0)`}const a=this.graph.createShape("path",{points:this.graph.utils.clone(t,!0),style:i,width:this.graph.chartArea.width,height:this.graph.chartArea.height});e&&(a.points.unshift({x:r.x,y:this.baseY}),a.points.push({x:n.x,y:this.baseY})),this.addShape(a)}}class Fc extends Nc{constructor(t,e){e.style=e.style||e.graph.style.stackLine,super(t,e)}init(){const{points:t,dataChanged:e}=this.initDataPoint(),r=t.length;this.style.stroke=this.style.color,this.style.item.stroke=this.style.color;const n=this.enableAnimate&&(e||this.___animateCounter>0);let i=[],a=[];const o=this.style.aniCount||10,s=Math.floor(r/o)||1;for(let e=0;e<r;e++){const r=t[e];if(n&&e>this.___animateCounter)break;this.style.showItem&&(this.createPointItem(r.points[0]),this.createPointItem(r.points[1])),this.style.curve?(i=this.createCurePoints(i,r.points[0]),a=this.createCurePoints(a,r.points[1])):"dotted"===this.style.lineType&&(i=this.createDotLine(i,r.points[0]),a=this.createDotLine(a,r.points[1])),i.push(r.points[0]),a.push(r.points[1]),this.emit("onPointCreated",r)}this.___animateCounter>=r-1?this.___animateCounter=0:n&&(this.___animateCounter+=s,setTimeout((()=>{this.needUpdate=!0}))),a.length&&(a[0].m=!0),this.points=i.concat(a);const u=i.concat(a.reverse());(u[u.length-1]=this.graph.utils.clone(u[u.length-1])).m=!1,this.createArea(u,!1)}createLegend(){var t=this.graph.utils.clone(this.style);t.stroke=t.color;var e=this.graph.createShape("path",{style:t});if(this.curve||this.style.curve){var r={x:0,y:this.graph.style.legend.item.shape.height},n={x:this.graph.style.legend.item.shape.width/3,y:this.graph.style.legend.item.shape.height/3},i={x:this.graph.style.legend.item.shape.width/3*2,y:this.graph.style.legend.item.shape.height/3*2},a={x:this.graph.style.legend.item.shape.width,y:0};this.__bezier=this.__bezier||this.graph.createShape("bezier"),this.__bezier.cpoints=[r,n,i,a],e.points=this.__bezier.initPoints()}else e.points=[{x:0,y:this.graph.style.legend.item.shape.height/2},{x:this.graph.style.legend.item.shape.width,y:this.graph.style.legend.item.shape.height/2}];this.graph.legend.append(this,e)}}class Uc extends Dc{constructor(t,e){e.style=e.style||e.graph.style.line,super(t,e)}init(){const{points:t}=this.initDataPoint(),e=t.length;this.initWidth(e);const r=this.barWidth/2;for(let n=0;n<e;n++){const e=t[n];if(void 0===e.y||null===e.y)continue;const i=this.addShape(this.graph.createPath([],e.style)),a={x:e.x-r,y:e.points[0].y},o={x:e.x+r,y:e.points[0].y},s={x:e.x-r,y:e.points[1].y},u={x:e.x+r,y:e.points[1].y};let l=e.points[1],c=e.points[0];e.style.stroke=e.style.fill=e.style.masculineColor||"red",e.points[0].yValue>e.points[1].yValue&&(e.style.stroke=e.style.fill=e.style.negativeColor||"green",a.y=o.y=e.points[1].y,s.y=u.y=e.points[0].y,l=e.points[0],c=e.points[1]),i.points.push(e.points[2],l,s,a,c,e.points[3],c,o,u,l,e.points[2]),this.emit("onPointCreated",e)}}initWidth(t){const e=this.xAxis.width/t;this.style.barWidth>0?this.barWidth=Number(this.style.barWidth):this.barWidth=e*(this.style.perWidth||.4),this.barWidth>e&&(this.barWidth=e,this.barTotalWidth=e*t)}}class Bc extends jmLine{constructor(t){super(t),this.visible=!1,this.markLineType=t.type||"x",this.shapes=new jmList}init(){if(this.visible&&"y"===this.markLineType){let t;for(;t=this.shapes.shift();)t&&t.remove();this.changeTouchPoint()}}changeTouchPoint(){if("y"===this.markLineType){const t=[];let e=!1;const r=this.graph.chartGraph||this.graph,n=r!==this.graph;try{const i=n?this.start.x-r.chartArea.position.x:this.start.x;for(const a of r.series){if(!a.getDataPointByX)continue;const o=a.getDataPointByX(i);if(o){this.start.x=this.end.x=n?o.x+r.chartArea.position.x:o.x;for(const t of o.points)this.markArc=r.createShape("circle",{style:this.style,radius:(this.style.radius||5)*this.graph.devicePixelRatio}),this.markArc.center.y=t.y,this.children.add(this.markArc),this.shapes.add(this.markArc);e||a.lastMarkPoint&&a.lastMarkPoint.x==o.x||(e=!0),t.push(o),a.lastMarkPoint=o,r&&r.markLine&&r.markLine.xMarkLine&&(r.markLine.xMarkLine.start.y=r.markLine.xMarkLine.end.y=n?o.y+r.chartArea.position.y:o.y)}}}catch(t){console.error(t)}e&&setTimeout((()=>{r.emit("touchPointChange",{points:t})}),10)}}move(t){this.visible&&"x"===this.markLineType&&(this.graph.chartGraph?(t.position.y<=this.graph.chartGraph.chartArea.position.y?this.start.y=this.end.y=this.graph.chartGraph.chartArea.position.y:t.position.y>this.graph.chartGraph.chartArea.height+this.graph.chartGraph.chartArea.position.y?this.start.y=this.end.y=this.graph.chartGraph.chartArea.height+this.graph.chartGraph.chartArea.position.y:this.start.y=this.end.y=t.position.y,this.start.x=this.graph.chartGraph.chartArea.position.x,this.end.x=this.start.x+this.graph.chartGraph.chartArea.width):(t.position.y<=this.graph.chartArea.position.y?this.start.y=this.end.y=0:t.position.y>this.graph.chartArea.height+this.graph.chartArea.position.y?this.start.y=this.end.y=this.graph.chartArea.height:this.start.y=this.end.y=t.position.y-this.graph.chartArea.position.y,this.start.x=0,this.end.x=this.graph.chartArea.width),this.needUpdate=!0),this.visible&&"y"===this.markLineType&&(this.graph.chartGraph?(t.position.x<this.graph.chartGraph.chartArea.position.x?this.start.x=this.end.x=this.graph.chartGraph.chartArea.position.x:t.position.x>this.graph.chartGraph.chartArea.width+this.graph.chartGraph.chartArea.position.x?this.start.x=this.end.x=this.graph.chartGraph.chartArea.width+this.graph.chartGraph.chartArea.position.x:this.start.x=this.end.x=t.position.x,this.start.y=this.graph.chartGraph.chartArea.position.y,this.end.y=this.start.y+this.graph.chartGraph.chartArea.height):(t.position.x<this.graph.chartArea.position.x?this.start.x=this.end.x=0:t.position.x>this.graph.chartArea.width+this.graph.chartArea.position.x?this.start.x=this.end.x=this.graph.chartArea.width:this.start.x=this.end.x=t.position.x-this.graph.chartArea.position.x,this.start.y=0,this.end.y=this.graph.chartArea.height),this.needUpdate=!0)}cancel(){this.visible=!1,this.needUpdate=!0}}class Vc{constructor(t){this.chart=t,this.init(t)}init(t){const e=t.touchGraph||t;if(e.on("beginDraw",(()=>{this.xMarkLine&&this.xMarkLine.init(),this.yMarkLine&&this.yMarkLine.init()})),t.style.markLine){if(t.style.markLine&&t.style.markLine.x){this.xMarkLine=e.createShape(Bc,{type:"x",style:t.style.markLine});(e.chartArea||e).children.add(this.xMarkLine)}if(t.style.markLine&&t.style.markLine.y){this.yMarkLine=e.createShape(Bc,{type:"y",style:t.style.markLine});(e.chartArea||e).children.add(this.yMarkLine)}let r=0,n=0,i={x:0,y:0};e.on("mousedown touchstart",(a=>{if(t.style.markLine.longtap){r=1,n&&e.utils.cancelAnimationFrame(n);let i=Date.now();const o=()=>{const s=Date.now()-i;if(1===r||2===r){if(s<500)return void(n=e.utils.requestAnimationFrame(o));r=2,this.startMove(a),t.emit("marklinelongtapstart",a)}};n=e.utils.requestAnimationFrame(o),a.event.preventDefault()}else this.startMove(a);a.longtap=r,i=a.position})),e.on("mousemove touchmove",(t=>{const e=t.position.x-i.x,n=t.position.y-i.y,a=Math.sqrt(e*e+n*n);1===r&&a>15&&(r=0),t.longtap=r,this.move(t)})),e.on("mouseup touchend touchcancel touchleave",(t=>{r=0,this.endMove(t)}))}}startMove(t,e="xy"){this.xMarkLine&&e.includes("x")&&(this.xMarkLine.visible=!0,this.xMarkLine.move(t)),this.yMarkLine&&e.includes("y")&&(this.yMarkLine.visible=!0,this.yMarkLine.move(t)),t.cancel||this.chart.emit("marklinestartmove",t)}move(t){let e=!1;this.xMarkLine&&this.xMarkLine.visible&&(this.xMarkLine.move(t),e=!0),this.yMarkLine&&this.yMarkLine.visible&&(this.yMarkLine.move(t),e=!0),e&&(t.event.stopPropagation(),t.event.preventDefault(),t.cancel||this.chart.emit("marklinemove",t))}endMove(t){this.xMarkLine&&this.xMarkLine.visible&&this.xMarkLine.cancel(t),this.yMarkLine&&this.yMarkLine.visible&&this.yMarkLine.cancel(t),t.cancel||this.chart.emit("marklineendmove",t)}}const{Scene:zc,Sprite:Gc}=Tc;class Hc{constructor(e,r){t(this,"data",[]),t(this,"series",new jmList);const n=!!(r=r||{}).enableAnimate;r.autoRefresh=void 0===r.autoRefresh?n:r.autoRefresh,n&&!r.autoRefresh&&console.warn(""),r.style=jmUtils.clone(Oc,r.style,!0);const i={container:e};r.width&&(i.width=r.width),r.height&&(i.height=r.height),this.scene=new zc(i),this.enableAnimate=n,this.data=r.data||[],this.xField=r.xField||"",this.bgLayer=scene.layer({handleEvent:!1}),this.fgLayer=scene.layer({handleEvent:!0}),this.init(r),this.createTouchGraph(this.scene,r)}get enableAnimate(){return void 0!==this.option.enableAnimate&&!!this.option.enableAnimate}set enableAnimate(t){this.option.enableAnimate=t}get baseY(){return this.option.baseY}set baseY(t){this.option.baseY=t}init(t){this.chartArea||(this.chartArea=this.createShape("rect",{style:this.style.chartArea,position:{x:0,y:0}}),this.children.add(this.chartArea)),this.legend=this.legend||new Lc(this,{style:this.style.legend,visible:!1!==t.legendVisible}),this.markLine=new Vc(this),this.createXAxis()}reset(){let t;for(;t=this.series.shift();)t.remove();if(this.xAxis&&(this.xAxis.remove(),delete this.xAxis),this.yAxises){for(let t in this.yAxises)this.yAxises[t].remove();delete this.yAxises}}getColor(t){return t>=this.style.chartColors.length&&(t=Math.floor((t-1)/this.style.chartColors.length)),this.style.chartColors[t]}beginDraw(){if(this.legend&&this.legend.init(),this.resetAreaPosition(),this.xAxis&&this.xAxis.clear(),this.yAxises)for(let t in this.yAxises)this.yAxises[t].clear();if(this.barSeriesCount=0,this.series.each(((t,e)=>{e.style.color||(e.style.color=this.getColor(t)),"inside"!=this.style.layout&&e instanceof qc&&(this.style.layout="inside"),e instanceof qc&&(e.barIndex=this.barSeriesCount,this.barSeriesCount++),e.reset()})),this.legend&&this.legend.reset(),this.yAxises)for(var t in this.yAxises)this.yAxises[t].reset();this.xAxis&&this.xAxis.reset(),this.series.each((function(t,e){e.init&&e.init()}))}resetAreaPosition(){this.chartArea.position.x=this.style.margin.left||0,this.chartArea.position.y=this.style.margin.top||0;const t=this.width-this.style.margin.right-this.chartArea.x,e=this.height-this.style.margin.bottom-this.chartArea.y;this.chartArea.attr({width:t,height:e})}createAxis(t){t.style=t.style?this.utils.clone(this.style.axis,t.style,!0):this.style.axis;const e=new Cc(this,t);return void 0!==t.visible&&(e.visible=t.visible),e}createXAxis(t){return this.xAxis||(t=Object.assign({field:this.xField,type:"x",visible:!1!==this.style.axis.x,format:this.option.xLabelFormat,...this.option.yAxisOption},t||{}),void 0!==this.option.minXValue&&(t.minXValue=void 0===t.minXValue?this.option.minXValue:Math.min(this.option.minXValue,t.minXValue)),void 0!==this.option.maxXValue&&(t.maxXValue=void 0===t.maxXValue?this.option.maxXValue:Math.max(this.option.maxXValue,t.maxXValue)),this.xAxis=this.createAxis(t)),this.xAxis}createYAxis(t){return this.yAxises||(this.yAxises={}),t=Object.assign({index:1,type:"y",visible:!1!==this.style.axis.y,format:this.option.yLabelFormat,zeroBase:0===this.baseY,...this.option.xAxisOption},t||{}),void 0!==this.option.minYValue&&(t.minYValue=void 0===t.minYValue?this.option.minYValue:Math.min(this.option.minYValue,t.minYValue)),void 0!==this.option.maxYValue&&(t.maxYValue=void 0===t.maxYValue?this.option.maxYValue:Math.max(this.option.maxYValue,t.maxYValue)),this.yAxises[t.index]||(this.yAxises[t.index]=this.createAxis(t))}createSeries(t,e={}){this.serieTypes||(this.serieTypes={line:Nc,bar:qc,stackBar:jc,pie:Ic,stackLine:Fc,candlestick:Uc});const r=this.style[t]||this.style.line;e.style=this.utils.clone(r,e.style,!0),"string"==typeof t&&(t=this.serieTypes[t]);const n=new t(this,e);return n&&this.series.add(n),n}}var Yc={props:{chartData:Array,chartOptions:Object,chartSeries:Array,width:{type:String,default:200},height:{type:String,default:200}},data:function(){return{option:this.chartOptions}},chartInstance:null,mounted(){this.option=Object.assign({enableAnimate:!1,legendPosition:"top",legendVisible:!0,width:this.width,height:this.height},this.chartOptions),this.initChart()},updated(){this.initChart()},destroyed(){this.chartInstance&&this.chartInstance.destory(),this.chartInstance&&this.chartInstance.touchGraph&&this.chartInstance.touchGraph.destory()},watch:{chartData:function(t,e){this.refresh()},width:function(t,e){this.chartInstance&&this.$nextTick((()=>{this.chartInstance&&this.$refs.jmChartContainer&&(this.chartInstance.width=this.$refs.jmChartContainer.clientWidth||this.$refs.jmChartContainer.offsetWidth)}))},height:function(t,e){this.chartInstance&&this.$nextTick((()=>{this.chartInstance&&this.$refs.jmChartContainer&&(this.chartInstance.height=this.$refs.jmChartContainer.clientHeight||this.$refs.jmChartContainer.offsetHeight)}))}},methods:{initChart(){this.chartInstance||(this.chartInstance=new Hc(this.$refs.jmChartContainer,this.option),this.chartData&&this.chartData.length&&this.refresh(),this.chartInstance.bind("touchPointChange",(t=>{this.$emit("touch-point-change",t)})),this.chartInstance.touchGraph.bind("touchstart mousedown",(t=>{this.$emit("touchstart",t),this.$emit("mousedown",t)})),this.chartInstance.touchGraph.bind("touchmove mousemove",(t=>{this.$emit("touchmove",t),this.$emit("mousemove",t)})),this.chartInstance.touchGraph.bind("touchend touchcancel mouseup",(t=>{this.$emit("touchend",t),this.$emit("mouseup",t)})),this.chartInstance.touchGraph.bind("touchleave",(t=>{this.$emit("touchleave",t)})))},refresh(){this.$nextTick((()=>{if(this.initChart(),this.chartInstance.reset(),this.chartSeries.length)for(let t of this.chartSeries)t.type?this.chartInstance.createSeries(t.type,t):console.error("serie type");this.chartInstance.data=this.chartData,this.chartInstance.refresh()}))}},template:'<div ref="jmChartContainer" :style="{width: width, height: height}"></div>'};export{Hc as default,Hc as jmChart,Yc as vChart};
